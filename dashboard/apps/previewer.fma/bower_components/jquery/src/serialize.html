<!DOCTYPE html><html lang="en"><head><title>dashboard/apps/previewer.fma/bower_components/jquery/src/serialize</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../../../../"><meta name="groc-document-path" content="dashboard/apps/previewer.fma/bower_components/jquery/src/serialize"><meta name="groc-project-path" content="dashboard/apps/previewer.fma/bower_components/jquery/src/serialize.js"><link rel="stylesheet" type="text/css" media="all" href="../../../../../../assets/style.css"><script type="text/javascript" src="../../../../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path">dashboard/apps/previewer.fma/bower_components/jquery/src/serialize.js</div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper">define([
	<span class="hljs-string">"./core"</span>,
	<span class="hljs-string">"./manipulation/var/rcheckableType"</span>,
	<span class="hljs-string">"./core/init"</span>,
	<span class="hljs-string">"./traversing"</span>, <span class="hljs-comment">// filter</span>
	<span class="hljs-string">"./attributes/prop"</span>
], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> jQuery, rcheckableType </span>) </span>{

<span class="hljs-keyword">var</span> r20 = <span class="hljs-regexp">/%20/g</span>,
	rbracket = <span class="hljs-regexp">/\[\]$/</span>,
	rCRLF = <span class="hljs-regexp">/\r?\n/g</span>,
	rsubmitterTypes = <span class="hljs-regexp">/^(?:submit|button|image|reset|file)$/i</span>,
	rsubmittable = <span class="hljs-regexp">/^(?:input|select|textarea|keygen)/i</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildParams</span>(<span class="hljs-params"> prefix, obj, traditional, add </span>) </span>{
	<span class="hljs-keyword">var</span> name;

	<span class="hljs-keyword">if</span> ( jQuery.isArray( obj ) ) {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Serialize array item.</p></div></div><div class="code"><div class="wrapper">		jQuery.each( obj, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> i, v </span>) </span>{
			<span class="hljs-keyword">if</span> ( traditional || rbracket.test( prefix ) ) {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Treat each array item as a scalar.</p></div></div><div class="code"><div class="wrapper">				add( prefix, v );

			} <span class="hljs-keyword">else</span> {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Item is non-scalar (array or object), encode its numeric index.</p></div></div><div class="code"><div class="wrapper">				buildParams( prefix + <span class="hljs-string">"["</span> + ( <span class="hljs-keyword">typeof</span> v === <span class="hljs-string">"object"</span> ? i : <span class="hljs-string">""</span> ) + <span class="hljs-string">"]"</span>, v, traditional, add );
			}
		});

	} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( !traditional &amp;&amp; jQuery.type( obj ) === <span class="hljs-string">"object"</span> ) {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Serialize object item.</p></div></div><div class="code"><div class="wrapper">		<span class="hljs-keyword">for</span> ( name <span class="hljs-keyword">in</span> obj ) {
			buildParams( prefix + <span class="hljs-string">"["</span> + name + <span class="hljs-string">"]"</span>, obj[ name ], traditional, add );
		}

	} <span class="hljs-keyword">else</span> {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Serialize scalar item.</p></div></div><div class="code"><div class="wrapper">		add( prefix, obj );
	}
}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Serialize an array of form elements or a set of
key/values into a query string</p></div></div><div class="code"><div class="wrapper">jQuery.param = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> a, traditional </span>) </span>{
	<span class="hljs-keyword">var</span> prefix,
		s = [],
		add = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> key, value </span>) </span>{</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>If value is a function, invoke it and return its value</p></div></div><div class="code"><div class="wrapper">			value = jQuery.isFunction( value ) ? value() : ( value == <span class="hljs-literal">null</span> ? <span class="hljs-string">""</span> : value );
			s[ s.length ] = <span class="hljs-built_in">encodeURIComponent</span>( key ) + <span class="hljs-string">"="</span> + <span class="hljs-built_in">encodeURIComponent</span>( value );
		};</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Set traditional to true for jQuery &lt;= 1.3.2 behavior.</p></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">if</span> ( traditional === <span class="hljs-literal">undefined</span> ) {
		traditional = jQuery.ajaxSettings &amp;&amp; jQuery.ajaxSettings.traditional;
	}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>If an array was passed in, assume that it is an array of form elements.</p></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">if</span> ( jQuery.isArray( a ) || ( a.jquery &amp;&amp; !jQuery.isPlainObject( a ) ) ) {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Serialize the form elements</p></div></div><div class="code"><div class="wrapper">		jQuery.each( a, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
			add( <span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.value );
		});

	} <span class="hljs-keyword">else</span> {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>If traditional, encode the &quot;old&quot; way (the way 1.3.2 or older
did it), otherwise encode params recursively.</p></div></div><div class="code"><div class="wrapper">		<span class="hljs-keyword">for</span> ( prefix <span class="hljs-keyword">in</span> a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Return the resulting serialization</p></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">return</span> s.join( <span class="hljs-string">"&amp;"</span> ).replace( r20, <span class="hljs-string">"+"</span> );
};

jQuery.fn.extend({
	serialize: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">return</span> jQuery.param( <span class="hljs-keyword">this</span>.serializeArray() );
	},
	serializeArray: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Can add propHook for &quot;elements&quot; to filter or add form elements</p></div></div><div class="code"><div class="wrapper">			<span class="hljs-keyword">var</span> elements = jQuery.prop( <span class="hljs-keyword">this</span>, <span class="hljs-string">"elements"</span> );
			<span class="hljs-keyword">return</span> elements ? jQuery.makeArray( elements ) : <span class="hljs-keyword">this</span>;
		})
		.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
			<span class="hljs-keyword">var</span> type = <span class="hljs-keyword">this</span>.type;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Use .is( &quot;:disabled&quot; ) so that fieldset[disabled] works</p></div></div><div class="code"><div class="wrapper">			<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name &amp;&amp; !jQuery( <span class="hljs-keyword">this</span> ).is( <span class="hljs-string">":disabled"</span> ) &amp;&amp;
				rsubmittable.test( <span class="hljs-keyword">this</span>.nodeName ) &amp;&amp; !rsubmitterTypes.test( type ) &amp;&amp;
				( <span class="hljs-keyword">this</span>.checked || !rcheckableType.test( type ) );
		})
		.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> i, elem </span>) </span>{
			<span class="hljs-keyword">var</span> val = jQuery( <span class="hljs-keyword">this</span> ).val();

			<span class="hljs-keyword">return</span> val == <span class="hljs-literal">null</span> ?
				<span class="hljs-literal">null</span> :
				jQuery.isArray( val ) ?
					jQuery.map( val, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> val </span>) </span>{
						<span class="hljs-keyword">return</span> { name: elem.name, value: val.replace( rCRLF, <span class="hljs-string">"\r\n"</span> ) };
					}) :
					{ name: elem.name, value: val.replace( rCRLF, <span class="hljs-string">"\r\n"</span> ) };
		}).get();
	}
});

<span class="hljs-keyword">return</span> jQuery;
});</div></div></div></div></body></html>
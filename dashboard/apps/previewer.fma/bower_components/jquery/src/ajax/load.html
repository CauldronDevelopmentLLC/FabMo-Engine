<!DOCTYPE html><html lang="en"><head><title>dashboard/apps/previewer.fma/bower_components/jquery/src/ajax/load</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../../../../../"><meta name="groc-document-path" content="dashboard/apps/previewer.fma/bower_components/jquery/src/ajax/load"><meta name="groc-project-path" content="dashboard/apps/previewer.fma/bower_components/jquery/src/ajax/load.js"><link rel="stylesheet" type="text/css" media="all" href="../../../../../../../assets/style.css"><script type="text/javascript" src="../../../../../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path">dashboard/apps/previewer.fma/bower_components/jquery/src/ajax/load.js</div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper">define([
	<span class="hljs-string">"../core"</span>,
	<span class="hljs-string">"../core/parseHTML"</span>,
	<span class="hljs-string">"../ajax"</span>,
	<span class="hljs-string">"../traversing"</span>,
	<span class="hljs-string">"../manipulation"</span>,
	<span class="hljs-string">"../selector"</span>,</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Optional event/alias dependency</p></div></div><div class="code"><div class="wrapper">	<span class="hljs-string">"../event/alias"</span>
], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> jQuery </span>) </span>{</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Keep a copy of the old load method</p></div></div><div class="code"><div class="wrapper"><span class="hljs-keyword">var</span> _load = jQuery.fn.load;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Load a url into a page</p></div></div><div class="code"><div class="wrapper">jQuery.fn.load = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> url, params, callback </span>) </span>{
	<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">typeof</span> url !== <span class="hljs-string">"string"</span> &amp;&amp; _load ) {
		<span class="hljs-keyword">return</span> _load.apply( <span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span> );
	}

	<span class="hljs-keyword">var</span> selector, type, response,
		self = <span class="hljs-keyword">this</span>,
		off = url.indexOf(<span class="hljs-string">" "</span>);

	<span class="hljs-keyword">if</span> ( off &gt;= <span class="hljs-number">0</span> ) {
		selector = jQuery.trim( url.slice( off ) );
		url = url.slice( <span class="hljs-number">0</span>, off );
	}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>If it&#39;s a function</p></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">if</span> ( jQuery.isFunction( params ) ) {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>We assume that it&#39;s the callback</p></div></div><div class="code"><div class="wrapper">		callback = params;
		params = <span class="hljs-literal">undefined</span>;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Otherwise, build a param string</p></div></div><div class="code"><div class="wrapper">	} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( params &amp;&amp; <span class="hljs-keyword">typeof</span> params === <span class="hljs-string">"object"</span> ) {
		type = <span class="hljs-string">"POST"</span>;
	}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>If we have elements to modify, make the request</p></div></div><div class="code"><div class="wrapper">	<span class="hljs-keyword">if</span> ( self.length &gt; <span class="hljs-number">0</span> ) {
		jQuery.ajax({
			url: url,</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>if &quot;type&quot; variable is undefined, then &quot;GET&quot; method will be used</p></div></div><div class="code"><div class="wrapper">			type: type,
			dataType: <span class="hljs-string">"html"</span>,
			data: params
		}).done(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> responseText </span>) </span>{</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Save response for use in complete callback</p></div></div><div class="code"><div class="wrapper">			response = <span class="hljs-built_in">arguments</span>;

			self.html( selector ?</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>If a selector was specified, locate the right elements in a dummy div
Exclude scripts to avoid IE &#39;Permission Denied&#39; errors</p></div></div><div class="code"><div class="wrapper">				jQuery(<span class="hljs-string">"&lt;div&gt;"</span>).append( jQuery.parseHTML( responseText ) ).find( selector ) :</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Otherwise use the full result</p></div></div><div class="code"><div class="wrapper">				responseText );

		}).complete( callback &amp;&amp; <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> jqXHR, status </span>) </span>{
			self.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );
		});
	}

	<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};

});</div></div></div></div></body></html>
<!DOCTYPE html><html lang="en"><head><title>dashboard/apps/previewer.fma/bower_components/jquery/src/offset</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../../../../"><meta name="groc-document-path" content="dashboard/apps/previewer.fma/bower_components/jquery/src/offset"><meta name="groc-project-path" content="dashboard/apps/previewer.fma/bower_components/jquery/src/offset.js"><link rel="stylesheet" type="text/css" media="all" href="../../../../../../assets/style.css"><script type="text/javascript" src="../../../../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path">dashboard/apps/previewer.fma/bower_components/jquery/src/offset.js</div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper">define([
	<span class="hljs-string">"./core"</span>,
	<span class="hljs-string">"./var/strundefined"</span>,
	<span class="hljs-string">"./core/access"</span>,
	<span class="hljs-string">"./css/var/rnumnonpx"</span>,
	<span class="hljs-string">"./css/curCSS"</span>,
	<span class="hljs-string">"./css/addGetHookIf"</span>,
	<span class="hljs-string">"./css/support"</span>,

	<span class="hljs-string">"./core/init"</span>,
	<span class="hljs-string">"./css"</span>,
	<span class="hljs-string">"./selector"</span> <span class="hljs-comment">// contains</span>
], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> jQuery, strundefined, access, rnumnonpx, curCSS, addGetHookIf, support </span>) </span>{

<span class="hljs-keyword">var</span> docElem = <span class="hljs-built_in">window</span>.document.documentElement;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Gets a window from an element</p></div></div><div class="code"><div class="wrapper"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getWindow</span>(<span class="hljs-params"> elem </span>) </span>{
	<span class="hljs-keyword">return</span> jQuery.isWindow( elem ) ? elem : elem.nodeType === <span class="hljs-number">9</span> &amp;&amp; elem.defaultView;
}

jQuery.offset = {
	setOffset: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> elem, options, i </span>) </span>{
		<span class="hljs-keyword">var</span> curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, <span class="hljs-string">"position"</span> ),
			curElem = jQuery( elem ),
			props = {};</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Set position first, in-case top/left are set even on static elem</p></div></div><div class="code"><div class="wrapper">		<span class="hljs-keyword">if</span> ( position === <span class="hljs-string">"static"</span> ) {
			elem.style.position = <span class="hljs-string">"relative"</span>;
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, <span class="hljs-string">"top"</span> );
		curCSSLeft = jQuery.css( elem, <span class="hljs-string">"left"</span> );
		calculatePosition = ( position === <span class="hljs-string">"absolute"</span> || position === <span class="hljs-string">"fixed"</span> ) &amp;&amp;
			( curCSSTop + curCSSLeft ).indexOf(<span class="hljs-string">"auto"</span>) &gt; -<span class="hljs-number">1</span>;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Need to be able to calculate position if either
top or left is auto and position is either absolute or fixed</p></div></div><div class="code"><div class="wrapper">		<span class="hljs-keyword">if</span> ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;

		} <span class="hljs-keyword">else</span> {
			curTop = <span class="hljs-built_in">parseFloat</span>( curCSSTop ) || <span class="hljs-number">0</span>;
			curLeft = <span class="hljs-built_in">parseFloat</span>( curCSSLeft ) || <span class="hljs-number">0</span>;
		}

		<span class="hljs-keyword">if</span> ( jQuery.isFunction( options ) ) {
			options = options.call( elem, i, curOffset );
		}

		<span class="hljs-keyword">if</span> ( options.top != <span class="hljs-literal">null</span> ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		<span class="hljs-keyword">if</span> ( options.left != <span class="hljs-literal">null</span> ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		<span class="hljs-keyword">if</span> ( <span class="hljs-string">"using"</span> <span class="hljs-keyword">in</span> options ) {
			options.using.call( elem, props );

		} <span class="hljs-keyword">else</span> {
			curElem.css( props );
		}
	}
};

jQuery.fn.extend({
	offset: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> options </span>) </span>{
		<span class="hljs-keyword">if</span> ( <span class="hljs-built_in">arguments</span>.length ) {
			<span class="hljs-keyword">return</span> options === <span class="hljs-literal">undefined</span> ?
				<span class="hljs-keyword">this</span> :
				<span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> i </span>) </span>{
					jQuery.offset.setOffset( <span class="hljs-keyword">this</span>, options, i );
				});
		}

		<span class="hljs-keyword">var</span> docElem, win,
			elem = <span class="hljs-keyword">this</span>[ <span class="hljs-number">0</span> ],
			box = { top: <span class="hljs-number">0</span>, left: <span class="hljs-number">0</span> },
			doc = elem &amp;&amp; elem.ownerDocument;

		<span class="hljs-keyword">if</span> ( !doc ) {
			<span class="hljs-keyword">return</span>;
		}

		docElem = doc.documentElement;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Make sure it&#39;s not a disconnected DOM node</p></div></div><div class="code"><div class="wrapper">		<span class="hljs-keyword">if</span> ( !jQuery.contains( docElem, elem ) ) {
			<span class="hljs-keyword">return</span> box;
		}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Support: BlackBerry 5, iOS 3 (original iPhone)
If we don&#39;t have gBCR, just use 0,0 rather than error</p></div></div><div class="code"><div class="wrapper">		<span class="hljs-keyword">if</span> ( <span class="hljs-keyword">typeof</span> elem.getBoundingClientRect !== strundefined ) {
			box = elem.getBoundingClientRect();
		}
		win = getWindow( doc );
		<span class="hljs-keyword">return</span> {
			top: box.top + win.pageYOffset - docElem.clientTop,
			left: box.left + win.pageXOffset - docElem.clientLeft
		};
	},

	position: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">if</span> ( !<span class="hljs-keyword">this</span>[ <span class="hljs-number">0</span> ] ) {
			<span class="hljs-keyword">return</span>;
		}

		<span class="hljs-keyword">var</span> offsetParent, offset,
			elem = <span class="hljs-keyword">this</span>[ <span class="hljs-number">0</span> ],
			parentOffset = { top: <span class="hljs-number">0</span>, left: <span class="hljs-number">0</span> };</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is its only offset parent</p></div></div><div class="code"><div class="wrapper">		<span class="hljs-keyword">if</span> ( jQuery.css( elem, <span class="hljs-string">"position"</span> ) === <span class="hljs-string">"fixed"</span> ) {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Assume getBoundingClientRect is there when computed position is fixed</p></div></div><div class="code"><div class="wrapper">			offset = elem.getBoundingClientRect();

		} <span class="hljs-keyword">else</span> {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Get <em>real</em> offsetParent</p></div></div><div class="code"><div class="wrapper">			offsetParent = <span class="hljs-keyword">this</span>.offsetParent();</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Get correct offsets</p></div></div><div class="code"><div class="wrapper">			offset = <span class="hljs-keyword">this</span>.offset();
			<span class="hljs-keyword">if</span> ( !jQuery.nodeName( offsetParent[ <span class="hljs-number">0</span> ], <span class="hljs-string">"html"</span> ) ) {
				parentOffset = offsetParent.offset();
			}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Add offsetParent borders</p></div></div><div class="code"><div class="wrapper">			parentOffset.top += jQuery.css( offsetParent[ <span class="hljs-number">0</span> ], <span class="hljs-string">"borderTopWidth"</span>, <span class="hljs-literal">true</span> );
			parentOffset.left += jQuery.css( offsetParent[ <span class="hljs-number">0</span> ], <span class="hljs-string">"borderLeftWidth"</span>, <span class="hljs-literal">true</span> );
		}</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Subtract parent offsets and element margins</p></div></div><div class="code"><div class="wrapper">		<span class="hljs-keyword">return</span> {
			top: offset.top - parentOffset.top - jQuery.css( elem, <span class="hljs-string">"marginTop"</span>, <span class="hljs-literal">true</span> ),
			left: offset.left - parentOffset.left - jQuery.css( elem, <span class="hljs-string">"marginLeft"</span>, <span class="hljs-literal">true</span> )
		};
	},

	offsetParent: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
			<span class="hljs-keyword">var</span> offsetParent = <span class="hljs-keyword">this</span>.offsetParent || docElem;

			<span class="hljs-keyword">while</span> ( offsetParent &amp;&amp; ( !jQuery.nodeName( offsetParent, <span class="hljs-string">"html"</span> ) &amp;&amp; jQuery.css( offsetParent, <span class="hljs-string">"position"</span> ) === <span class="hljs-string">"static"</span> ) ) {
				offsetParent = offsetParent.offsetParent;
			}

			<span class="hljs-keyword">return</span> offsetParent || docElem;
		});
	}
});</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Create scrollLeft and scrollTop methods</p></div></div><div class="code"><div class="wrapper">jQuery.each( { scrollLeft: <span class="hljs-string">"pageXOffset"</span>, scrollTop: <span class="hljs-string">"pageYOffset"</span> }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> method, prop </span>) </span>{
	<span class="hljs-keyword">var</span> top = <span class="hljs-string">"pageYOffset"</span> === prop;

	jQuery.fn[ method ] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> val </span>) </span>{
		<span class="hljs-keyword">return</span> access( <span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> elem, method, val </span>) </span>{
			<span class="hljs-keyword">var</span> win = getWindow( elem );

			<span class="hljs-keyword">if</span> ( val === <span class="hljs-literal">undefined</span> ) {
				<span class="hljs-keyword">return</span> win ? win[ prop ] : elem[ method ];
			}

			<span class="hljs-keyword">if</span> ( win ) {
				win.scrollTo(
					!top ? val : <span class="hljs-built_in">window</span>.pageXOffset,
					top ? val : <span class="hljs-built_in">window</span>.pageYOffset
				);

			} <span class="hljs-keyword">else</span> {
				elem[ method ] = val;
			}
		}, method, val, <span class="hljs-built_in">arguments</span>.length, <span class="hljs-literal">null</span> );
	};
});</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Support: Safari&lt;7+, Chrome&lt;37+
Add the top/left cssHooks using jQuery.fn.position
Webkit bug: <a href="https://bugs.webkit.org/show_bug.cgi?id=29084">https://bugs.webkit.org/show_bug.cgi?id=29084</a>
Blink bug: <a href="https://code.google.com/p/chromium/issues/detail?id=229280">https://code.google.com/p/chromium/issues/detail?id=229280</a>
getComputedStyle returns percent when specified for top/left/bottom/right;
rather than make the css module depend on the offset module, just check for it here</p></div></div><div class="code"><div class="wrapper">jQuery.each( [ <span class="hljs-string">"top"</span>, <span class="hljs-string">"left"</span> ], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> i, prop </span>) </span>{
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> elem, computed </span>) </span>{
			<span class="hljs-keyword">if</span> ( computed ) {
				computed = curCSS( elem, prop );</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>If curCSS returns percentage, fallback to offset</p></div></div><div class="code"><div class="wrapper">				<span class="hljs-keyword">return</span> rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + <span class="hljs-string">"px"</span> :
					computed;
			}
		}
	);
});

<span class="hljs-keyword">return</span> jQuery;
});</div></div></div></div></body></html>
<!DOCTYPE html><html lang="en"><head><title>dashboard/apps/selftest.fma/js/selftest</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../../"><meta name="groc-document-path" content="dashboard/apps/selftest.fma/js/selftest"><meta name="groc-project-path" content="dashboard/apps/selftest.fma/js/selftest.js"><link rel="stylesheet" type="text/css" media="all" href="../../../../assets/style.css"><script type="text/javascript" src="../../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path">dashboard/apps/selftest.fma/js/selftest.js</div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper"><span class="hljs-built_in">require</span>(<span class="hljs-string">'jquery'</span>);
<span class="hljs-keyword">var</span> Fabmo = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../../../static/js/libs/fabmo.js'</span>);
<span class="hljs-keyword">var</span> fabmo = <span class="hljs-keyword">new</span> Fabmo;

$(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
	$(<span class="hljs-string">'#submitSingleString'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>)</span>{
		evt.preventDefault();
		<span class="hljs-built_in">console</span>.info(<span class="hljs-string">"Submitting a single string"</span>)
		fabmo.submitJob({file : <span class="hljs-string">"G0 X1"</span>, filename : <span class="hljs-string">'myfile.nc'</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, result</span>) </span>{
			<span class="hljs-keyword">if</span>(err) {
				fabmo.notify(<span class="hljs-string">'error'</span>, err);
			}
			<span class="hljs-keyword">else</span> {
				fabmo.notify(<span class="hljs-string">'Success'</span>);
			}
		});
	});

	$(<span class="hljs-string">'#submitArrayOfStrings'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>)</span>{
		evt.preventDefault();
		<span class="hljs-built_in">console</span>.info(<span class="hljs-string">"Submitting an array of strings"</span>)
		fabmo.submitJob([
			{file : <span class="hljs-string">"G0 X1"</span>, filename : <span class="hljs-string">"ex_one.nc"</span>},
			{file : <span class="hljs-string">"G0 Y1"</span>, filename : <span class="hljs-string">"wye_one.nc"</span>},
			{file : <span class="hljs-string">"G0 Z1"</span>, filename : <span class="hljs-string">"zee_one.nc"</span>}
			], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, result</span>) </span>{

		});
	});

	$(<span class="hljs-string">'#submitSingleObject'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>)</span>{
		evt.preventDefault();
		fabmo.submitJob({
			filename : <span class="hljs-string">'job1.nc'</span>,
			file : <span class="hljs-string">'G0 X1'</span>,
			name : <span class="hljs-string">'Job 1'</span>,
			description : <span class="hljs-string">"Job 1"</span>
		});
	});

	$(<span class="hljs-string">'#submitJobStayHere'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>)</span>{
		evt.preventDefault();
		fabmo.submitJob({
			filename : <span class="hljs-string">'job1.nc'</span>,
			file : <span class="hljs-string">'G0 X1'</span>,
			name : <span class="hljs-string">'Job 1'</span>,
			description : <span class="hljs-string">"Job 1"</span>
		}, {stayHere : <span class="hljs-literal">true</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, result</span>) </span>{ {
			<span class="hljs-keyword">if</span>(err) { <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.error(err); }
			<span class="hljs-built_in">console</span>.info(<span class="hljs-string">"Got submitJob Callback"</span>);
		}});
	});

	$(<span class="hljs-string">'#resubmitJobStayHere'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>)</span>{
		evt.preventDefault();
		fabmo.resubmitJob(<span class="hljs-number">558</span>, {stayHere : <span class="hljs-literal">true</span>}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, result</span>) </span>{ {
			<span class="hljs-keyword">if</span>(err) { <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.error(err); }
			<span class="hljs-built_in">console</span>.info(<span class="hljs-string">"Got resubmitJob Callback"</span>)
		}});
	});

	$(<span class="hljs-string">'#resubmitJob'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>)</span>{
		evt.preventDefault();
		fabmo.resubmitJob(<span class="hljs-number">558</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, result</span>) </span>{ {
			<span class="hljs-keyword">if</span>(err) { <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.error(err); }
			<span class="hljs-built_in">console</span>.info(<span class="hljs-string">"Got resubmitJob Callback"</span>)
		}});
	});

	$(<span class="hljs-string">'#resubmitJobFail'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>)</span>{
		evt.preventDefault();
		fabmo.resubmitJob(<span class="hljs-string">"invalid"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, result</span>) </span>{ {
			<span class="hljs-keyword">if</span>(err) { <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.error(err); }
			<span class="hljs-built_in">console</span>.info(<span class="hljs-string">"Got resubmitJob Callback"</span>)
		}});
	});

	$(<span class="hljs-string">'#runNext'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>)</span>{
		evt.preventDefault();
		fabmo.runNext(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, result</span>) </span>{ {
			<span class="hljs-keyword">if</span>(err) { <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.error(err); }
			<span class="hljs-built_in">console</span>.info(<span class="hljs-string">"Got runNext callback"</span>)
		}});
	});

	$(<span class="hljs-string">'#submitArrayOfObjects'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>)</span>{
		evt.preventDefault();
		fabmo.submitJobs([{
			filename : <span class="hljs-string">'job1.nc'</span>,
			file : <span class="hljs-string">'G0 X1'</span>,
			name : <span class="hljs-string">'Job 1'</span>,
			description : <span class="hljs-string">"Job 1"</span>
		},

		{
			filename : <span class="hljs-string">'job1.nc'</span>,
			file : <span class="hljs-string">'G0 X1'</span>,
			name : <span class="hljs-string">'Job 1'</span>,
			description : <span class="hljs-string">"Job 1"</span>
		},

		{
			filename : <span class="hljs-string">'job1.nc'</span>,
			file : <span class="hljs-string">'G0 X1'</span>,
			name : <span class="hljs-string">'Job 1'</span>,
			description : <span class="hljs-string">"Job 1"</span>
		}]);
	});

	$(<span class="hljs-string">'#showModal'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
		fabmo.showModal({
			title: <span class="hljs-string">"Modal Dialog!"</span>,
			message: <span class="hljs-string">"This is a modal I sure hope it doesn't get interrupted."</span>
		});
	});

	$(<span class="hljs-string">'#fileForm'</span>).submit(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>)</span>{
		evt.preventDefault();
		fabmo.submitJobs($(<span class="hljs-string">'#fileForm'</span>));
	});

	$(<span class="hljs-string">"#navigateRelative"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
		fabmo.navigate(<span class="hljs-string">'path/sample.pdf'</span>);
	});

	$(<span class="hljs-string">"#navigateAbsolute1"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
		fabmo.navigate(<span class="hljs-string">'/log'</span>);
	});

	$(<span class="hljs-string">"#navigateAbsolute2"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
		fabmo.navigate(<span class="hljs-string">'http://www.handibot.com/'</span>);
	});


});</div></div></div></div></body></html>
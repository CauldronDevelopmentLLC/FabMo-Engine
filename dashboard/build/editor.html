<!DOCTYPE html><html lang="en"><head><title>dashboard/build/editor</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../"><meta name="groc-document-path" content="dashboard/build/editor"><meta name="groc-project-path" content="dashboard/build/editor.js"><link rel="stylesheet" type="text/css" media="all" href="../../assets/style.css"><script type="text/javascript" src="../../assets/behavior.js"></script><body><div id="meta"><div class="file-path">dashboard/build/editor.js</div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper">webpackJsonp([<span class="hljs-number">5</span>],{<span class="hljs-number">0</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params"></span>)</span>{t(<span class="hljs-string">"#execute-menu"</span>).hide();<span class="hljs-keyword">var</span> e=f.getValue();<span class="hljs-keyword">switch</span>(p){<span class="hljs-keyword">case</span><span class="hljs-string">"gcode"</span>:d.notify(<span class="hljs-string">"info"</span>,<span class="hljs-string">"Executing G-Code program."</span>),d.runGCode(e);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span><span class="hljs-string">"opensbp"</span>:d.notify(<span class="hljs-string">"info"</span>,<span class="hljs-string">"Executing OpenSBP program."</span>),d.runSBP(e)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">try</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"localStorage"</span><span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>&amp;&amp;<span class="hljs-literal">null</span>!==<span class="hljs-built_in">window</span>.localStorage}<span class="hljs-keyword">catch</span>(t){<span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">"HTML5 Local storage unsupported?"</span>),!<span class="hljs-number">1</span>}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-string">"gcode"</span>===p?s(<span class="hljs-string">"opensbp"</span>,t):s(<span class="hljs-string">"gcode"</span>,t)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">switch</span>(e){<span class="hljs-keyword">case</span><span class="hljs-string">"opensbp"</span>:t(<span class="hljs-string">"#app-header"</span>).text(<span class="hljs-string">"Editor (OpenSBP)"</span>),t(<span class="hljs-string">"#lang-gcode"</span>).parent().removeClass(<span class="hljs-string">"active"</span>),t(<span class="hljs-string">"#lang-opensbp"</span>).parent().addClass(<span class="hljs-string">"active"</span>),p=<span class="hljs-string">"opensbp"</span>,f.setOption(<span class="hljs-string">"mode"</span>,<span class="hljs-string">"opensbp"</span>);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span><span class="hljs-string">"gcode"</span>:t(<span class="hljs-string">"#app-header"</span>).text(<span class="hljs-string">"Editor (G-Code)"</span>),t(<span class="hljs-string">"#lang-opensbp"</span>).parent().removeClass(<span class="hljs-string">"active"</span>),t(<span class="hljs-string">"#lang-gcode"</span>).parent().addClass(<span class="hljs-string">"active"</span>),p=<span class="hljs-string">"gcode"</span>,f.setOption(<span class="hljs-string">"mode"</span>,<span class="hljs-string">"gcode"</span>)}n()&amp;&amp;i&amp;&amp;(localStorage.fabmo_editor_language=p)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">if</span>(n()){<span class="hljs-keyword">var</span> t=localStorage.fabmo_editor_language||<span class="hljs-string">"gcode"</span>;s(t);<span class="hljs-keyword">var</span> e=localStorage.fabmo_editor_content||<span class="hljs-string">""</span>;e!==e||<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>===e?<span class="hljs-built_in">console</span>.warn(<span class="hljs-string">"No saved content to load."</span>):f.setValue(e);<span class="hljs-keyword">var</span> i;<span class="hljs-keyword">try</span>{i=<span class="hljs-built_in">JSON</span>.parse(localStorage.fabmo_editor_position)}<span class="hljs-keyword">catch</span>(r){<span class="hljs-built_in">console</span>.warn(<span class="hljs-string">"Couldn't set position: "</span>+r),i={row:<span class="hljs-number">0</span>,col:<span class="hljs-number">0</span>}}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>)</span>{d.getAppArgs(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-string">"job"</span><span class="hljs-keyword">in</span> i){<span class="hljs-keyword">var</span> n=<span class="hljs-string">"/job/"</span>+i.job+<span class="hljs-string">"/file"</span>;t.get(n,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{f.setValue(t,-<span class="hljs-number">1</span>),g=<span class="hljs-string">"job"</span>,d.getJobInfo(i.job,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{t||(b=e.name||e.file.filename||<span class="hljs-literal">null</span>,v=e.description||<span class="hljs-literal">null</span>,y=e.file.filename,s(e.file.filename.endsWith(<span class="hljs-string">"sbp"</span>)?<span class="hljs-string">"opensbp"</span>:<span class="hljs-string">"gcode"</span>))})})}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">"macro"</span><span class="hljs-keyword">in</span> i){t(<span class="hljs-string">".language-dropdown"</span>).hide(),p=<span class="hljs-string">"opensbp"</span>;<span class="hljs-keyword">var</span> n=<span class="hljs-string">"/macros/"</span>+i.macro;t.get(n,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">var</span> n=e.data.macro;t(<span class="hljs-string">"#app-header"</span>).text(<span class="hljs-string">"Editor - "</span>+n.name+<span class="hljs-string">" (Macro)"</span>),f.setValue(n.content,-<span class="hljs-number">1</span>),g=<span class="hljs-string">"macro"</span>,m=n,v=n.description,b=<span class="hljs-string">"macro_"</span>+n.index+<span class="hljs-string">".sbp"</span>,s(<span class="hljs-string">"opensbp"</span>),t(<span class="hljs-string">"#macro-menu"</span>).show()})}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">"new"</span><span class="hljs-keyword">in</span> i)<span class="hljs-keyword">switch</span>(f.setValue(i.content||<span class="hljs-string">""</span>,-<span class="hljs-number">1</span>),f.clearSelection(),g=<span class="hljs-literal">null</span>,i.language){<span class="hljs-keyword">case</span><span class="hljs-string">"sbp"</span>:<span class="hljs-keyword">case</span><span class="hljs-string">"opensbp"</span>:s(<span class="hljs-string">"opensbp"</span>);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">default</span>:s(<span class="hljs-string">"gcode"</span>)}<span class="hljs-keyword">else</span> o()})}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">l</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> t=t||<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{};<span class="hljs-keyword">switch</span>(g){<span class="hljs-keyword">case</span> <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>:<span class="hljs-keyword">case</span> <span class="hljs-literal">null</span>:n()&amp;&amp;(localStorage.fabmo_editor_content=f.getValue(),pos=f.getCursor(),localStorage.fabmo_editor_position=<span class="hljs-built_in">JSON</span>.stringify(pos)),t();<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span><span class="hljs-string">"macro"</span>:d.updateMacro(m.index,{content:f.getValue()},<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{d.notify(<span class="hljs-string">"info"</span>,<span class="hljs-string">"Macro '"</span>+m.name+<span class="hljs-string">"' saved."</span>),t()});<span class="hljs-keyword">break</span>;<span class="hljs-keyword">default</span>:t()}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">switch</span>(t(<span class="hljs-string">"#modal-title"</span>).text(<span class="hljs-string">"Submit Job"</span>),p){<span class="hljs-keyword">case</span><span class="hljs-string">"gcode"</span>:t(<span class="hljs-string">"#jobsubmit-name"</span>).val(b||<span class="hljs-string">"G-Code (Editor)"</span>),t(<span class="hljs-string">"#jobsubmit-description"</span>).val(v||<span class="hljs-string">"A G-Code job from the editor"</span>),t(<span class="hljs-string">"#jobsubmit-filename"</span>).val(y||<span class="hljs-string">"editor.nc"</span>);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span><span class="hljs-string">"opensbp"</span>:t(<span class="hljs-string">"#jobsubmit-name"</span>).val(b||<span class="hljs-string">"OpenSBP (Editor)"</span>),t(<span class="hljs-string">"#jobsubmit-description"</span>).val(v||<span class="hljs-string">"An OpenSBP job from the editor"</span>),t(<span class="hljs-string">"#jobsubmit-filename"</span>).val(y||<span class="hljs-string">"editor.sbp"</span>);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">default</span>:d.notify(<span class="hljs-string">"warn"</span>,<span class="hljs-string">"Unknown file format in editor?!"</span>)}t(<span class="hljs-string">"#jobsubmit-modal"</span>).foundation(<span class="hljs-string">"reveal"</span>,<span class="hljs-string">"open"</span>),t(<span class="hljs-string">"#jobsubmit-name"</span>).focus(),t(<span class="hljs-string">"#jobsubmit-submit"</span>).on(<span class="hljs-string">"click"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{e.preventDefault();<span class="hljs-keyword">var</span> i=t(<span class="hljs-string">"#jobsubmit-name"</span>).val(),n=t(<span class="hljs-string">"#jobsubmit-description"</span>).val(),r=t(<span class="hljs-string">"#jobsubmit-filename"</span>).val(),s=f.getValue();d.submitJob({file:s,filename:r,name:i,description:n},<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{t?t.message?d.notify(<span class="hljs-string">"error"</span>,t.message):t.job?d.notify(<span class="hljs-string">"warn"</span>,t.job):d.notify(<span class="hljs-string">"error"</span>,t):d.launchApp(<span class="hljs-string">"job-manager"</span>)}),t(<span class="hljs-string">"#jobsubmit-modal"</span>).foundation(<span class="hljs-string">"reveal"</span>,<span class="hljs-string">"close"</span>),t(<span class="hljs-string">"#jobsubmit-form"</span>).trigger(<span class="hljs-string">"reset"</span>)}),t(<span class="hljs-string">"#jobsubmit-modal"</span>).bind(<span class="hljs-string">"closed.fndtn.reveal"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{t(<span class="hljs-string">"#jobsubmit-form"</span>).off(<span class="hljs-string">"submit"</span>)})}i(<span class="hljs-number">1</span>);<span class="hljs-keyword">var</span> u=(i(<span class="hljs-number">2</span>),i(!<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Cannot find module "../../../static/js/libs/fabmo.js"'</span>);<span class="hljs-keyword">throw</span> t.code=<span class="hljs-string">"MODULE_NOT_FOUND"</span>,t}())),d=<span class="hljs-keyword">new</span> u,h=i(<span class="hljs-number">8</span>);i(<span class="hljs-number">24</span>),i(<span class="hljs-number">23</span>);<span class="hljs-keyword">var</span> f,p=<span class="hljs-string">"gcode"</span>,g=<span class="hljs-literal">null</span>,m=<span class="hljs-literal">null</span>,v=<span class="hljs-literal">null</span>,b=<span class="hljs-literal">null</span>,y=<span class="hljs-literal">null</span>;t(<span class="hljs-string">"#app-header"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{r(!<span class="hljs-number">0</span>)}),t(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-built_in">window</span>.innerHeight,i=t(<span class="hljs-string">"#topbar"</span>).height();t(<span class="hljs-string">"#editor"</span>).css(<span class="hljs-string">"height"</span>,e-i),t(<span class="hljs-built_in">document</span>).foundation(<span class="hljs-string">"reflow"</span>)}t(<span class="hljs-built_in">document</span>).foundation(),f=h(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"editor"</span>);t.id=<span class="hljs-string">"editor"</span>,e.parentNode.replaceChild(t,e)},{lineNumbers:!<span class="hljs-number">0</span>,theme:<span class="hljs-string">"fabmo"</span>,mode:<span class="hljs-string">"text"</span>}),f.addKeyMap({<span class="hljs-string">"Cmd-Enter"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{e()},<span class="hljs-string">"Ctrl-Enter"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{e()},<span class="hljs-string">"Ctrl-s"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{l()},<span class="hljs-string">"Cmd-s"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{l()}}),f.on(<span class="hljs-string">"blur"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{g||l()}),a(),t(<span class="hljs-built_in">window</span>).resize(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{i()}),i()}),t(<span class="hljs-string">"#submit-immediate"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t.preventDefault(),e()}),t(<span class="hljs-string">"#submit-job"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t.preventDefault(),c()}),t(<span class="hljs-string">"#lang-opensbp"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{s(<span class="hljs-string">"opensbp"</span>,!<span class="hljs-number">0</span>),t.preventDefault()}),t(<span class="hljs-string">"#lang-gcode"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{s(<span class="hljs-string">"gcode"</span>,!<span class="hljs-number">0</span>),t.preventDefault()}),t(<span class="hljs-string">"#macro-save"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{l(),t.preventDefault()}),t(<span class="hljs-string">"#macro-save-and-close"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{l(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{d.launchApp(<span class="hljs-string">"macros"</span>)}),t.preventDefault()}),t(<span class="hljs-string">".disabled"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>}),d.on(<span class="hljs-string">"status"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-string">"idle"</span>===e.state?t(<span class="hljs-string">"#execute-menu"</span>).show():t(<span class="hljs-string">"#execute-menu"</span>).hide()}),t(<span class="hljs-string">"#jobsubmit-cancel"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{e.preventDefault(),t(<span class="hljs-string">"#jobsubmit-modal"</span>).foundation(<span class="hljs-string">"reveal"</span>,<span class="hljs-string">"close"</span>)})}).call(e,i(<span class="hljs-number">1</span>))},<span class="hljs-number">2</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{!<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i,n,r</span>)</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span>(<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> t||t <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">String</span>)&amp;&amp;(t=t.replace(<span class="hljs-regexp">/^['\\/"]+|(;\s?})+|['\\/"]+$/g</span>,<span class="hljs-string">""</span>)),t}<span class="hljs-keyword">var</span> o=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=t.length,n=e(<span class="hljs-string">"head"</span>);i--;)<span class="hljs-number">0</span>===n.has(<span class="hljs-string">"."</span>+t[i]).length&amp;&amp;n.append(<span class="hljs-string">'&lt;meta class="'</span>+t[i]+<span class="hljs-string">'" /&gt;'</span>)};o([<span class="hljs-string">"foundation-mq-small"</span>,<span class="hljs-string">"foundation-mq-medium"</span>,<span class="hljs-string">"foundation-mq-large"</span>,<span class="hljs-string">"foundation-mq-xlarge"</span>,<span class="hljs-string">"foundation-mq-xxlarge"</span>,<span class="hljs-string">"foundation-data-attribute-namespace"</span>]),e(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-string">"undefined"</span>!=<span class="hljs-keyword">typeof</span> FastClick&amp;&amp;<span class="hljs-string">"undefined"</span>!=<span class="hljs-keyword">typeof</span> n.body&amp;&amp;FastClick.attach(n.body)});<span class="hljs-keyword">var</span> a=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,i</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> t){<span class="hljs-keyword">if</span>(i){<span class="hljs-keyword">var</span> r;<span class="hljs-keyword">if</span>(i.jquery){<span class="hljs-keyword">if</span>(r=i[<span class="hljs-number">0</span>],!r)<span class="hljs-keyword">return</span> i}<span class="hljs-keyword">else</span> r=i;<span class="hljs-keyword">return</span> e(r.querySelectorAll(t))}<span class="hljs-keyword">return</span> e(n.querySelectorAll(t))}<span class="hljs-keyword">return</span> e(t,i)},l=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=[];<span class="hljs-keyword">return</span> t||e.push(<span class="hljs-string">"data"</span>),<span class="hljs-keyword">this</span>.namespace.length&gt;<span class="hljs-number">0</span>&amp;&amp;e.push(<span class="hljs-keyword">this</span>.namespace),e.push(<span class="hljs-keyword">this</span>.name),e.join(<span class="hljs-string">"-"</span>)},c=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=t.split(<span class="hljs-string">"-"</span>),i=e.length,n=[];i--;)<span class="hljs-number">0</span>!==i?n.push(e[i]):<span class="hljs-keyword">this</span>.namespace.length&gt;<span class="hljs-number">0</span>?n.push(<span class="hljs-keyword">this</span>.namespace,e[i]):n.push(e[i]);<span class="hljs-keyword">return</span> n.reverse().join(<span class="hljs-string">"-"</span>)},u=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,i</span>)</span>{<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>,r=!a(<span class="hljs-keyword">this</span>).data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>));<span class="hljs-keyword">if</span>(a(<span class="hljs-keyword">this</span>.scope).is(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>)?(a(<span class="hljs-keyword">this</span>.scope).data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>,e.extend({},<span class="hljs-keyword">this</span>.settings,i||t,<span class="hljs-keyword">this</span>.data_options(a(<span class="hljs-keyword">this</span>.scope)))),r&amp;&amp;<span class="hljs-keyword">this</span>.events(<span class="hljs-keyword">this</span>.scope)):a(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-keyword">this</span>.scope).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> r=!a(<span class="hljs-keyword">this</span>).data(n.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>);a(<span class="hljs-keyword">this</span>).data(n.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>,e.extend({},n.settings,i||t,n.data_options(a(<span class="hljs-keyword">this</span>)))),r&amp;&amp;n.events(<span class="hljs-keyword">this</span>)}),<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> t)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>[t].call(<span class="hljs-keyword">this</span>,i)},d=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params"></span>)</span>{e(t[<span class="hljs-number">0</span>])}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.one(<span class="hljs-string">"load"</span>,i),<span class="hljs-regexp">/MSIE (\d+\.\d+);/</span>.test(navigator.userAgent)){<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.attr(<span class="hljs-string">"src"</span>),e=t.match(<span class="hljs-regexp">/\?/</span>)?<span class="hljs-string">"&amp;"</span>:<span class="hljs-string">"?"</span>;e+=<span class="hljs-string">"random="</span>+(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>).getTime(),<span class="hljs-keyword">this</span>.attr(<span class="hljs-string">"src"</span>,t+e)}}<span class="hljs-keyword">return</span> t.attr(<span class="hljs-string">"src"</span>)?<span class="hljs-keyword">void</span>(t[<span class="hljs-number">0</span>].complete||<span class="hljs-number">4</span>===t[<span class="hljs-number">0</span>].readyState?i():n.call(t)):<span class="hljs-keyword">void</span> i()};i.matchMedia=i.matchMedia||<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e,i=t.documentElement,n=i.firstElementChild||i.firstChild,r=t.createElement(<span class="hljs-string">"body"</span>),s=t.createElement(<span class="hljs-string">"div"</span>);<span class="hljs-keyword">return</span> s.id=<span class="hljs-string">"mq-test-1"</span>,s.style.cssText=<span class="hljs-string">"position:absolute;top:-100em"</span>,r.style.background=<span class="hljs-string">"none"</span>,r.appendChild(s),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> s.innerHTML=<span class="hljs-string">'&amp;shy;&lt;style media="'</span>+t+<span class="hljs-string">'"&gt; #mq-test-1 { width: 42px; }&lt;/style&gt;'</span>,i.insertBefore(r,n),e=<span class="hljs-number">42</span>===s.offsetWidth,i.removeChild(r),{matches:e,media:t}}}(n),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params"></span>)</span>{r&amp;&amp;(a(n),c&amp;&amp;t.fx.tick())}<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r,s=<span class="hljs-number">0</span>,o=[<span class="hljs-string">"webkit"</span>,<span class="hljs-string">"moz"</span>],a=i.requestAnimationFrame,l=i.cancelAnimationFrame,c=<span class="hljs-string">"undefined"</span>!=<span class="hljs-keyword">typeof</span> t.fx;s&lt;o.length&amp;&amp;!a;s++)a=i[o[s]+<span class="hljs-string">"RequestAnimationFrame"</span>],l=l||i[o[s]+<span class="hljs-string">"CancelAnimationFrame"</span>]||i[o[s]+<span class="hljs-string">"CancelRequestAnimationFrame"</span>];a?(i.requestAnimationFrame=a,i.cancelAnimationFrame=l,c&amp;&amp;(t.fx.timer=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{e()&amp;&amp;t.timers.push(e)&amp;&amp;!r&amp;&amp;(r=!<span class="hljs-number">0</span>,n())},t.fx.stop=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{r=!<span class="hljs-number">1</span>})):(i.requestAnimationFrame=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>).getTime(),n=<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,<span class="hljs-number">16</span>-(e-s)),r=i.setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t(e+n)},n);<span class="hljs-keyword">return</span> s=e+n,r},i.cancelAnimationFrame=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{clearTimeout(t)})}(t),i.Foundation={name:<span class="hljs-string">"Foundation"</span>,version:<span class="hljs-string">"5.3.3"</span>,media_queries:{small:a(<span class="hljs-string">".foundation-mq-small"</span>).css(<span class="hljs-string">"font-family"</span>).replace(<span class="hljs-regexp">/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g</span>,<span class="hljs-string">""</span>),medium:a(<span class="hljs-string">".foundation-mq-medium"</span>).css(<span class="hljs-string">"font-family"</span>).replace(<span class="hljs-regexp">/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g</span>,<span class="hljs-string">""</span>),large:a(<span class="hljs-string">".foundation-mq-large"</span>).css(<span class="hljs-string">"font-family"</span>).replace(<span class="hljs-regexp">/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g</span>,<span class="hljs-string">""</span>),xlarge:a(<span class="hljs-string">".foundation-mq-xlarge"</span>).css(<span class="hljs-string">"font-family"</span>).replace(<span class="hljs-regexp">/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g</span>,<span class="hljs-string">""</span>),xxlarge:a(<span class="hljs-string">".foundation-mq-xxlarge"</span>).css(<span class="hljs-string">"font-family"</span>).replace(<span class="hljs-regexp">/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g</span>,<span class="hljs-string">""</span>)},stylesheet:e(<span class="hljs-string">"&lt;style&gt;&lt;/style&gt;"</span>).appendTo(<span class="hljs-string">"head"</span>)[<span class="hljs-number">0</span>].sheet,global:{namespace:r},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,n,r,s</span>)</span>{<span class="hljs-keyword">var</span> o=[t,n,r,s],l=[];<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.rtl=<span class="hljs-regexp">/rtl/i</span>.test(a(<span class="hljs-string">"html"</span>).attr(<span class="hljs-string">"dir"</span>)),<span class="hljs-keyword">this</span>.scope=t||<span class="hljs-keyword">this</span>.scope,<span class="hljs-keyword">this</span>.set_namespace(),e&amp;&amp;<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;!<span class="hljs-regexp">/reflow/i</span>.test(e))<span class="hljs-keyword">this</span>.libs.hasOwnProperty(e)&amp;&amp;l.push(<span class="hljs-keyword">this</span>.init_lib(e,o));<span class="hljs-keyword">else</span> <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.libs)l.push(<span class="hljs-keyword">this</span>.init_lib(c,e));<span class="hljs-keyword">return</span> a(i).load(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{a(i).trigger(<span class="hljs-string">"resize.fndtn.clearing"</span>).trigger(<span class="hljs-string">"resize.fndtn.dropdown"</span>).trigger(<span class="hljs-string">"resize.fndtn.equalizer"</span>).trigger(<span class="hljs-string">"resize.fndtn.interchange"</span>).trigger(<span class="hljs-string">"resize.fndtn.joyride"</span>).trigger(<span class="hljs-string">"resize.fndtn.magellan"</span>).trigger(<span class="hljs-string">"resize.fndtn.topbar"</span>).trigger(<span class="hljs-string">"resize.fndtn.slider"</span>)}),t},init_lib:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,i</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.libs.hasOwnProperty(t)?(<span class="hljs-keyword">this</span>.patch(<span class="hljs-keyword">this</span>.libs[t]),i&amp;&amp;i.hasOwnProperty(t)?(<span class="hljs-string">"undefined"</span>!=<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.libs[t].settings?e.extend(!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.libs[t].settings,i[t]):<span class="hljs-string">"undefined"</span>!=<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.libs[t].defaults&amp;&amp;e.extend(!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.libs[t].defaults,i[t]),<span class="hljs-keyword">this</span>.libs[t].init.apply(<span class="hljs-keyword">this</span>.libs[t],[<span class="hljs-keyword">this</span>.scope,i[t]])):(i=i <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>?i:<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(i),<span class="hljs-keyword">this</span>.libs[t].init.apply(<span class="hljs-keyword">this</span>.libs[t],i))):<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}},patch:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t.scope=<span class="hljs-keyword">this</span>.scope,t.namespace=<span class="hljs-keyword">this</span>.global.namespace,t.rtl=<span class="hljs-keyword">this</span>.rtl,t.data_options=<span class="hljs-keyword">this</span>.utils.data_options,t.attr_name=l,t.add_namespace=c,t.bindings=u,t.S=<span class="hljs-keyword">this</span>.utils.S},inherit:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=e.split(<span class="hljs-string">" "</span>),n=i.length;n--;)<span class="hljs-keyword">this</span>.utils.hasOwnProperty(i[n])&amp;&amp;(t[i[n]]=<span class="hljs-keyword">this</span>.utils[i[n]])},set_namespace:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.global.namespace===r?e(<span class="hljs-string">".foundation-data-attribute-namespace"</span>).css(<span class="hljs-string">"font-family"</span>):<span class="hljs-keyword">this</span>.global.namespace;<span class="hljs-keyword">this</span>.global.namespace=t===r||<span class="hljs-regexp">/false/i</span>.test(t)?<span class="hljs-string">""</span>:t},libs:{},utils:{S:a,throttle:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-literal">null</span>;<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>,r=<span class="hljs-built_in">arguments</span>;<span class="hljs-literal">null</span>==i&amp;&amp;(i=setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t.apply(n,r),i=<span class="hljs-literal">null</span>},e))}},debounce:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n,r;<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> s=<span class="hljs-keyword">this</span>,o=<span class="hljs-built_in">arguments</span>,a=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{n=<span class="hljs-literal">null</span>,i||(r=t.apply(s,o))},l=i&amp;&amp;!n;<span class="hljs-keyword">return</span> clearTimeout(n),n=setTimeout(a,e),l&amp;&amp;(r=t.apply(s,o)),r}},data_options:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,i</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span>!<span class="hljs-built_in">isNaN</span>(t-<span class="hljs-number">0</span>)&amp;&amp;<span class="hljs-literal">null</span>!==t&amp;&amp;<span class="hljs-string">""</span>!==t&amp;&amp;t!==!<span class="hljs-number">1</span>&amp;&amp;t!==!<span class="hljs-number">0</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> t?e.trim(t):t}i=i||<span class="hljs-string">"options"</span>;<span class="hljs-keyword">var</span> s,o,a,l={},c=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=Foundation.global.namespace;<span class="hljs-keyword">return</span> e.length&gt;<span class="hljs-number">0</span>?t.data(e+<span class="hljs-string">"-"</span>+i):t.data(i)},u=c(t);<span class="hljs-keyword">if</span>(<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> u)<span class="hljs-keyword">return</span> u;<span class="hljs-keyword">for</span>(a=(u||<span class="hljs-string">":"</span>).split(<span class="hljs-string">";"</span>),s=a.length;s--;)o=a[s].split(<span class="hljs-string">":"</span>),o=[o[<span class="hljs-number">0</span>],o.slice(<span class="hljs-number">1</span>).join(<span class="hljs-string">":"</span>)],<span class="hljs-regexp">/true/i</span>.test(o[<span class="hljs-number">1</span>])&amp;&amp;(o[<span class="hljs-number">1</span>]=!<span class="hljs-number">0</span>),<span class="hljs-regexp">/false/i</span>.test(o[<span class="hljs-number">1</span>])&amp;&amp;(o[<span class="hljs-number">1</span>]=!<span class="hljs-number">1</span>),n(o[<span class="hljs-number">1</span>])&amp;&amp;(o[<span class="hljs-number">1</span>].indexOf(<span class="hljs-string">"."</span>)===-<span class="hljs-number">1</span>?o[<span class="hljs-number">1</span>]=<span class="hljs-built_in">parseInt</span>(o[<span class="hljs-number">1</span>],<span class="hljs-number">10</span>):o[<span class="hljs-number">1</span>]=<span class="hljs-built_in">parseFloat</span>(o[<span class="hljs-number">1</span>])),<span class="hljs-number">2</span>===o.length&amp;&amp;o[<span class="hljs-number">0</span>].length&gt;<span class="hljs-number">0</span>&amp;&amp;(l[r(o[<span class="hljs-number">0</span>])]=r(o[<span class="hljs-number">1</span>]));<span class="hljs-keyword">return</span> l},register_media:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,i</span>)</span>{Foundation.media_queries[t]===r&amp;&amp;(e(<span class="hljs-string">"head"</span>).append(<span class="hljs-string">'&lt;meta class="'</span>+i+<span class="hljs-string">'"/&gt;'</span>),Foundation.media_queries[t]=s(e(<span class="hljs-string">"."</span>+i).css(<span class="hljs-string">"font-family"</span>)))},add_custom_rule:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(e===r&amp;&amp;Foundation.stylesheet)Foundation.stylesheet.insertRule(t,Foundation.stylesheet.cssRules.length);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> i=Foundation.media_queries[e];i!==r&amp;&amp;Foundation.stylesheet.insertRule(<span class="hljs-string">"@media "</span>+Foundation.media_queries[e]+<span class="hljs-string">"{ "</span>+t+<span class="hljs-string">" }"</span>)}},image_loaded:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>,n=t.length;<span class="hljs-number">0</span>===n&amp;&amp;e(t),t.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{d(i.S(<span class="hljs-keyword">this</span>),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{n-=<span class="hljs-number">1</span>,<span class="hljs-number">0</span>===n&amp;&amp;e(t)})})},random_str:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.fidx||(<span class="hljs-keyword">this</span>.fidx=<span class="hljs-number">0</span>),<span class="hljs-keyword">this</span>.prefix=<span class="hljs-keyword">this</span>.prefix||[<span class="hljs-keyword">this</span>.name||<span class="hljs-string">"F"</span>,(+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>).toString(<span class="hljs-number">36</span>)].join(<span class="hljs-string">"-"</span>),<span class="hljs-keyword">this</span>.prefix+(<span class="hljs-keyword">this</span>.fidx++).toString(<span class="hljs-number">36</span>)}}},e.fn.foundation=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>,<span class="hljs-number">0</span>);<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> Foundation.init.apply(Foundation,[<span class="hljs-keyword">this</span>].concat(t)),<span class="hljs-keyword">this</span>})}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;Foundation.libs.slider={name:<span class="hljs-string">"slider"</span>,version:<span class="hljs-string">"5.3.3"</span>,settings:{start:<span class="hljs-number">0</span>,end:<span class="hljs-number">100</span>,step:<span class="hljs-number">1</span>,initial:<span class="hljs-literal">null</span>,display_selector:<span class="hljs-string">""</span>,vertical:!<span class="hljs-number">1</span>,on_change:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}},cache:{},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{Foundation.inherit(<span class="hljs-keyword">this</span>,<span class="hljs-string">"throttle"</span>),<span class="hljs-keyword">this</span>.bindings(e,i),<span class="hljs-keyword">this</span>.reflow()},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>;t(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".slider"</span>).on(<span class="hljs-string">"mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider"</span>,<span class="hljs-string">"["</span>+i.attr_name()+<span class="hljs-string">"]:not(.disabled, [disabled]) .range-slider-handle"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{i.cache.active||(e.preventDefault(),i.set_active_slider(t(e.target)))}).on(<span class="hljs-string">"mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>)</span>{<span class="hljs-keyword">if</span>(i.cache.active)<span class="hljs-keyword">if</span>(n.preventDefault(),t.data(i.cache.active[<span class="hljs-number">0</span>],<span class="hljs-string">"settings"</span>).vertical){<span class="hljs-keyword">var</span> r=<span class="hljs-number">0</span>;n.pageY||(r=e.scrollY),i.calculate_position(i.cache.active,(n.pageY||n.originalEvent.clientY||n.originalEvent.touches[<span class="hljs-number">0</span>].clientY||n.currentPoint.y)+r)}<span class="hljs-keyword">else</span> i.calculate_position(i.cache.active,n.pageX||n.originalEvent.clientX||n.originalEvent.touches[<span class="hljs-number">0</span>].clientX||n.currentPoint.x)}).on(<span class="hljs-string">"mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{i.remove_active_slider()}).on(<span class="hljs-string">"change.fndtn.slider"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{i.settings.on_change()}),i.S(e).on(<span class="hljs-string">"resize.fndtn.slider"</span>,i.throttle(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{i.reflow()},<span class="hljs-number">300</span>))},set_active_slider:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">this</span>.cache.active=t},remove_active_slider:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.cache.active=<span class="hljs-literal">null</span>},calculate_position:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>,r=t.data(e[<span class="hljs-number">0</span>],<span class="hljs-string">"settings"</span>),s=(t.data(e[<span class="hljs-number">0</span>],<span class="hljs-string">"handle_l"</span>),t.data(e[<span class="hljs-number">0</span>],<span class="hljs-string">"handle_o"</span>),t.data(e[<span class="hljs-number">0</span>],<span class="hljs-string">"bar_l"</span>)),o=t.data(e[<span class="hljs-number">0</span>],<span class="hljs-string">"bar_o"</span>);requestAnimationFrame(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t;t=Foundation.rtl&amp;&amp;!r.vertical?n.limit_to((o+s-i)/s,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>):n.limit_to((i-o)/s,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>),t=r.vertical?<span class="hljs-number">1</span>-t:t;<span class="hljs-keyword">var</span> a=n.normalized_value(t,r.start,r.end,r.step);n.set_ui(e,a)})},set_ui:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t.data(e[<span class="hljs-number">0</span>],<span class="hljs-string">"settings"</span>),r=t.data(e[<span class="hljs-number">0</span>],<span class="hljs-string">"handle_l"</span>),s=t.data(e[<span class="hljs-number">0</span>],<span class="hljs-string">"bar_l"</span>),o=<span class="hljs-keyword">this</span>.normalized_percentage(i,n.start,n.end),a=o*(s-r)-<span class="hljs-number">1</span>,l=<span class="hljs-number">100</span>*o;Foundation.rtl&amp;&amp;!n.vertical&amp;&amp;(a=-a),a=n.vertical?-a+s-r+<span class="hljs-number">1</span>:a,<span class="hljs-keyword">this</span>.set_translate(e,a,n.vertical),n.vertical?e.siblings(<span class="hljs-string">".range-slider-active-segment"</span>).css(<span class="hljs-string">"height"</span>,l+<span class="hljs-string">"%"</span>):e.siblings(<span class="hljs-string">".range-slider-active-segment"</span>).css(<span class="hljs-string">"width"</span>,l+<span class="hljs-string">"%"</span>),e.parent().attr(<span class="hljs-keyword">this</span>.attr_name(),i).trigger(<span class="hljs-string">"change"</span>).trigger(<span class="hljs-string">"change.fndtn.slider"</span>),e.parent().children(<span class="hljs-string">"input[type=hidden]"</span>).val(i),<span class="hljs-string">""</span>!=n.input_id&amp;&amp;t(n.display_selector).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.hasOwnProperty(<span class="hljs-string">"value"</span>)?t(<span class="hljs-keyword">this</span>).val(i):t(<span class="hljs-keyword">this</span>).text(i)})},normalized_percentage:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.min(<span class="hljs-number">1</span>,(t-e)/(i-e))},normalized_value:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=i-e,s=t*r,o=(s-s%n)/n,a=s%n,l=a&gt;=<span class="hljs-number">.5</span>*n?n:<span class="hljs-number">0</span>;<span class="hljs-keyword">return</span> o*n+l+e},set_translate:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i,n</span>)</span>{n?t(e).css(<span class="hljs-string">"-webkit-transform"</span>,<span class="hljs-string">"translateY("</span>+i+<span class="hljs-string">"px)"</span>).css(<span class="hljs-string">"-moz-transform"</span>,<span class="hljs-string">"translateY("</span>+i+<span class="hljs-string">"px)"</span>).css(<span class="hljs-string">"-ms-transform"</span>,<span class="hljs-string">"translateY("</span>+i+<span class="hljs-string">"px)"</span>).css(<span class="hljs-string">"-o-transform"</span>,<span class="hljs-string">"translateY("</span>+i+<span class="hljs-string">"px)"</span>).css(<span class="hljs-string">"transform"</span>,<span class="hljs-string">"translateY("</span>+i+<span class="hljs-string">"px)"</span>):t(e).css(<span class="hljs-string">"-webkit-transform"</span>,<span class="hljs-string">"translateX("</span>+i+<span class="hljs-string">"px)"</span>).css(<span class="hljs-string">"-moz-transform"</span>,<span class="hljs-string">"translateX("</span>+i+<span class="hljs-string">"px)"</span>).css(<span class="hljs-string">"-ms-transform"</span>,<span class="hljs-string">"translateX("</span>+i+<span class="hljs-string">"px)"</span>).css(<span class="hljs-string">"-o-transform"</span>,<span class="hljs-string">"translateX("</span>+i+<span class="hljs-string">"px)"</span>).css(<span class="hljs-string">"transform"</span>,<span class="hljs-string">"translateX("</span>+i+<span class="hljs-string">"px)"</span>)},limit_to:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.min(<span class="hljs-built_in">Math</span>.max(t,e),i)},initialize_settings:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=t.extend({},<span class="hljs-keyword">this</span>.settings,<span class="hljs-keyword">this</span>.data_options(t(e).parent()));i.vertical?(t.data(e,<span class="hljs-string">"bar_o"</span>,t(e).parent().offset().top),t.data(e,<span class="hljs-string">"bar_l"</span>,t(e).parent().outerHeight()),t.data(e,<span class="hljs-string">"handle_o"</span>,t(e).offset().top),t.data(e,<span class="hljs-string">"handle_l"</span>,t(e).outerHeight())):(t.data(e,<span class="hljs-string">"bar_o"</span>,t(e).parent().offset().left),t.data(e,<span class="hljs-string">"bar_l"</span>,t(e).parent().outerWidth()),t.data(e,<span class="hljs-string">"handle_o"</span>,t(e).offset().left),t.data(e,<span class="hljs-string">"handle_l"</span>,t(e).outerWidth())),t.data(e,<span class="hljs-string">"bar"</span>,t(e).parent()),t.data(e,<span class="hljs-string">"settings"</span>,i)},set_initial_position:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=t.data(e.children(<span class="hljs-string">".range-slider-handle"</span>)[<span class="hljs-number">0</span>],<span class="hljs-string">"settings"</span>),n=i.initial?i.initial:<span class="hljs-built_in">Math</span>.floor(<span class="hljs-number">.5</span>*(i.end-i.start)/i.step)*i.step+i.start,r=e.children(<span class="hljs-string">".range-slider-handle"</span>);<span class="hljs-keyword">this</span>.set_ui(r,n)},set_value:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>;t(<span class="hljs-string">"["</span>+i.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-keyword">this</span>.scope).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t(<span class="hljs-keyword">this</span>).attr(i.attr_name(),e)}),!t(<span class="hljs-keyword">this</span>.scope).attr(i.attr_name())||t(<span class="hljs-keyword">this</span>.scope).attr(i.attr_name(),e),i.reflow()},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>;e.S(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> i=t(<span class="hljs-keyword">this</span>).children(<span class="hljs-string">".range-slider-handle"</span>)[<span class="hljs-number">0</span>],n=t(<span class="hljs-keyword">this</span>).attr(e.attr_name());e.initialize_settings(i),n?e.set_ui(t(i),<span class="hljs-built_in">parseFloat</span>(n)):e.set_initial_position(t(<span class="hljs-keyword">this</span>))})}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">var</span> r=r||!<span class="hljs-number">1</span>;Foundation.libs.joyride={name:<span class="hljs-string">"joyride"</span>,version:<span class="hljs-string">"5.3.3"</span>,defaults:{expose:!<span class="hljs-number">1</span>,modal:!<span class="hljs-number">0</span>,keyboard:!<span class="hljs-number">0</span>,tip_location:<span class="hljs-string">"bottom"</span>,nub_position:<span class="hljs-string">"auto"</span>,scroll_speed:<span class="hljs-number">1500</span>,scroll_animation:<span class="hljs-string">"linear"</span>,timer:<span class="hljs-number">0</span>,start_timer_on_click:!<span class="hljs-number">0</span>,start_offset:<span class="hljs-number">0</span>,next_button:!<span class="hljs-number">0</span>,prev_button:!<span class="hljs-number">0</span>,tip_animation:<span class="hljs-string">"fade"</span>,pause_after:[],exposed:[],tip_animation_fade_speed:<span class="hljs-number">300</span>,cookie_monster:!<span class="hljs-number">1</span>,cookie_name:<span class="hljs-string">"joyride"</span>,cookie_domain:!<span class="hljs-number">1</span>,cookie_expires:<span class="hljs-number">365</span>,tip_container:<span class="hljs-string">"body"</span>,abort_on_close:!<span class="hljs-number">0</span>,tip_location_patterns:{top:[<span class="hljs-string">"bottom"</span>],bottom:[],left:[<span class="hljs-string">"right"</span>,<span class="hljs-string">"top"</span>,<span class="hljs-string">"bottom"</span>],right:[<span class="hljs-string">"left"</span>,<span class="hljs-string">"top"</span>,<span class="hljs-string">"bottom"</span>]},post_ride_callback:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},post_step_callback:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},pre_step_callback:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},pre_ride_callback:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},post_expose_callback:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},template:{link:<span class="hljs-string">'&lt;a href="#close" class="joyride-close-tip"&gt;&amp;times;&lt;/a&gt;'</span>,timer:<span class="hljs-string">'&lt;div class="joyride-timer-indicator-wrap"&gt;&lt;span class="joyride-timer-indicator"&gt;&lt;/span&gt;&lt;/div&gt;'</span>,tip:<span class="hljs-string">'&lt;div class="joyride-tip-guide"&gt;&lt;span class="joyride-nub"&gt;&lt;/span&gt;&lt;/div&gt;'</span>,wrapper:<span class="hljs-string">'&lt;div class="joyride-content-wrapper"&gt;&lt;/div&gt;'</span>,button:<span class="hljs-string">'&lt;a href="#" class="small button joyride-next-tip"&gt;&lt;/a&gt;'</span>,prev_button:<span class="hljs-string">'&lt;a href="#" class="small button joyride-prev-tip"&gt;&lt;/a&gt;'</span>,modal:<span class="hljs-string">'&lt;div class="joyride-modal-bg"&gt;&lt;/div&gt;'</span>,expose:<span class="hljs-string">'&lt;div class="joyride-expose-wrapper"&gt;&lt;/div&gt;'</span>,expose_cover:<span class="hljs-string">'&lt;div class="joyride-expose-cover"&gt;&lt;/div&gt;'</span>},expose_add_class:<span class="hljs-string">""</span>},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i,n</span>)</span>{Foundation.inherit(<span class="hljs-keyword">this</span>,<span class="hljs-string">"throttle random_str"</span>),<span class="hljs-keyword">this</span>.settings=<span class="hljs-keyword">this</span>.settings||t.extend({},<span class="hljs-keyword">this</span>.defaults,n||i),<span class="hljs-keyword">this</span>.bindings(i,n)},go_next:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.settings.$li.next().length&lt;<span class="hljs-number">1</span>?<span class="hljs-keyword">this</span>.end():<span class="hljs-keyword">this</span>.settings.timer&gt;<span class="hljs-number">0</span>?(clearTimeout(<span class="hljs-keyword">this</span>.settings.automate),<span class="hljs-keyword">this</span>.hide(),<span class="hljs-keyword">this</span>.show(),<span class="hljs-keyword">this</span>.startTimer()):(<span class="hljs-keyword">this</span>.hide(),<span class="hljs-keyword">this</span>.show())},go_prev:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.settings.$li.prev().length&lt;<span class="hljs-number">1</span>||(<span class="hljs-keyword">this</span>.settings.timer&gt;<span class="hljs-number">0</span>?(clearTimeout(<span class="hljs-keyword">this</span>.settings.automate),<span class="hljs-keyword">this</span>.hide(),<span class="hljs-keyword">this</span>.show(<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>),<span class="hljs-keyword">this</span>.startTimer()):(<span class="hljs-keyword">this</span>.hide(),<span class="hljs-keyword">this</span>.show(<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>)))},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>;t(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".joyride"</span>).on(<span class="hljs-string">"click.fndtn.joyride"</span>,<span class="hljs-string">".joyride-next-tip, .joyride-modal-bg"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t.preventDefault(),<span class="hljs-keyword">this</span>.go_next()}.bind(<span class="hljs-keyword">this</span>)).on(<span class="hljs-string">"click.fndtn.joyride"</span>,<span class="hljs-string">".joyride-prev-tip"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t.preventDefault(),<span class="hljs-keyword">this</span>.go_prev()}.bind(<span class="hljs-keyword">this</span>)).on(<span class="hljs-string">"click.fndtn.joyride"</span>,<span class="hljs-string">".joyride-close-tip"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t.preventDefault(),<span class="hljs-keyword">this</span>.end(<span class="hljs-keyword">this</span>.settings.abort_on_close)}.bind(<span class="hljs-keyword">this</span>)).on(<span class="hljs-string">"keyup.joyride"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.settings.keyboard)<span class="hljs-keyword">switch</span>(t.which){<span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:t.preventDefault(),<span class="hljs-keyword">this</span>.go_next();<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> <span class="hljs-number">37</span>:t.preventDefault(),<span class="hljs-keyword">this</span>.go_prev();<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:t.preventDefault(),<span class="hljs-keyword">this</span>.end(<span class="hljs-keyword">this</span>.settings.abort_on_close)}}.bind(<span class="hljs-keyword">this</span>)),t(e).off(<span class="hljs-string">".joyride"</span>).on(<span class="hljs-string">"resize.fndtn.joyride"</span>,i.throttle(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">if</span>(t(<span class="hljs-string">"["</span>+i.attr_name()+<span class="hljs-string">"]"</span>).length&gt;<span class="hljs-number">0</span>&amp;&amp;i.settings.$next_tip&amp;&amp;i.settings.riding){<span class="hljs-keyword">if</span>(i.settings.exposed.length&gt;<span class="hljs-number">0</span>){<span class="hljs-keyword">var</span> e=t(i.settings.exposed);e.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=t(<span class="hljs-keyword">this</span>);i.un_expose(e),i.expose(e)})}i.is_phone()?i.pos_phone():i.pos_default(!<span class="hljs-number">1</span>)}},<span class="hljs-number">100</span>))},start:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>,i=t(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-keyword">this</span>.scope),n=[<span class="hljs-string">"timer"</span>,<span class="hljs-string">"scrollSpeed"</span>,<span class="hljs-string">"startOffset"</span>,<span class="hljs-string">"tipAnimationFadeSpeed"</span>,<span class="hljs-string">"cookieExpires"</span>],r=n.length;!i.length&gt;<span class="hljs-number">0</span>||(<span class="hljs-keyword">this</span>.settings.init||<span class="hljs-keyword">this</span>.events(),<span class="hljs-keyword">this</span>.settings=i.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>),<span class="hljs-keyword">this</span>.settings.$content_el=i,<span class="hljs-keyword">this</span>.settings.$body=t(<span class="hljs-keyword">this</span>.settings.tip_container),<span class="hljs-keyword">this</span>.settings.body_offset=t(<span class="hljs-keyword">this</span>.settings.tip_container).position(),<span class="hljs-keyword">this</span>.settings.$tip_content=<span class="hljs-keyword">this</span>.settings.$content_el.find(<span class="hljs-string">"&gt; li"</span>),<span class="hljs-keyword">this</span>.settings.paused=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.settings.attempts=<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.settings.riding=!<span class="hljs-number">0</span>,<span class="hljs-string">"function"</span>!=<span class="hljs-keyword">typeof</span> t.cookie&amp;&amp;(<span class="hljs-keyword">this</span>.settings.cookie_monster=!<span class="hljs-number">1</span>),(!<span class="hljs-keyword">this</span>.settings.cookie_monster||<span class="hljs-keyword">this</span>.settings.cookie_monster&amp;&amp;!t.cookie(<span class="hljs-keyword">this</span>.settings.cookie_name))&amp;&amp;(<span class="hljs-keyword">this</span>.settings.$tip_content.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>)</span>{<span class="hljs-keyword">var</span> s=t(<span class="hljs-keyword">this</span>);<span class="hljs-keyword">this</span>.settings=t.extend({},e.defaults,e.data_options(s));<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o=r;o--;)e.settings[n[o]]=<span class="hljs-built_in">parseInt</span>(e.settings[n[o]],<span class="hljs-number">10</span>);e.create({$li:s,index:i})}),!<span class="hljs-keyword">this</span>.settings.start_timer_on_click&amp;&amp;<span class="hljs-keyword">this</span>.settings.timer&gt;<span class="hljs-number">0</span>?(<span class="hljs-keyword">this</span>.show(<span class="hljs-string">"init"</span>),<span class="hljs-keyword">this</span>.startTimer()):<span class="hljs-keyword">this</span>.show(<span class="hljs-string">"init"</span>)))},resume:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.set_li(),<span class="hljs-keyword">this</span>.show()},tip_template:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i,n;<span class="hljs-keyword">return</span> e.tip_class=e.tip_class||<span class="hljs-string">""</span>,i=t(<span class="hljs-keyword">this</span>.settings.template.tip).addClass(e.tip_class),n=t.trim(t(e.li).html())+<span class="hljs-keyword">this</span>.prev_button_text(e.prev_button_text,e.index)+<span class="hljs-keyword">this</span>.button_text(e.button_text)+<span class="hljs-keyword">this</span>.settings.template.link+<span class="hljs-keyword">this</span>.timer_instance(e.index),i.append(t(<span class="hljs-keyword">this</span>.settings.template.wrapper)),i.first().attr(<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-index"</span>),e.index),t(<span class="hljs-string">".joyride-content-wrapper"</span>,i).append(n),i[<span class="hljs-number">0</span>]},timer_instance:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i;<span class="hljs-keyword">return</span> i=<span class="hljs-number">0</span>===e&amp;&amp;<span class="hljs-keyword">this</span>.settings.start_timer_on_click&amp;&amp;<span class="hljs-keyword">this</span>.settings.timer&gt;<span class="hljs-number">0</span>||<span class="hljs-number">0</span>===<span class="hljs-keyword">this</span>.settings.timer?<span class="hljs-string">""</span>:t(<span class="hljs-keyword">this</span>.settings.template.timer)[<span class="hljs-number">0</span>].outerHTML},button_text:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.settings.tip_settings.next_button?(e=t.trim(e)||<span class="hljs-string">"Next"</span>,e=t(<span class="hljs-keyword">this</span>.settings.template.button).append(e)[<span class="hljs-number">0</span>].outerHTML):e=<span class="hljs-string">""</span>,e},prev_button_text:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.settings.tip_settings.prev_button?(e=t.trim(e)||<span class="hljs-string">"Previous"</span>,e=<span class="hljs-number">0</span>==i?t(<span class="hljs-keyword">this</span>.settings.template.prev_button).append(e).addClass(<span class="hljs-string">"disabled"</span>)[<span class="hljs-number">0</span>].outerHTML:t(<span class="hljs-keyword">this</span>.settings.template.prev_button).append(e)[<span class="hljs-number">0</span>].outerHTML):e=<span class="hljs-string">""</span>,e},create:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">this</span>.settings.tip_settings=t.extend({},<span class="hljs-keyword">this</span>.settings,<span class="hljs-keyword">this</span>.data_options(e.$li));<span class="hljs-keyword">var</span> i=e.$li.attr(<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-button"</span>))||e.$li.attr(<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-text"</span>)),n=e.$li.attr(<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-button-prev"</span>))||e.$li.attr(<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-prev-text"</span>)),r=e.$li.attr(<span class="hljs-string">"class"</span>),s=t(<span class="hljs-keyword">this</span>.tip_template({tip_class:r,index:e.index,button_text:i,prev_button_text:n,li:e.$li}));t(<span class="hljs-keyword">this</span>.settings.tip_container).append(s)},show:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">var</span> r=<span class="hljs-literal">null</span>;<span class="hljs-keyword">this</span>.settings.$li===n||t.inArray(<span class="hljs-keyword">this</span>.settings.$li.index(),<span class="hljs-keyword">this</span>.settings.pause_after)===-<span class="hljs-number">1</span>?(<span class="hljs-keyword">this</span>.settings.paused?<span class="hljs-keyword">this</span>.settings.paused=!<span class="hljs-number">1</span>:<span class="hljs-keyword">this</span>.set_li(e,i),<span class="hljs-keyword">this</span>.settings.attempts=<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.settings.$li.length&amp;&amp;<span class="hljs-keyword">this</span>.settings.$target.length&gt;<span class="hljs-number">0</span>?(e&amp;&amp;(<span class="hljs-keyword">this</span>.settings.pre_ride_callback(<span class="hljs-keyword">this</span>.settings.$li.index(),<span class="hljs-keyword">this</span>.settings.$next_tip),<span class="hljs-keyword">this</span>.settings.modal&amp;&amp;<span class="hljs-keyword">this</span>.show_modal()),<span class="hljs-keyword">this</span>.settings.pre_step_callback(<span class="hljs-keyword">this</span>.settings.$li.index(),<span class="hljs-keyword">this</span>.settings.$next_tip),<span class="hljs-keyword">this</span>.settings.modal&amp;&amp;<span class="hljs-keyword">this</span>.settings.expose&amp;&amp;<span class="hljs-keyword">this</span>.expose(),<span class="hljs-keyword">this</span>.settings.tip_settings=t.extend({},<span class="hljs-keyword">this</span>.settings,<span class="hljs-keyword">this</span>.data_options(<span class="hljs-keyword">this</span>.settings.$li)),<span class="hljs-keyword">this</span>.settings.timer=<span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.settings.timer,<span class="hljs-number">10</span>),<span class="hljs-keyword">this</span>.settings.tip_settings.tip_location_pattern=<span class="hljs-keyword">this</span>.settings.tip_location_patterns[<span class="hljs-keyword">this</span>.settings.tip_settings.tip_location],<span class="hljs-regexp">/body/i</span>.test(<span class="hljs-keyword">this</span>.settings.$target.selector)||<span class="hljs-keyword">this</span>.scroll_to(),<span class="hljs-keyword">this</span>.is_phone()?<span class="hljs-keyword">this</span>.pos_phone(!<span class="hljs-number">0</span>):<span class="hljs-keyword">this</span>.pos_default(!<span class="hljs-number">0</span>),r=<span class="hljs-keyword">this</span>.settings.$next_tip.find(<span class="hljs-string">".joyride-timer-indicator"</span>),<span class="hljs-regexp">/pop/i</span>.test(<span class="hljs-keyword">this</span>.settings.tip_animation)?(r.width(<span class="hljs-number">0</span>),<span class="hljs-keyword">this</span>.settings.timer&gt;<span class="hljs-number">0</span>?(<span class="hljs-keyword">this</span>.settings.$next_tip.show(),setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{r.animate({width:r.parent().width()},<span class="hljs-keyword">this</span>.settings.timer,<span class="hljs-string">"linear"</span>)}.bind(<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.settings.tip_animation_fade_speed)):<span class="hljs-keyword">this</span>.settings.$next_tip.show()):<span class="hljs-regexp">/fade/i</span>.test(<span class="hljs-keyword">this</span>.settings.tip_animation)&amp;&amp;(r.width(<span class="hljs-number">0</span>),<span class="hljs-keyword">this</span>.settings.timer&gt;<span class="hljs-number">0</span>?(<span class="hljs-keyword">this</span>.settings.$next_tip.fadeIn(<span class="hljs-keyword">this</span>.settings.tip_animation_fade_speed).show(),setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{r.animate({width:r.parent().width()},<span class="hljs-keyword">this</span>.settings.timer,<span class="hljs-string">"linear"</span>)}.bind(<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.settings.tip_animation_fade_speed)):<span class="hljs-keyword">this</span>.settings.$next_tip.fadeIn(<span class="hljs-keyword">this</span>.settings.tip_animation_fade_speed)),<span class="hljs-keyword">this</span>.settings.$current_tip=<span class="hljs-keyword">this</span>.settings.$next_tip):<span class="hljs-keyword">this</span>.settings.$li&amp;&amp;<span class="hljs-keyword">this</span>.settings.$target.length&lt;<span class="hljs-number">1</span>?<span class="hljs-keyword">this</span>.show():<span class="hljs-keyword">this</span>.end()):<span class="hljs-keyword">this</span>.settings.paused=!<span class="hljs-number">0</span>},is_phone:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> matchMedia(Foundation.media_queries.small).matches&amp;&amp;!matchMedia(Foundation.media_queries.medium).matches},hide:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.settings.modal&amp;&amp;<span class="hljs-keyword">this</span>.settings.expose&amp;&amp;<span class="hljs-keyword">this</span>.un_expose(),<span class="hljs-keyword">this</span>.settings.modal||t(<span class="hljs-string">".joyride-modal-bg"</span>).hide(),<span class="hljs-keyword">this</span>.settings.$current_tip.css(<span class="hljs-string">"visibility"</span>,<span class="hljs-string">"hidden"</span>),setTimeout(t.proxy(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.hide(),<span class="hljs-keyword">this</span>.css(<span class="hljs-string">"visibility"</span>,<span class="hljs-string">"visible"</span>)},<span class="hljs-keyword">this</span>.settings.$current_tip),<span class="hljs-number">0</span>),<span class="hljs-keyword">this</span>.settings.post_step_callback(<span class="hljs-keyword">this</span>.settings.$li.index(),<span class="hljs-keyword">this</span>.settings.$current_tip)},set_li:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{t?(<span class="hljs-keyword">this</span>.settings.$li=<span class="hljs-keyword">this</span>.settings.$tip_content.eq(<span class="hljs-keyword">this</span>.settings.start_offset),<span class="hljs-keyword">this</span>.set_next_tip(),<span class="hljs-keyword">this</span>.settings.$current_tip=<span class="hljs-keyword">this</span>.settings.$next_tip):(e?<span class="hljs-keyword">this</span>.settings.$li=<span class="hljs-keyword">this</span>.settings.$li.prev():<span class="hljs-keyword">this</span>.settings.$li=<span class="hljs-keyword">this</span>.settings.$li.next(),<span class="hljs-keyword">this</span>.set_next_tip()),<span class="hljs-keyword">this</span>.set_target()},set_next_tip:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.settings.$next_tip=t(<span class="hljs-string">".joyride-tip-guide"</span>).eq(<span class="hljs-keyword">this</span>.settings.$li.index()),<span class="hljs-keyword">this</span>.settings.$next_tip.data(<span class="hljs-string">"closed"</span>,<span class="hljs-string">""</span>)},set_target:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.settings.$li.attr(<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-class"</span>)),n=<span class="hljs-keyword">this</span>.settings.$li.attr(<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-id"</span>)),r=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> n?t(i.getElementById(n)):e?t(<span class="hljs-string">"."</span>+e).first():t(<span class="hljs-string">"body"</span>)};<span class="hljs-keyword">this</span>.settings.$target=r()},scroll_to:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> i,n;i=t(e).height()/<span class="hljs-number">2</span>,n=<span class="hljs-built_in">Math</span>.ceil(<span class="hljs-keyword">this</span>.settings.$target.offset().top-i+<span class="hljs-keyword">this</span>.settings.$next_tip.outerHeight()),<span class="hljs-number">0</span>!=n&amp;&amp;t(<span class="hljs-string">"html, body"</span>).stop().animate({scrollTop:n},<span class="hljs-keyword">this</span>.settings.scroll_speed,<span class="hljs-string">"swing"</span>)},paused:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> t.inArray(<span class="hljs-keyword">this</span>.settings.$li.index()+<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.settings.pause_after)===-<span class="hljs-number">1</span>},restart:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.hide(),<span class="hljs-keyword">this</span>.settings.$li=n,<span class="hljs-keyword">this</span>.show(<span class="hljs-string">"init"</span>)},pos_default:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.settings.$next_tip.find(<span class="hljs-string">".joyride-nub"</span>),i=<span class="hljs-built_in">Math</span>.ceil(e.outerWidth()/<span class="hljs-number">2</span>),n=<span class="hljs-built_in">Math</span>.ceil(e.outerHeight()/<span class="hljs-number">2</span>),r=t||!<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(r&amp;&amp;(<span class="hljs-keyword">this</span>.settings.$next_tip.css(<span class="hljs-string">"visibility"</span>,<span class="hljs-string">"hidden"</span>),<span class="hljs-keyword">this</span>.settings.$next_tip.show()),<span class="hljs-regexp">/body/i</span>.test(<span class="hljs-keyword">this</span>.settings.$target.selector))<span class="hljs-keyword">this</span>.settings.$li.length&amp;&amp;<span class="hljs-keyword">this</span>.pos_modal(e);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> s=<span class="hljs-keyword">this</span>.settings.tip_settings.tipAdjustmentY?<span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.settings.tip_settings.tipAdjustmentY):<span class="hljs-number">0</span>,o=<span class="hljs-keyword">this</span>.settings.tip_settings.tipAdjustmentX?<span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.settings.tip_settings.tipAdjustmentX):<span class="hljs-number">0</span>;<span class="hljs-keyword">this</span>.bottom()?(<span class="hljs-keyword">this</span>.rtl?<span class="hljs-keyword">this</span>.settings.$next_tip.css({top:<span class="hljs-keyword">this</span>.settings.$target.offset().top+n+<span class="hljs-keyword">this</span>.settings.$target.outerHeight()+s,left:<span class="hljs-keyword">this</span>.settings.$target.offset().left+<span class="hljs-keyword">this</span>.settings.$target.outerWidth()-<span class="hljs-keyword">this</span>.settings.$next_tip.outerWidth()+o}):<span class="hljs-keyword">this</span>.settings.$next_tip.css({top:<span class="hljs-keyword">this</span>.settings.$target.offset().top+n+<span class="hljs-keyword">this</span>.settings.$target.outerHeight()+s,left:<span class="hljs-keyword">this</span>.settings.$target.offset().left+o}),<span class="hljs-keyword">this</span>.nub_position(e,<span class="hljs-keyword">this</span>.settings.tip_settings.nub_position,<span class="hljs-string">"top"</span>)):<span class="hljs-keyword">this</span>.top()?(<span class="hljs-keyword">this</span>.rtl?<span class="hljs-keyword">this</span>.settings.$next_tip.css({top:<span class="hljs-keyword">this</span>.settings.$target.offset().top-<span class="hljs-keyword">this</span>.settings.$next_tip.outerHeight()-n+s,left:<span class="hljs-keyword">this</span>.settings.$target.offset().left+<span class="hljs-keyword">this</span>.settings.$target.outerWidth()-<span class="hljs-keyword">this</span>.settings.$next_tip.outerWidth()}):<span class="hljs-keyword">this</span>.settings.$next_tip.css({top:<span class="hljs-keyword">this</span>.settings.$target.offset().top-<span class="hljs-keyword">this</span>.settings.$next_tip.outerHeight()-n+s,left:<span class="hljs-keyword">this</span>.settings.$target.offset().left+o}),<span class="hljs-keyword">this</span>.nub_position(e,<span class="hljs-keyword">this</span>.settings.tip_settings.nub_position,<span class="hljs-string">"bottom"</span>)):<span class="hljs-keyword">this</span>.right()?(<span class="hljs-keyword">this</span>.settings.$next_tip.css({top:<span class="hljs-keyword">this</span>.settings.$target.offset().top+s,left:<span class="hljs-keyword">this</span>.settings.$target.outerWidth()+<span class="hljs-keyword">this</span>.settings.$target.offset().left+i+o}),<span class="hljs-keyword">this</span>.nub_position(e,<span class="hljs-keyword">this</span>.settings.tip_settings.nub_position,<span class="hljs-string">"left"</span>)):<span class="hljs-keyword">this</span>.left()&amp;&amp;(<span class="hljs-keyword">this</span>.settings.$next_tip.css({top:<span class="hljs-keyword">this</span>.settings.$target.offset().top+s,left:<span class="hljs-keyword">this</span>.settings.$target.offset().left-<span class="hljs-keyword">this</span>.settings.$next_tip.outerWidth()-i+o}),<span class="hljs-keyword">this</span>.nub_position(e,<span class="hljs-keyword">this</span>.settings.tip_settings.nub_position,<span class="hljs-string">"right"</span>)),!<span class="hljs-keyword">this</span>.visible(<span class="hljs-keyword">this</span>.corners(<span class="hljs-keyword">this</span>.settings.$next_tip))&amp;&amp;<span class="hljs-keyword">this</span>.settings.attempts&lt;<span class="hljs-keyword">this</span>.settings.tip_settings.tip_location_pattern.length&amp;&amp;(e.removeClass(<span class="hljs-string">"bottom"</span>).removeClass(<span class="hljs-string">"top"</span>).removeClass(<span class="hljs-string">"right"</span>).removeClass(<span class="hljs-string">"left"</span>),<span class="hljs-keyword">this</span>.settings.tip_settings.tip_location=<span class="hljs-keyword">this</span>.settings.tip_settings.tip_location_pattern[<span class="hljs-keyword">this</span>.settings.attempts],<span class="hljs-keyword">this</span>.settings.attempts++,<span class="hljs-keyword">this</span>.pos_default())}r&amp;&amp;(<span class="hljs-keyword">this</span>.settings.$next_tip.hide(),<span class="hljs-keyword">this</span>.settings.$next_tip.css(<span class="hljs-string">"visibility"</span>,<span class="hljs-string">"visible"</span>))},pos_phone:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>.settings.$next_tip.outerHeight(),n=(<span class="hljs-keyword">this</span>.settings.$next_tip.offset(),<span class="hljs-keyword">this</span>.settings.$target.outerHeight()),r=t(<span class="hljs-string">".joyride-nub"</span>,<span class="hljs-keyword">this</span>.settings.$next_tip),s=<span class="hljs-built_in">Math</span>.ceil(r.outerHeight()/<span class="hljs-number">2</span>),o=e||!<span class="hljs-number">1</span>;r.removeClass(<span class="hljs-string">"bottom"</span>).removeClass(<span class="hljs-string">"top"</span>).removeClass(<span class="hljs-string">"right"</span>).removeClass(<span class="hljs-string">"left"</span>),o&amp;&amp;(<span class="hljs-keyword">this</span>.settings.$next_tip.css(<span class="hljs-string">"visibility"</span>,<span class="hljs-string">"hidden"</span>),<span class="hljs-keyword">this</span>.settings.$next_tip.show()),<span class="hljs-regexp">/body/i</span>.test(<span class="hljs-keyword">this</span>.settings.$target.selector)?<span class="hljs-keyword">this</span>.settings.$li.length&amp;&amp;<span class="hljs-keyword">this</span>.pos_modal(r):<span class="hljs-keyword">this</span>.top()?(<span class="hljs-keyword">this</span>.settings.$next_tip.offset({top:<span class="hljs-keyword">this</span>.settings.$target.offset().top-i-s}),r.addClass(<span class="hljs-string">"bottom"</span>)):(<span class="hljs-keyword">this</span>.settings.$next_tip.offset({top:<span class="hljs-keyword">this</span>.settings.$target.offset().top+n+s}),r.addClass(<span class="hljs-string">"top"</span>)),o&amp;&amp;(<span class="hljs-keyword">this</span>.settings.$next_tip.hide(),<span class="hljs-keyword">this</span>.settings.$next_tip.css(<span class="hljs-string">"visibility"</span>,<span class="hljs-string">"visible"</span>))},pos_modal:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">this</span>.center(),t.hide(),<span class="hljs-keyword">this</span>.show_modal()},show_modal:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.settings.$next_tip.data(<span class="hljs-string">"closed"</span>)){<span class="hljs-keyword">var</span> e=t(<span class="hljs-string">".joyride-modal-bg"</span>);e.length&lt;<span class="hljs-number">1</span>&amp;&amp;t(<span class="hljs-string">"body"</span>).append(<span class="hljs-keyword">this</span>.settings.template.modal).show(),<span class="hljs-regexp">/pop/i</span>.test(<span class="hljs-keyword">this</span>.settings.tip_animation)?e.show():e.fadeIn(<span class="hljs-keyword">this</span>.settings.tip_animation_fade_speed)}},expose:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> i,n,r,s,o,a=<span class="hljs-string">"expose-"</span>+<span class="hljs-keyword">this</span>.random_str(<span class="hljs-number">6</span>);<span class="hljs-keyword">if</span>(<span class="hljs-built_in">arguments</span>.length&gt;<span class="hljs-number">0</span>&amp;&amp;<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>]<span class="hljs-keyword">instanceof</span> t)r=<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>];<span class="hljs-keyword">else</span>{<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.settings.$target||<span class="hljs-regexp">/body/i</span>.test(<span class="hljs-keyword">this</span>.settings.$target.selector))<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;r=<span class="hljs-keyword">this</span>.settings.$target}<span class="hljs-keyword">return</span> r.length&lt;<span class="hljs-number">1</span>?(e.console&amp;&amp;<span class="hljs-built_in">console</span>.error(<span class="hljs-string">"element not valid"</span>,r),!<span class="hljs-number">1</span>):(i=t(<span class="hljs-keyword">this</span>.settings.template.expose),<span class="hljs-keyword">this</span>.settings.$body.append(i),i.css({top:r.offset().top,left:r.offset().left,width:r.outerWidth(!<span class="hljs-number">0</span>),height:r.outerHeight(!<span class="hljs-number">0</span>)}),n=t(<span class="hljs-keyword">this</span>.settings.template.expose_cover),s={zIndex:r.css(<span class="hljs-string">"z-index"</span>),position:r.css(<span class="hljs-string">"position"</span>)},o=<span class="hljs-literal">null</span>==r.attr(<span class="hljs-string">"class"</span>)?<span class="hljs-string">""</span>:r.attr(<span class="hljs-string">"class"</span>),r.css(<span class="hljs-string">"z-index"</span>,<span class="hljs-built_in">parseInt</span>(i.css(<span class="hljs-string">"z-index"</span>))+<span class="hljs-number">1</span>),<span class="hljs-string">"static"</span>==s.position&amp;&amp;r.css(<span class="hljs-string">"position"</span>,<span class="hljs-string">"relative"</span>),r.data(<span class="hljs-string">"expose-css"</span>,s),r.data(<span class="hljs-string">"orig-class"</span>,o),r.attr(<span class="hljs-string">"class"</span>,o+<span class="hljs-string">" "</span>+<span class="hljs-keyword">this</span>.settings.expose_add_class),n.css({top:r.offset().top,left:r.offset().left,width:r.outerWidth(!<span class="hljs-number">0</span>),height:r.outerHeight(!<span class="hljs-number">0</span>)}),<span class="hljs-keyword">this</span>.settings.modal&amp;&amp;<span class="hljs-keyword">this</span>.show_modal(),<span class="hljs-keyword">this</span>.settings.$body.append(n),i.addClass(a),n.addClass(a),r.data(<span class="hljs-string">"expose"</span>,a),<span class="hljs-keyword">this</span>.settings.post_expose_callback(<span class="hljs-keyword">this</span>.settings.$li.index(),<span class="hljs-keyword">this</span>.settings.$next_tip,r),<span class="hljs-keyword">this</span>.add_exposed(r),<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)},un_expose:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> i,n,r,s,o,a=!<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(<span class="hljs-built_in">arguments</span>.length&gt;<span class="hljs-number">0</span>&amp;&amp;<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>]<span class="hljs-keyword">instanceof</span> t)n=<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>];<span class="hljs-keyword">else</span>{<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.settings.$target||<span class="hljs-regexp">/body/i</span>.test(<span class="hljs-keyword">this</span>.settings.$target.selector))<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;n=<span class="hljs-keyword">this</span>.settings.$target}<span class="hljs-keyword">return</span> n.length&lt;<span class="hljs-number">1</span>?(e.console&amp;&amp;<span class="hljs-built_in">console</span>.error(<span class="hljs-string">"element not valid"</span>,n),!<span class="hljs-number">1</span>):(i=n.data(<span class="hljs-string">"expose"</span>),r=t(<span class="hljs-string">"."</span>+i),<span class="hljs-built_in">arguments</span>.length&gt;<span class="hljs-number">1</span>&amp;&amp;(a=<span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>]),a===!<span class="hljs-number">0</span>?t(<span class="hljs-string">".joyride-expose-wrapper,.joyride-expose-cover"</span>).remove():r.remove(),s=n.data(<span class="hljs-string">"expose-css"</span>),<span class="hljs-string">"auto"</span>==s.zIndex?n.css(<span class="hljs-string">"z-index"</span>,<span class="hljs-string">""</span>):n.css(<span class="hljs-string">"z-index"</span>,s.zIndex),s.position!=n.css(<span class="hljs-string">"position"</span>)&amp;&amp;(<span class="hljs-string">"static"</span>==s.position?n.css(<span class="hljs-string">"position"</span>,<span class="hljs-string">""</span>):n.css(<span class="hljs-string">"position"</span>,s.position)),o=n.data(<span class="hljs-string">"orig-class"</span>),n.attr(<span class="hljs-string">"class"</span>,o),n.removeData(<span class="hljs-string">"orig-classes"</span>),n.removeData(<span class="hljs-string">"expose"</span>),n.removeData(<span class="hljs-string">"expose-z-index"</span>),<span class="hljs-keyword">this</span>.remove_exposed(n),<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)},add_exposed:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">this</span>.settings.exposed=<span class="hljs-keyword">this</span>.settings.exposed||[],e <span class="hljs-keyword">instanceof</span> t||<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> e?<span class="hljs-keyword">this</span>.settings.exposed.push(e[<span class="hljs-number">0</span>]):<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;<span class="hljs-keyword">this</span>.settings.exposed.push(e)},remove_exposed:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i,n;<span class="hljs-keyword">for</span>(e <span class="hljs-keyword">instanceof</span> t?i=e[<span class="hljs-number">0</span>]:<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;(i=e),<span class="hljs-keyword">this</span>.settings.exposed=<span class="hljs-keyword">this</span>.settings.exposed||[],n=<span class="hljs-keyword">this</span>.settings.exposed.length;n--;)<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.settings.exposed[n]==i)<span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> <span class="hljs-keyword">this</span>.settings.exposed.splice(n,<span class="hljs-number">1</span>)},center:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> i=t(e);<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.settings.$next_tip.css({top:(i.height()-<span class="hljs-keyword">this</span>.settings.$next_tip.outerHeight())/<span class="hljs-number">2</span>+i.scrollTop(),left:(i.width()-<span class="hljs-keyword">this</span>.settings.$next_tip.outerWidth())/<span class="hljs-number">2</span>+i.scrollLeft()}),!<span class="hljs-number">0</span>},bottom:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-regexp">/bottom/i</span>.test(<span class="hljs-keyword">this</span>.settings.tip_settings.tip_location)},top:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-regexp">/top/i</span>.test(<span class="hljs-keyword">this</span>.settings.tip_settings.tip_location)},right:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-regexp">/right/i</span>.test(<span class="hljs-keyword">this</span>.settings.tip_settings.tip_location)},left:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-regexp">/left/i</span>.test(<span class="hljs-keyword">this</span>.settings.tip_settings.tip_location)},corners:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>)</span>{<span class="hljs-keyword">var</span> n=t(e),r=n.height()/<span class="hljs-number">2</span>,s=<span class="hljs-built_in">Math</span>.ceil(<span class="hljs-keyword">this</span>.settings.$target.offset().top-r+<span class="hljs-keyword">this</span>.settings.$next_tip.outerHeight()),o=n.width()+n.scrollLeft(),a=n.height()+s,l=n.height()+n.scrollTop(),c=n.scrollTop();<span class="hljs-keyword">return</span> s&lt;c&amp;&amp;(c=s&lt;<span class="hljs-number">0</span>?<span class="hljs-number">0</span>:s),a&gt;l&amp;&amp;(l=a),[i.offset().top&lt;c,o&lt;i.offset().left+i.outerWidth(),l&lt;i.offset().top+i.outerHeight(),n.scrollLeft()&gt;i.offset().left]},visible:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=t.length;e--;)<span class="hljs-keyword">if</span>(t[e])<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>},nub_position:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-string">"auto"</span>===e?t.addClass(i):t.addClass(e)},startTimer:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.settings.$li.length?<span class="hljs-keyword">this</span>.settings.automate=setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-keyword">this</span>.hide(),<span class="hljs-keyword">this</span>.show(),<span class="hljs-keyword">this</span>.startTimer()}.bind(<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.settings.timer):clearTimeout(<span class="hljs-keyword">this</span>.settings.automate)},end:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">this</span>.settings.cookie_monster&amp;&amp;t.cookie(<span class="hljs-keyword">this</span>.settings.cookie_name,<span class="hljs-string">"ridden"</span>,{expires:<span class="hljs-keyword">this</span>.settings.cookie_expires,domain:<span class="hljs-keyword">this</span>.settings.cookie_domain}),<span class="hljs-keyword">this</span>.settings.timer&gt;<span class="hljs-number">0</span>&amp;&amp;clearTimeout(<span class="hljs-keyword">this</span>.settings.automate),<span class="hljs-keyword">this</span>.settings.modal&amp;&amp;<span class="hljs-keyword">this</span>.settings.expose&amp;&amp;<span class="hljs-keyword">this</span>.un_expose(),t(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">"keyup.joyride"</span>),<span class="hljs-keyword">this</span>.settings.$next_tip.data(<span class="hljs-string">"closed"</span>,!<span class="hljs-number">0</span>),<span class="hljs-keyword">this</span>.settings.riding=!<span class="hljs-number">1</span>,t(<span class="hljs-string">".joyride-modal-bg"</span>).hide(),<span class="hljs-keyword">this</span>.settings.$current_tip.hide(),<span class="hljs-string">"undefined"</span>!=<span class="hljs-keyword">typeof</span> e&amp;&amp;e!==!<span class="hljs-number">1</span>||(<span class="hljs-keyword">this</span>.settings.post_step_callback(<span class="hljs-keyword">this</span>.settings.$li.index(),<span class="hljs-keyword">this</span>.settings.$current_tip),<span class="hljs-keyword">this</span>.settings.post_ride_callback(<span class="hljs-keyword">this</span>.settings.$li.index(),<span class="hljs-keyword">this</span>.settings.$current_tip)),t(<span class="hljs-string">".joyride-tip-guide"</span>).remove()},off:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".joyride"</span>),t(e).off(<span class="hljs-string">".joyride"</span>),t(<span class="hljs-string">".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg"</span>).off(<span class="hljs-string">".joyride"</span>),t(<span class="hljs-string">".joyride-tip-guide, .joyride-modal-bg"</span>).remove(),clearTimeout(<span class="hljs-keyword">this</span>.settings.automate),<span class="hljs-keyword">this</span>.settings={}},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;Foundation.libs.equalizer={name:<span class="hljs-string">"equalizer"</span>,version:<span class="hljs-string">"5.3.3"</span>,settings:{use_tallest:!<span class="hljs-number">0</span>,before_height_change:t.noop,after_height_change:t.noop,equalize_on_stack:!<span class="hljs-number">1</span>},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{Foundation.inherit(<span class="hljs-keyword">this</span>,<span class="hljs-string">"image_loaded"</span>),<span class="hljs-keyword">this</span>.bindings(e,i),<span class="hljs-keyword">this</span>.reflow()},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.S(e).off(<span class="hljs-string">".equalizer"</span>).on(<span class="hljs-string">"resize.fndtn.equalizer"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">this</span>.reflow()}.bind(<span class="hljs-keyword">this</span>))},equalize:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=!<span class="hljs-number">1</span>,n=e.find(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"-watch]:visible"</span>),r=e.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>);<span class="hljs-keyword">if</span>(<span class="hljs-number">0</span>!==n.length){<span class="hljs-keyword">var</span> s=n.first().offset().top;<span class="hljs-keyword">if</span>(r.before_height_change(),e.trigger(<span class="hljs-string">"before-height-change"</span>).trigger(<span class="hljs-string">"before-height-change.fndth.equalizer"</span>),n.height(<span class="hljs-string">"inherit"</span>),n.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=t(<span class="hljs-keyword">this</span>);e.offset().top!==s&amp;&amp;(i=!<span class="hljs-number">0</span>)}),r.equalize_on_stack!==!<span class="hljs-number">1</span>||!i){<span class="hljs-keyword">var</span> o=n.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> t(<span class="hljs-keyword">this</span>).outerHeight(!<span class="hljs-number">1</span>)}).get();<span class="hljs-keyword">if</span>(r.use_tallest){<span class="hljs-keyword">var</span> a=<span class="hljs-built_in">Math</span>.max.apply(<span class="hljs-literal">null</span>,o);n.css(<span class="hljs-string">"height"</span>,a)}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> l=<span class="hljs-built_in">Math</span>.min.apply(<span class="hljs-literal">null</span>,o);n.css(<span class="hljs-string">"height"</span>,l)}r.after_height_change(),e.trigger(<span class="hljs-string">"after-height-change"</span>).trigger(<span class="hljs-string">"after-height-change.fndtn.equalizer"</span>)}}},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-keyword">this</span>.scope).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> i=t(<span class="hljs-keyword">this</span>);e.image_loaded(e.S(<span class="hljs-string">"img"</span>,<span class="hljs-keyword">this</span>),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{e.equalize(i)})})}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;Foundation.libs.dropdown={name:<span class="hljs-string">"dropdown"</span>,version:<span class="hljs-string">"5.3.3"</span>,settings:{active_class:<span class="hljs-string">"open"</span>,align:<span class="hljs-string">"bottom"</span>,is_hover:!<span class="hljs-number">1</span>,opened:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},closed:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{Foundation.inherit(<span class="hljs-keyword">this</span>,<span class="hljs-string">"throttle"</span>),<span class="hljs-keyword">this</span>.bindings(e,i)},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>)</span>{<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>,r=n.S;r(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".dropdown"</span>).on(<span class="hljs-string">"click.fndtn.dropdown"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=r(<span class="hljs-keyword">this</span>).data(n.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>)||n.settings;i.is_hover&amp;&amp;!Modernizr.touch||(e.preventDefault(),n.toggle(t(<span class="hljs-keyword">this</span>)))}).on(<span class="hljs-string">"mouseenter.fndtn.dropdown"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"], ["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"-content]"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e,i,s=r(<span class="hljs-keyword">this</span>);clearTimeout(n.timeout),s.data(n.data_attr())?(e=r(<span class="hljs-string">"#"</span>+s.data(n.data_attr())),i=s):(e=s,i=r(<span class="hljs-string">"["</span>+n.attr_name()+<span class="hljs-string">"='"</span>+e.attr(<span class="hljs-string">"id"</span>)+<span class="hljs-string">"']"</span>));<span class="hljs-keyword">var</span> o=i.data(n.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>)||n.settings;r(t.target).data(n.data_attr())&amp;&amp;o.is_hover&amp;&amp;n.closeall.call(n),o.is_hover&amp;&amp;n.open.apply(n,[e,i])}).on(<span class="hljs-string">"mouseleave.fndtn.dropdown"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"], ["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"-content]"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=r(<span class="hljs-keyword">this</span>);n.timeout=setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">if</span>(e.data(n.data_attr())){<span class="hljs-keyword">var</span> t=e.data(n.data_attr(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>)||n.settings;t.is_hover&amp;&amp;n.close.call(n,r(<span class="hljs-string">"#"</span>+e.data(n.data_attr())))}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> i=r(<span class="hljs-string">"["</span>+n.attr_name()+<span class="hljs-string">'="'</span>+r(<span class="hljs-keyword">this</span>).attr(<span class="hljs-string">"id"</span>)+<span class="hljs-string">'"]'</span>),t=i.data(n.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>)||n.settings;t.is_hover&amp;&amp;n.close.call(n,e)}}.bind(<span class="hljs-keyword">this</span>),<span class="hljs-number">150</span>)}).on(<span class="hljs-string">"click.fndtn.dropdown"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=r(e.target).closest(<span class="hljs-string">"["</span>+n.attr_name()+<span class="hljs-string">"-content]"</span>);<span class="hljs-keyword">if</span>(!(r(e.target).closest(<span class="hljs-string">"["</span>+n.attr_name()+<span class="hljs-string">"]"</span>).length&gt;<span class="hljs-number">0</span>))<span class="hljs-keyword">return</span>!r(e.target).data(<span class="hljs-string">"revealId"</span>)&amp;&amp;i.length&gt;<span class="hljs-number">0</span>&amp;&amp;(r(e.target).is(<span class="hljs-string">"["</span>+n.attr_name()+<span class="hljs-string">"-content]"</span>)||t.contains(i.first()[<span class="hljs-number">0</span>],e.target))?<span class="hljs-keyword">void</span> e.stopPropagation():<span class="hljs-keyword">void</span> n.close.call(n,r(<span class="hljs-string">"["</span>+n.attr_name()+<span class="hljs-string">"-content]"</span>))}).on(<span class="hljs-string">"opened.fndtn.dropdown"</span>,<span class="hljs-string">"["</span>+n.attr_name()+<span class="hljs-string">"-content]"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{n.settings.opened.call(<span class="hljs-keyword">this</span>)}).on(<span class="hljs-string">"closed.fndtn.dropdown"</span>,<span class="hljs-string">"["</span>+n.attr_name()+<span class="hljs-string">"-content]"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{n.settings.closed.call(<span class="hljs-keyword">this</span>)}),r(e).off(<span class="hljs-string">".dropdown"</span>).on(<span class="hljs-string">"resize.fndtn.dropdown"</span>,n.throttle(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{n.resize.call(n)},<span class="hljs-number">50</span>)),<span class="hljs-keyword">this</span>.resize()},close:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>;t.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{e.S(<span class="hljs-keyword">this</span>).hasClass(e.settings.active_class)&amp;&amp;(e.S(<span class="hljs-keyword">this</span>).css(Foundation.rtl?<span class="hljs-string">"right"</span>:<span class="hljs-string">"left"</span>,<span class="hljs-string">"-99999px"</span>).removeClass(e.settings.active_class).prev(<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"]"</span>).removeClass(e.settings.active_class).removeData(<span class="hljs-string">"target"</span>),e.S(<span class="hljs-keyword">this</span>).trigger(<span class="hljs-string">"closed"</span>).trigger(<span class="hljs-string">"closed.fndtn.dropdown"</span>,[t]))})},closeall:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>;t.each(e.S(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"-content]"</span>),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{e.close.call(e,e.S(<span class="hljs-keyword">this</span>))})},open:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">this</span>.css(t.addClass(<span class="hljs-keyword">this</span>.settings.active_class),e),t.prev(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>).addClass(<span class="hljs-keyword">this</span>.settings.active_class),t.data(<span class="hljs-string">"target"</span>,e.get(<span class="hljs-number">0</span>)).trigger(<span class="hljs-string">"opened"</span>).trigger(<span class="hljs-string">"opened.fndtn.dropdown"</span>,[t,e])},data_attr:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.namespace.length&gt;<span class="hljs-number">0</span>?<span class="hljs-keyword">this</span>.namespace+<span class="hljs-string">"-"</span>+<span class="hljs-keyword">this</span>.name:<span class="hljs-keyword">this</span>.name},toggle:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"#"</span>+t.data(<span class="hljs-keyword">this</span>.data_attr()));<span class="hljs-number">0</span>!==e.length&amp;&amp;(<span class="hljs-keyword">this</span>.close.call(<span class="hljs-keyword">this</span>,<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"-content]"</span>).not(e)),e.hasClass(<span class="hljs-keyword">this</span>.settings.active_class)?(<span class="hljs-keyword">this</span>.close.call(<span class="hljs-keyword">this</span>,e),e.data(<span class="hljs-string">"target"</span>)!==t.get(<span class="hljs-number">0</span>)&amp;&amp;<span class="hljs-keyword">this</span>.open.call(<span class="hljs-keyword">this</span>,e,t)):<span class="hljs-keyword">this</span>.open.call(<span class="hljs-keyword">this</span>,e,t))},resize:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"-content].open"</span>),e=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"='"</span>+t.attr(<span class="hljs-string">"id"</span>)+<span class="hljs-string">"']"</span>);t.length&amp;&amp;e.length&amp;&amp;<span class="hljs-keyword">this</span>.css(t,e)},css:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-built_in">Math</span>.max((e.width()-t.width())/<span class="hljs-number">2</span>,<span class="hljs-number">8</span>);<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.clear_idx(),<span class="hljs-keyword">this</span>.small()){<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>.dirs.bottom.call(t,e);t.attr(<span class="hljs-string">"style"</span>,<span class="hljs-string">""</span>).removeClass(<span class="hljs-string">"drop-left drop-right drop-top"</span>).css({position:<span class="hljs-string">"absolute"</span>,width:<span class="hljs-string">"95%"</span>,<span class="hljs-string">"max-width"</span>:<span class="hljs-string">"none"</span>,top:n.top}),t.css(Foundation.rtl?<span class="hljs-string">"right"</span>:<span class="hljs-string">"left"</span>,i)}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> r=e.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>)||<span class="hljs-keyword">this</span>.settings;<span class="hljs-keyword">this</span>.style(t,e,r)}<span class="hljs-keyword">return</span> t},style:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=t.extend({position:<span class="hljs-string">"absolute"</span>},<span class="hljs-keyword">this</span>.dirs[n.align].call(e,i,n));e.attr(<span class="hljs-string">"style"</span>,<span class="hljs-string">""</span>).css(r)},dirs:{_base:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.offsetParent(),i=e.offset(),n=t.offset();<span class="hljs-keyword">return</span> n.top-=i.top,n.left-=i.left,n},top:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=Foundation.libs.dropdown,n=i.dirs._base.call(<span class="hljs-keyword">this</span>,t),r=<span class="hljs-number">8</span>;<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.addClass(<span class="hljs-string">"drop-top"</span>),(t.outerWidth()&lt;<span class="hljs-keyword">this</span>.outerWidth()||i.small())&amp;&amp;i.adjust_pip(r,n),Foundation.rtl?{left:n.left-<span class="hljs-keyword">this</span>.outerWidth()+t.outerWidth(),top:n.top-<span class="hljs-keyword">this</span>.outerHeight()}:{left:n.left,top:n.top-<span class="hljs-keyword">this</span>.outerHeight()}},bottom:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=Foundation.libs.dropdown,n=i.dirs._base.call(<span class="hljs-keyword">this</span>,t),r=<span class="hljs-number">8</span>;<span class="hljs-keyword">return</span>(t.outerWidth()&lt;<span class="hljs-keyword">this</span>.outerWidth()||i.small())&amp;&amp;i.adjust_pip(r,n),i.rtl?{left:n.left-<span class="hljs-keyword">this</span>.outerWidth()+t.outerWidth(),top:n.top+t.outerHeight()}:{left:n.left,top:n.top+t.outerHeight()}},left:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=Foundation.libs.dropdown.dirs._base.call(<span class="hljs-keyword">this</span>,t);<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.addClass(<span class="hljs-string">"drop-left"</span>),{left:i.left-<span class="hljs-keyword">this</span>.outerWidth(),top:i.top}},right:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=Foundation.libs.dropdown.dirs._base.call(<span class="hljs-keyword">this</span>,t);<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.addClass(<span class="hljs-string">"drop-right"</span>),{left:i.left+t.outerWidth(),top:i.top}}},adjust_pip:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=Foundation.stylesheet;<span class="hljs-keyword">this</span>.small()&amp;&amp;(t+=e.left-<span class="hljs-number">8</span>),<span class="hljs-keyword">this</span>.rule_idx=i.cssRules.length;<span class="hljs-keyword">var</span> n=<span class="hljs-string">".f-dropdown.open:before"</span>,r=<span class="hljs-string">".f-dropdown.open:after"</span>,s=<span class="hljs-string">"left: "</span>+t+<span class="hljs-string">"px;"</span>,o=<span class="hljs-string">"left: "</span>+(t-<span class="hljs-number">1</span>)+<span class="hljs-string">"px;"</span>;i.insertRule?(i.insertRule([n,<span class="hljs-string">"{"</span>,s,<span class="hljs-string">"}"</span>].join(<span class="hljs-string">" "</span>),<span class="hljs-keyword">this</span>.rule_idx),i.insertRule([r,<span class="hljs-string">"{"</span>,o,<span class="hljs-string">"}"</span>].join(<span class="hljs-string">" "</span>),<span class="hljs-keyword">this</span>.rule_idx+<span class="hljs-number">1</span>)):(i.addRule(n,s,<span class="hljs-keyword">this</span>.rule_idx),i.addRule(r,o,<span class="hljs-keyword">this</span>.rule_idx+<span class="hljs-number">1</span>))},clear_idx:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=Foundation.stylesheet;<span class="hljs-keyword">this</span>.rule_idx&amp;&amp;(t.deleteRule(<span class="hljs-keyword">this</span>.rule_idx),t.deleteRule(<span class="hljs-keyword">this</span>.rule_idx),<span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.rule_idx)},small:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> matchMedia(Foundation.media_queries.small).matches&amp;&amp;!matchMedia(Foundation.media_queries.medium).matches},off:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.S(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".fndtn.dropdown"</span>),<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"html, body"</span>).off(<span class="hljs-string">".fndtn.dropdown"</span>),<span class="hljs-keyword">this</span>.S(e).off(<span class="hljs-string">".fndtn.dropdown"</span>),<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"[data-dropdown-content]"</span>).off(<span class="hljs-string">".fndtn.dropdown"</span>)},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;Foundation.libs.clearing={name:<span class="hljs-string">"clearing"</span>,version:<span class="hljs-string">"5.3.3"</span>,settings:{templates:{viewing:<span class="hljs-string">'&lt;a href="#" class="clearing-close"&gt;&amp;times;&lt;/a&gt;&lt;div class="visible-img" style="display: none"&gt;&lt;div class="clearing-touch-label"&gt;&lt;/div&gt;&lt;img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /&gt;&lt;p class="clearing-caption"&gt;&lt;/p&gt;&lt;a href="#" class="clearing-main-prev"&gt;&lt;span&gt;&lt;/span&gt;&lt;/a&gt;&lt;a href="#" class="clearing-main-next"&gt;&lt;span&gt;&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;'</span>},close_selectors:<span class="hljs-string">".clearing-close, div.clearing-blackout"</span>,open_selectors:<span class="hljs-string">""</span>,skip_selector:<span class="hljs-string">""</span>,touch_label:<span class="hljs-string">""</span>,init:!<span class="hljs-number">1</span>,locked:!<span class="hljs-number">1</span>},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>;Foundation.inherit(<span class="hljs-keyword">this</span>,<span class="hljs-string">"throttle image_loaded"</span>),<span class="hljs-keyword">this</span>.bindings(e,i),n.S(<span class="hljs-keyword">this</span>.scope).is(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>)?<span class="hljs-keyword">this</span>.assemble(n.S(<span class="hljs-string">"li"</span>,<span class="hljs-keyword">this</span>.scope)):n.S(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-keyword">this</span>.scope).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{n.assemble(n.S(<span class="hljs-string">"li"</span>,<span class="hljs-keyword">this</span>))})},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>)</span>{<span class="hljs-keyword">var</span> r=<span class="hljs-keyword">this</span>,s=r.S,o=t(<span class="hljs-string">".scroll-container"</span>);o.length&gt;<span class="hljs-number">0</span>&amp;&amp;(<span class="hljs-keyword">this</span>.scope=o),s(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".clearing"</span>).on(<span class="hljs-string">"click.fndtn.clearing"</span>,<span class="hljs-string">"ul["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"] li "</span>+<span class="hljs-keyword">this</span>.settings.open_selectors,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> e=e||s(<span class="hljs-keyword">this</span>),i=i||e,n=e.next(<span class="hljs-string">"li"</span>),o=e.closest(<span class="hljs-string">"["</span>+r.attr_name()+<span class="hljs-string">"]"</span>).data(r.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>),a=s(t.target);t.preventDefault(),o||(r.init(),o=e.closest(<span class="hljs-string">"["</span>+r.attr_name()+<span class="hljs-string">"]"</span>).data(r.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>)),i.hasClass(<span class="hljs-string">"visible"</span>)&amp;&amp;e[<span class="hljs-number">0</span>]===i[<span class="hljs-number">0</span>]&amp;&amp;n.length&gt;<span class="hljs-number">0</span>&amp;&amp;r.is_open(e)&amp;&amp;(i=n,a=s(<span class="hljs-string">"img"</span>,i)),r.open(a,e,i),r.update_paddles(i)}).on(<span class="hljs-string">"click.fndtn.clearing"</span>,<span class="hljs-string">".clearing-main-next"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{r.nav(t,<span class="hljs-string">"next"</span>)}).on(<span class="hljs-string">"click.fndtn.clearing"</span>,<span class="hljs-string">".clearing-main-prev"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{r.nav(t,<span class="hljs-string">"prev"</span>)}).on(<span class="hljs-string">"click.fndtn.clearing"</span>,<span class="hljs-keyword">this</span>.settings.close_selectors,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{Foundation.libs.clearing.close(t,<span class="hljs-keyword">this</span>)}),t(i).on(<span class="hljs-string">"keydown.fndtn.clearing"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{r.keydown(t)}),s(e).off(<span class="hljs-string">".clearing"</span>).on(<span class="hljs-string">"resize.fndtn.clearing"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{r.resize()}),<span class="hljs-keyword">this</span>.swipe_events(n)},swipe_events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>,i=e.S;i(<span class="hljs-keyword">this</span>.scope).on(<span class="hljs-string">"touchstart.fndtn.clearing"</span>,<span class="hljs-string">".visible-img"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t.touches||(t=t.originalEvent);<span class="hljs-keyword">var</span> e={start_page_x:t.touches[<span class="hljs-number">0</span>].pageX,start_page_y:t.touches[<span class="hljs-number">0</span>].pageY,start_time:(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>).getTime(),delta_x:<span class="hljs-number">0</span>,is_scrolling:n};i(<span class="hljs-keyword">this</span>).data(<span class="hljs-string">"swipe-transition"</span>,e),t.stopPropagation()}).on(<span class="hljs-string">"touchmove.fndtn.clearing"</span>,<span class="hljs-string">".visible-img"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(t.touches||(t=t.originalEvent),!(t.touches.length&gt;<span class="hljs-number">1</span>||t.scale&amp;&amp;<span class="hljs-number">1</span>!==t.scale)){<span class="hljs-keyword">var</span> n=i(<span class="hljs-keyword">this</span>).data(<span class="hljs-string">"swipe-transition"</span>);<span class="hljs-keyword">if</span>(<span class="hljs-string">"undefined"</span>==<span class="hljs-keyword">typeof</span> n&amp;&amp;(n={}),n.delta_x=t.touches[<span class="hljs-number">0</span>].pageX-n.start_page_x,Foundation.rtl&amp;&amp;(n.delta_x=-n.delta_x),<span class="hljs-string">"undefined"</span>==<span class="hljs-keyword">typeof</span> n.is_scrolling&amp;&amp;(n.is_scrolling=!!(n.is_scrolling||<span class="hljs-built_in">Math</span>.abs(n.delta_x)&lt;<span class="hljs-built_in">Math</span>.abs(t.touches[<span class="hljs-number">0</span>].pageY-n.start_page_y))),!n.is_scrolling&amp;&amp;!n.active){t.preventDefault();<span class="hljs-keyword">var</span> r=n.delta_x&lt;<span class="hljs-number">0</span>?<span class="hljs-string">"next"</span>:<span class="hljs-string">"prev"</span>;n.active=!<span class="hljs-number">0</span>,e.nav(t,r)}}}).on(<span class="hljs-string">"touchend.fndtn.clearing"</span>,<span class="hljs-string">".visible-img"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{i(<span class="hljs-keyword">this</span>).data(<span class="hljs-string">"swipe-transition"</span>,{}),t.stopPropagation()})},assemble:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=e.parent();<span class="hljs-keyword">if</span>(!i.parent().hasClass(<span class="hljs-string">"carousel"</span>)){i.after(<span class="hljs-string">'&lt;div id="foundationClearingHolder"&gt;&lt;/div&gt;'</span>);<span class="hljs-keyword">var</span> n=i.detach(),r=<span class="hljs-string">""</span>;<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=n[<span class="hljs-number">0</span>]){r=n[<span class="hljs-number">0</span>].outerHTML;<span class="hljs-keyword">var</span> s=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"#foundationClearingHolder"</span>),o=i.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>),a={grid:<span class="hljs-string">'&lt;div class="carousel"&gt;'</span>+r+<span class="hljs-string">"&lt;/div&gt;"</span>,viewing:o.templates.viewing},l=<span class="hljs-string">'&lt;div class="clearing-assembled"&gt;&lt;div&gt;'</span>+a.viewing+a.grid+<span class="hljs-string">"&lt;/div&gt;&lt;/div&gt;"</span>,c=<span class="hljs-keyword">this</span>.settings.touch_label;Modernizr.touch&amp;&amp;(l=t(l).find(<span class="hljs-string">".clearing-touch-label"</span>).html(c).end()),s.after(l).remove()}}},open:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,n,r</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params"></span>)</span>{setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.image_loaded(h,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-number">1</span>!==h.outerWidth()||p?o.call(<span class="hljs-keyword">this</span>,h):s.call(<span class="hljs-keyword">this</span>)}.bind(<span class="hljs-keyword">this</span>))}.bind(<span class="hljs-keyword">this</span>),<span class="hljs-number">100</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=t(e);i.css(<span class="hljs-string">"visibility"</span>,<span class="hljs-string">"visible"</span>),l.css(<span class="hljs-string">"overflow"</span>,<span class="hljs-string">"hidden"</span>),c.addClass(<span class="hljs-string">"clearing-blackout"</span>),u.addClass(<span class="hljs-string">"clearing-container"</span>),d.show(),<span class="hljs-keyword">this</span>.fix_height(r).caption(a.S(<span class="hljs-string">".clearing-caption"</span>,d),a.S(<span class="hljs-string">"img"</span>,r)).center_and_label(e,f).shift(n,r,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{r.closest(<span class="hljs-string">"li"</span>).siblings().removeClass(<span class="hljs-string">"visible"</span>),r.closest(<span class="hljs-string">"li"</span>).addClass(<span class="hljs-string">"visible"</span>)}),d.trigger(<span class="hljs-string">"opened.fndtn.clearing"</span>)}<span class="hljs-keyword">var</span> a=<span class="hljs-keyword">this</span>,l=t(i.body),c=r.closest(<span class="hljs-string">".clearing-assembled"</span>),u=a.S(<span class="hljs-string">"div"</span>,c).first(),d=a.S(<span class="hljs-string">".visible-img"</span>,u),h=a.S(<span class="hljs-string">"img"</span>,d).not(e),f=a.S(<span class="hljs-string">".clearing-touch-label"</span>,u),p=!<span class="hljs-number">1</span>;t(<span class="hljs-string">"body"</span>).on(<span class="hljs-string">"touchmove"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t.preventDefault()}),h.error(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{p=!<span class="hljs-number">0</span>}),<span class="hljs-keyword">this</span>.locked()||(d.trigger(<span class="hljs-string">"open.fndtn.clearing"</span>),h.attr(<span class="hljs-string">"src"</span>,<span class="hljs-keyword">this</span>.load(e)).css(<span class="hljs-string">"visibility"</span>,<span class="hljs-string">"hidden"</span>),s.call(<span class="hljs-keyword">this</span>))},close:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,n</span>)</span>{e.preventDefault();<span class="hljs-keyword">var</span> r,s,o=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-regexp">/blackout/</span>.test(t.selector)?t:t.closest(<span class="hljs-string">".clearing-blackout"</span>)}(t(n)),a=t(i.body);<span class="hljs-keyword">return</span> n===e.target&amp;&amp;o&amp;&amp;(a.css(<span class="hljs-string">"overflow"</span>,<span class="hljs-string">""</span>),r=t(<span class="hljs-string">"div"</span>,o).first(),s=t(<span class="hljs-string">".visible-img"</span>,r),s.trigger(<span class="hljs-string">"close.fndtn.clearing"</span>),<span class="hljs-keyword">this</span>.settings.prev_index=<span class="hljs-number">0</span>,t(<span class="hljs-string">"ul["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>,o).attr(<span class="hljs-string">"style"</span>,<span class="hljs-string">""</span>).closest(<span class="hljs-string">".clearing-blackout"</span>).removeClass(<span class="hljs-string">"clearing-blackout"</span>),r.removeClass(<span class="hljs-string">"clearing-container"</span>),s.hide(),s.trigger(<span class="hljs-string">"closed.fndtn.clearing"</span>)),t(<span class="hljs-string">"body"</span>).off(<span class="hljs-string">"touchmove"</span>),!<span class="hljs-number">1</span>},is_open:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.parent().prop(<span class="hljs-string">"style"</span>).length&gt;<span class="hljs-number">0</span>},keydown:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=t(<span class="hljs-string">".clearing-blackout ul["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>),n=<span class="hljs-keyword">this</span>.rtl?<span class="hljs-number">37</span>:<span class="hljs-number">39</span>,r=<span class="hljs-keyword">this</span>.rtl?<span class="hljs-number">39</span>:<span class="hljs-number">37</span>,s=<span class="hljs-number">27</span>;e.which===n&amp;&amp;<span class="hljs-keyword">this</span>.go(i,<span class="hljs-string">"next"</span>),e.which===r&amp;&amp;<span class="hljs-keyword">this</span>.go(i,<span class="hljs-string">"prev"</span>),e.which===s&amp;&amp;<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"a.clearing-close"</span>).trigger(<span class="hljs-string">"click"</span>).trigger(<span class="hljs-string">"click.fndtn.clearing"</span>)},nav:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t(<span class="hljs-string">"ul["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-string">".clearing-blackout"</span>);e.preventDefault(),<span class="hljs-keyword">this</span>.go(n,i)},resize:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=t(<span class="hljs-string">"img"</span>,<span class="hljs-string">".clearing-blackout .visible-img"</span>),i=t(<span class="hljs-string">".clearing-touch-label"</span>,<span class="hljs-string">".clearing-blackout"</span>);e.length&amp;&amp;(<span class="hljs-keyword">this</span>.center_and_label(e,i),e.trigger(<span class="hljs-string">"resized.fndtn.clearing"</span>))},fix_height:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.parent().children(),i=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">return</span> e.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=i.S(<span class="hljs-keyword">this</span>),e=t.find(<span class="hljs-string">"img"</span>);t.height()&gt;e.outerHeight()&amp;&amp;t.addClass(<span class="hljs-string">"fix-height"</span>)}).closest(<span class="hljs-string">"ul"</span>).width(<span class="hljs-number">100</span>*e.length+<span class="hljs-string">"%"</span>),<span class="hljs-keyword">this</span>},update_paddles:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t=t.closest(<span class="hljs-string">"li"</span>);<span class="hljs-keyword">var</span> e=t.closest(<span class="hljs-string">".carousel"</span>).siblings(<span class="hljs-string">".visible-img"</span>);t.next().length&gt;<span class="hljs-number">0</span>?<span class="hljs-keyword">this</span>.S(<span class="hljs-string">".clearing-main-next"</span>,e).removeClass(<span class="hljs-string">"disabled"</span>):<span class="hljs-keyword">this</span>.S(<span class="hljs-string">".clearing-main-next"</span>,e).addClass(<span class="hljs-string">"disabled"</span>),t.prev().length&gt;<span class="hljs-number">0</span>?<span class="hljs-keyword">this</span>.S(<span class="hljs-string">".clearing-main-prev"</span>,e).removeClass(<span class="hljs-string">"disabled"</span>):<span class="hljs-keyword">this</span>.S(<span class="hljs-string">".clearing-main-prev"</span>,e).addClass(<span class="hljs-string">"disabled"</span>)},center_and_label:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.rtl?(t.css({marginRight:-(t.outerWidth()/<span class="hljs-number">2</span>),marginTop:-(t.outerHeight()/<span class="hljs-number">2</span>),left:<span class="hljs-string">"auto"</span>,right:<span class="hljs-string">"50%"</span>}),e.length&gt;<span class="hljs-number">0</span>&amp;&amp;e.css({marginRight:-(e.outerWidth()/<span class="hljs-number">2</span>),marginTop:-(t.outerHeight()/<span class="hljs-number">2</span>)-e.outerHeight()-<span class="hljs-number">10</span>,left:<span class="hljs-string">"auto"</span>,right:<span class="hljs-string">"50%"</span>})):(t.css({marginLeft:-(t.outerWidth()/<span class="hljs-number">2</span>),marginTop:-(t.outerHeight()/<span class="hljs-number">2</span>)}),e.length&gt;<span class="hljs-number">0</span>&amp;&amp;e.css({marginLeft:-(e.outerWidth()/<span class="hljs-number">2</span>),marginTop:-(t.outerHeight()/<span class="hljs-number">2</span>)-e.outerHeight()-<span class="hljs-number">10</span>})),<span class="hljs-keyword">this</span>},load:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e;<span class="hljs-keyword">return</span> e=<span class="hljs-string">"A"</span>===t[<span class="hljs-number">0</span>].nodeName?t.attr(<span class="hljs-string">"href"</span>):t.parent().attr(<span class="hljs-string">"href"</span>),<span class="hljs-keyword">this</span>.preload(t),e?e:t.attr(<span class="hljs-string">"src"</span>)},preload:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">this</span>.img(t.closest(<span class="hljs-string">"li"</span>).next()).img(t.closest(<span class="hljs-string">"li"</span>).prev())},img:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(t.length){<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">new</span> Image,i=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"a"</span>,t);i.length?e.src=i.attr(<span class="hljs-string">"href"</span>):e.src=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"img"</span>,t).attr(<span class="hljs-string">"src"</span>)}<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>},caption:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=e.attr(<span class="hljs-string">"data-caption"</span>);<span class="hljs-keyword">return</span> i?t.html(i).show():t.text(<span class="hljs-string">""</span>).hide(),<span class="hljs-keyword">this</span>},go:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">".visible"</span>,t),n=i[e]();<span class="hljs-keyword">this</span>.settings.skip_selector&amp;&amp;<span class="hljs-number">0</span>!=n.find(<span class="hljs-keyword">this</span>.settings.skip_selector).length&amp;&amp;(n=n[e]()),n.length&amp;&amp;<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"img"</span>,n).trigger(<span class="hljs-string">"click"</span>,[i,n]).trigger(<span class="hljs-string">"click.fndtn.clearing"</span>,[i,n]).trigger(<span class="hljs-string">"change.fndtn.clearing"</span>)},shift:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n,r=e.parent(),s=<span class="hljs-keyword">this</span>.settings.prev_index||e.index(),o=<span class="hljs-keyword">this</span>.direction(r,t,e),a=<span class="hljs-keyword">this</span>.rtl?<span class="hljs-string">"right"</span>:<span class="hljs-string">"left"</span>,l=<span class="hljs-built_in">parseInt</span>(r.css(<span class="hljs-string">"left"</span>),<span class="hljs-number">10</span>),c=e.outerWidth(),u={};e.index()===s||<span class="hljs-regexp">/skip/</span>.test(o)?<span class="hljs-regexp">/skip/</span>.test(o)&amp;&amp;(n=e.index()-<span class="hljs-keyword">this</span>.settings.up_count,<span class="hljs-keyword">this</span>.lock(),n&gt;<span class="hljs-number">0</span>?(u[a]=-(n*c),r.animate(u,<span class="hljs-number">300</span>,<span class="hljs-keyword">this</span>.unlock())):(u[a]=<span class="hljs-number">0</span>,r.animate(u,<span class="hljs-number">300</span>,<span class="hljs-keyword">this</span>.unlock()))):<span class="hljs-regexp">/left/</span>.test(o)?(<span class="hljs-keyword">this</span>.lock(),u[a]=l+c,r.animate(u,<span class="hljs-number">300</span>,<span class="hljs-keyword">this</span>.unlock())):<span class="hljs-regexp">/right/</span>.test(o)&amp;&amp;(<span class="hljs-keyword">this</span>.lock(),u[a]=l-c,r.animate(u,<span class="hljs-number">300</span>,<span class="hljs-keyword">this</span>.unlock())),i()},direction:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n,r=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"li"</span>,t),s=r.outerWidth()+r.outerWidth()/<span class="hljs-number">4</span>,o=<span class="hljs-built_in">Math</span>.floor(<span class="hljs-keyword">this</span>.S(<span class="hljs-string">".clearing-container"</span>).outerWidth()/s)-<span class="hljs-number">1</span>,a=r.index(i);<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.settings.up_count=o,n=<span class="hljs-keyword">this</span>.adjacent(<span class="hljs-keyword">this</span>.settings.prev_index,a)?a&gt;o&amp;&amp;a&gt;<span class="hljs-keyword">this</span>.settings.prev_index?<span class="hljs-string">"right"</span>:a&gt;o-<span class="hljs-number">1</span>&amp;&amp;a&lt;=<span class="hljs-keyword">this</span>.settings.prev_index&amp;&amp;<span class="hljs-string">"left"</span>:<span class="hljs-string">"skip"</span>,<span class="hljs-keyword">this</span>.settings.prev_index=a,n},adjacent:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=e+<span class="hljs-number">1</span>;i&gt;=e-<span class="hljs-number">1</span>;i--)<span class="hljs-keyword">if</span>(i===t)<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>;<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>},lock:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.settings.locked=!<span class="hljs-number">0</span>},unlock:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.settings.locked=!<span class="hljs-number">1</span>},locked:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.settings.locked},off:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.S(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".fndtn.clearing"</span>),<span class="hljs-keyword">this</span>.S(e).off(<span class="hljs-string">".fndtn.clearing"</span>)},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.init()}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-keyword">var</span> r=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},s=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r,s</span>)</span>{<span class="hljs-keyword">if</span>(r.hasClass(s.slides_container_class))<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;<span class="hljs-keyword">var</span> c,u,d,h,f,p,g=<span class="hljs-keyword">this</span>,m=r,v=<span class="hljs-number">0</span>,b=!<span class="hljs-number">1</span>;g.slides=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> m.children(s.slide_selector)},g.slides().first().addClass(s.active_slide_class),g.update_slide_number=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{s.slide_number&amp;&amp;(u.find(<span class="hljs-string">"span:first"</span>).text(<span class="hljs-built_in">parseInt</span>(e)+<span class="hljs-number">1</span>),u.find(<span class="hljs-string">"span:last"</span>).text(g.slides().length)),s.bullets&amp;&amp;(d.children().removeClass(s.bullets_active_class),t(d.children().get(e)).addClass(s.bullets_active_class))},g.update_active_link=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=t(<span class="hljs-string">'[data-orbit-link="'</span>+g.slides().eq(e).attr(<span class="hljs-string">"data-orbit-slide"</span>)+<span class="hljs-string">'"]'</span>);i.siblings().removeClass(s.bullets_active_class),i.addClass(s.bullets_active_class)},g.build_markup=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{m.wrap(<span class="hljs-string">'&lt;div class="'</span>+s.container_class+<span class="hljs-string">'"&gt;&lt;/div&gt;'</span>),c=m.parent(),m.addClass(s.slides_container_class),s.stack_on_small&amp;&amp;c.addClass(s.stack_on_small_class),s.navigation_arrows&amp;&amp;(c.append(t(<span class="hljs-string">'&lt;a href="#"&gt;&lt;span&gt;&lt;/span&gt;&lt;/a&gt;'</span>).addClass(s.prev_class)),c.append(t(<span class="hljs-string">'&lt;a href="#"&gt;&lt;span&gt;&lt;/span&gt;&lt;/a&gt;'</span>).addClass(s.next_class))),s.timer&amp;&amp;(h=t(<span class="hljs-string">"&lt;div&gt;"</span>).addClass(s.timer_container_class),h.append(<span class="hljs-string">"&lt;span&gt;"</span>),h.append(t(<span class="hljs-string">"&lt;div&gt;"</span>).addClass(s.timer_progress_class)),h.addClass(s.timer_paused_class),c.append(h)),s.slide_number&amp;&amp;(u=t(<span class="hljs-string">"&lt;div&gt;"</span>).addClass(s.slide_number_class),u.append(<span class="hljs-string">"&lt;span&gt;&lt;/span&gt; "</span>+s.slide_number_text+<span class="hljs-string">" &lt;span&gt;&lt;/span&gt;"</span>),c.append(u)),s.bullets&amp;&amp;(d=t(<span class="hljs-string">"&lt;ol&gt;"</span>).addClass(s.bullets_container_class),c.append(d),d.wrap(<span class="hljs-string">'&lt;div class="orbit-bullets-container"&gt;&lt;/div&gt;'</span>),g.slides().each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t(<span class="hljs-string">"&lt;li&gt;"</span>).attr(<span class="hljs-string">"data-orbit-slide"</span>,e).on(<span class="hljs-string">"click"</span>,g.link_bullet);d.append(n)}))},g._goto=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">if</span>(e===v)<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> p&amp;&amp;p.restart();<span class="hljs-keyword">var</span> n=g.slides(),r=<span class="hljs-string">"next"</span>;<span class="hljs-keyword">if</span>(b=!<span class="hljs-number">0</span>,e&lt;v&amp;&amp;(r=<span class="hljs-string">"prev"</span>),e&gt;=n.length){<span class="hljs-keyword">if</span>(!s.circular)<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;e=<span class="hljs-number">0</span>}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e&lt;<span class="hljs-number">0</span>){<span class="hljs-keyword">if</span>(!s.circular)<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;e=n.length-<span class="hljs-number">1</span>}<span class="hljs-keyword">var</span> o=t(n.get(v)),a=t(n.get(e));o.css(<span class="hljs-string">"zIndex"</span>,<span class="hljs-number">2</span>),o.removeClass(s.active_slide_class),a.css(<span class="hljs-string">"zIndex"</span>,<span class="hljs-number">4</span>).addClass(s.active_slide_class),m.trigger(<span class="hljs-string">"before-slide-change.fndtn.orbit"</span>),s.before_slide_change(),g.update_active_link(e);<span class="hljs-keyword">var</span> l=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{v=e,b=!<span class="hljs-number">1</span>,i===!<span class="hljs-number">0</span>&amp;&amp;(p=g.create_timer(),p.start()),g.update_slide_number(v),m.trigger(<span class="hljs-string">"after-slide-change.fndtn.orbit"</span>,[{slide_number:v,total_slides:n.length}]),s.after_slide_change(v,n.length)};m.height()!=a.height()&amp;&amp;s.variable_height?m.animate({height:a.height()},<span class="hljs-number">250</span>,<span class="hljs-string">"linear"</span>,t):t()};<span class="hljs-keyword">if</span>(<span class="hljs-number">1</span>===n.length)<span class="hljs-keyword">return</span> l(),!<span class="hljs-number">1</span>;<span class="hljs-keyword">var</span> c=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-string">"next"</span>===r&amp;&amp;f.next(o,a,l),<span class="hljs-string">"prev"</span>===r&amp;&amp;f.prev(o,a,l)};a.height()&gt;m.height()&amp;&amp;s.variable_height?m.animate({height:a.height()},<span class="hljs-number">250</span>,<span class="hljs-string">"linear"</span>,c):c()},g.next=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t.stopImmediatePropagation(),t.preventDefault(),g._goto(v+<span class="hljs-number">1</span>)},g.prev=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t.stopImmediatePropagation(),t.preventDefault(),g._goto(v-<span class="hljs-number">1</span>)},g.link_custom=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{e.preventDefault();<span class="hljs-keyword">var</span> i=t(<span class="hljs-keyword">this</span>).attr(<span class="hljs-string">"data-orbit-link"</span>);<span class="hljs-keyword">if</span>(<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> i&amp;&amp;<span class="hljs-string">""</span>!=(i=t.trim(i))){<span class="hljs-keyword">var</span> n=c.find(<span class="hljs-string">"[data-orbit-slide="</span>+i+<span class="hljs-string">"]"</span>);n.index()!=-<span class="hljs-number">1</span>&amp;&amp;g._goto(n.index())}},g.link_bullet=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=t(<span class="hljs-keyword">this</span>).attr(<span class="hljs-string">"data-orbit-slide"</span>);<span class="hljs-keyword">if</span>(<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> i&amp;&amp;<span class="hljs-string">""</span>!=(i=t.trim(i)))<span class="hljs-keyword">if</span>(<span class="hljs-built_in">isNaN</span>(<span class="hljs-built_in">parseInt</span>(i))){<span class="hljs-keyword">var</span> n=c.find(<span class="hljs-string">"[data-orbit-slide="</span>+i+<span class="hljs-string">"]"</span>);n.index()!=-<span class="hljs-number">1</span>&amp;&amp;g._goto(n.index()+<span class="hljs-number">1</span>)}<span class="hljs-keyword">else</span> g._goto(<span class="hljs-built_in">parseInt</span>(i))},g.timer_callback=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{g._goto(v+<span class="hljs-number">1</span>,!<span class="hljs-number">0</span>)},g.compute_dimensions=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=t(g.slides().get(v)),i=e.height();s.variable_height||g.slides().each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t(<span class="hljs-keyword">this</span>).height()&gt;i&amp;&amp;(i=t(<span class="hljs-keyword">this</span>).height())}),m.height(i)},g.create_timer=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">new</span> o(c.find(<span class="hljs-string">"."</span>+s.timer_container_class),s,g.timer_callback);<span class="hljs-keyword">return</span> t},g.stop_timer=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> p&amp;&amp;p.stop()},g.toggle_timer=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=c.find(<span class="hljs-string">"."</span>+s.timer_container_class);t.hasClass(s.timer_paused_class)?(<span class="hljs-string">"undefined"</span>==<span class="hljs-keyword">typeof</span> p&amp;&amp;(p=g.create_timer()),p.start()):<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> p&amp;&amp;p.stop()},g.init=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{g.build_markup(),s.timer&amp;&amp;(p=g.create_timer(),Foundation.utils.image_loaded(<span class="hljs-keyword">this</span>.slides().children(<span class="hljs-string">"img"</span>),p.start)),f=<span class="hljs-keyword">new</span> l(s,m),<span class="hljs-string">"slide"</span>===s.animation&amp;&amp;(f=<span class="hljs-keyword">new</span> a(s,m)),c.on(<span class="hljs-string">"click"</span>,<span class="hljs-string">"."</span>+s.next_class,g.next),c.on(<span class="hljs-string">"click"</span>,<span class="hljs-string">"."</span>+s.prev_class,g.prev),s.next_on_click&amp;&amp;c.on(<span class="hljs-string">"click"</span>,<span class="hljs-string">"."</span>+s.slides_container_class+<span class="hljs-string">" [data-orbit-slide]"</span>,g.link_bullet),c.on(<span class="hljs-string">"click"</span>,g.toggle_timer),s.swipe&amp;&amp;c.on(<span class="hljs-string">"touchstart.fndtn.orbit"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t.touches||(t=t.originalEvent);<span class="hljs-keyword">var</span> e={start_page_x:t.touches[<span class="hljs-number">0</span>].pageX,start_page_y:t.touches[<span class="hljs-number">0</span>].pageY,start_time:(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>).getTime(),delta_x:<span class="hljs-number">0</span>,is_scrolling:n};c.data(<span class="hljs-string">"swipe-transition"</span>,e),t.stopPropagation()}).on(<span class="hljs-string">"touchmove.fndtn.orbit"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(t.touches||(t=t.originalEvent),!(t.touches.length&gt;<span class="hljs-number">1</span>||t.scale&amp;&amp;<span class="hljs-number">1</span>!==t.scale)){<span class="hljs-keyword">var</span> e=c.data(<span class="hljs-string">"swipe-transition"</span>);<span class="hljs-keyword">if</span>(<span class="hljs-string">"undefined"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;(e={}),e.delta_x=t.touches[<span class="hljs-number">0</span>].pageX-e.start_page_x,<span class="hljs-string">"undefined"</span>==<span class="hljs-keyword">typeof</span> e.is_scrolling&amp;&amp;(e.is_scrolling=!!(e.is_scrolling||<span class="hljs-built_in">Math</span>.abs(e.delta_x)&lt;<span class="hljs-built_in">Math</span>.abs(t.touches[<span class="hljs-number">0</span>].pageY-e.start_page_y))),!e.is_scrolling&amp;&amp;!e.active){t.preventDefault();<span class="hljs-keyword">var</span> i=e.delta_x&lt;<span class="hljs-number">0</span>?v+<span class="hljs-number">1</span>:v-<span class="hljs-number">1</span>;e.active=!<span class="hljs-number">0</span>,g._goto(i)}}}).on(<span class="hljs-string">"touchend.fndtn.orbit"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{c.data(<span class="hljs-string">"swipe-transition"</span>,{}),t.stopPropagation()}),c.on(<span class="hljs-string">"mouseenter.fndtn.orbit"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{s.timer&amp;&amp;s.pause_on_hover&amp;&amp;g.stop_timer()}).on(<span class="hljs-string">"mouseleave.fndtn.orbit"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{s.timer&amp;&amp;s.resume_on_mouseout&amp;&amp;p.start()}),t(i).on(<span class="hljs-string">"click"</span>,<span class="hljs-string">"[data-orbit-link]"</span>,g.link_custom),t(e).on(<span class="hljs-string">"load resize"</span>,g.compute_dimensions),Foundation.utils.image_loaded(<span class="hljs-keyword">this</span>.slides().children(<span class="hljs-string">"img"</span>),g.compute_dimensions),Foundation.utils.image_loaded(<span class="hljs-keyword">this</span>.slides().children(<span class="hljs-string">"img"</span>),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{c.prev(<span class="hljs-string">"."</span>+s.preloader_class).css(<span class="hljs-string">"display"</span>,<span class="hljs-string">"none"</span>),g.update_slide_number(<span class="hljs-number">0</span>),g.update_active_link(<span class="hljs-number">0</span>),m.trigger(<span class="hljs-string">"ready.fndtn.orbit"</span>)})},g.init()},o=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n,r,s=<span class="hljs-keyword">this</span>,o=e.timer_speed,a=t.find(<span class="hljs-string">"."</span>+e.timer_progress_class),l=-<span class="hljs-number">1</span>;<span class="hljs-keyword">this</span>.update_progress=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=a.clone();e.attr(<span class="hljs-string">"style"</span>,<span class="hljs-string">""</span>),e.css(<span class="hljs-string">"width"</span>,t+<span class="hljs-string">"%"</span>),a.replaceWith(e),a=e},<span class="hljs-keyword">this</span>.restart=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{clearTimeout(r),t.addClass(e.timer_paused_class),l=-<span class="hljs-number">1</span>,s.update_progress(<span class="hljs-number">0</span>)},<span class="hljs-keyword">this</span>.start=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span>!t.hasClass(e.timer_paused_class)||(l=l===-<span class="hljs-number">1</span>?o:l,t.removeClass(e.timer_paused_class),n=(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>).getTime(),a.animate({width:<span class="hljs-string">"100%"</span>},l,<span class="hljs-string">"linear"</span>),r=setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{s.restart(),i()},l),t.trigger(<span class="hljs-string">"timer-started.fndtn.orbit"</span>),<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)},<span class="hljs-keyword">this</span>.stop=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">if</span>(t.hasClass(e.timer_paused_class))<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>;clearTimeout(r),t.addClass(e.timer_paused_class);<span class="hljs-keyword">var</span> i=(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>).getTime();l-=i-n;<span class="hljs-keyword">var</span> a=<span class="hljs-number">100</span>-l/o*<span class="hljs-number">100</span>;s.update_progress(a),t.trigger(<span class="hljs-string">"timer-stopped.fndtn.orbit"</span>)}},a=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">var</span> n=e.animation_speed,r=<span class="hljs-number">1</span>===t(<span class="hljs-string">"html[dir=rtl]"</span>).length,s=r?<span class="hljs-string">"marginRight"</span>:<span class="hljs-string">"marginLeft"</span>,o={};o[s]=<span class="hljs-string">"0%"</span>,<span class="hljs-keyword">this</span>.next=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{t.animate({marginLeft:<span class="hljs-string">"-100%"</span>},n),e.animate(o,n,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t.css(s,<span class="hljs-string">"100%"</span>),i()})},<span class="hljs-keyword">this</span>.prev=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{t.animate({marginLeft:<span class="hljs-string">"100%"</span>},n),e.css(s,<span class="hljs-string">"-100%"</span>),e.animate(o,n,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t.css(s,<span class="hljs-string">"100%"</span>),i()})}},l=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">var</span> n=e.animation_speed;<span class="hljs-number">1</span>===t(<span class="hljs-string">"html[dir=rtl]"</span>).length;<span class="hljs-keyword">this</span>.next=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{e.css({margin:<span class="hljs-string">"0%"</span>,opacity:<span class="hljs-string">"0.01"</span>}),e.animate({opacity:<span class="hljs-string">"1"</span>},n,<span class="hljs-string">"linear"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t.css(<span class="hljs-string">"margin"</span>,<span class="hljs-string">"100%"</span>),i()})},<span class="hljs-keyword">this</span>.prev=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{e.css({margin:<span class="hljs-string">"0%"</span>,opacity:<span class="hljs-string">"0.01"</span>}),e.animate({opacity:<span class="hljs-string">"1"</span>},n,<span class="hljs-string">"linear"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t.css(<span class="hljs-string">"margin"</span>,<span class="hljs-string">"100%"</span>),i()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:<span class="hljs-string">"orbit"</span>,version:<span class="hljs-string">"5.3.3"</span>,settings:{animation:<span class="hljs-string">"slide"</span>,timer_speed:<span class="hljs-number">1e4</span>,pause_on_hover:!<span class="hljs-number">0</span>,resume_on_mouseout:!<span class="hljs-number">1</span>,next_on_click:!<span class="hljs-number">0</span>,animation_speed:<span class="hljs-number">500</span>,stack_on_small:!<span class="hljs-number">1</span>,navigation_arrows:!<span class="hljs-number">0</span>,slide_number:!<span class="hljs-number">0</span>,slide_number_text:<span class="hljs-string">"of"</span>,container_class:<span class="hljs-string">"orbit-container"</span>,stack_on_small_class:<span class="hljs-string">"orbit-stack-on-small"</span>,next_class:<span class="hljs-string">"orbit-next"</span>,prev_class:<span class="hljs-string">"orbit-prev"</span>,timer_container_class:<span class="hljs-string">"orbit-timer"</span>,timer_paused_class:<span class="hljs-string">"paused"</span>,timer_progress_class:<span class="hljs-string">"orbit-progress"</span>,slides_container_class:<span class="hljs-string">"orbit-slides-container"</span>,preloader_class:<span class="hljs-string">"preloader"</span>,slide_selector:<span class="hljs-string">"*"</span>,bullets_container_class:<span class="hljs-string">"orbit-bullets"</span>,bullets_active_class:<span class="hljs-string">"active"</span>,slide_number_class:<span class="hljs-string">"orbit-slide-number"</span>,caption_class:<span class="hljs-string">"orbit-caption"</span>,active_slide_class:<span class="hljs-string">"active"</span>,orbit_transition_class:<span class="hljs-string">"orbit-transitioning"</span>,bullets:!<span class="hljs-number">0</span>,circular:!<span class="hljs-number">0</span>,timer:!<span class="hljs-number">0</span>,variable_height:!<span class="hljs-number">1</span>,swipe:!<span class="hljs-number">0</span>,before_slide_change:r,after_slide_change:r},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">this</span>.bindings(e,i)},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">new</span> s(<span class="hljs-keyword">this</span>.S(t),<span class="hljs-keyword">this</span>.S(t).data(<span class="hljs-string">"orbit-init"</span>));<span class="hljs-keyword">this</span>.S(t).data(<span class="hljs-keyword">this</span>.name+<span class="hljs-string">"-instance"</span>,e)},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">if</span>(t.S(t.scope).is(<span class="hljs-string">"[data-orbit]"</span>)){<span class="hljs-keyword">var</span> e=t.S(t.scope),i=e.data(t.name+<span class="hljs-string">"-instance"</span>);i.compute_dimensions()}<span class="hljs-keyword">else</span> t.S(<span class="hljs-string">"[data-orbit]"</span>,t.scope).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t.S(i),r=(t.data_options(n),n.data(t.name+<span class="hljs-string">"-instance"</span>));r.compute_dimensions()})}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;Foundation.libs.offcanvas={name:<span class="hljs-string">"offcanvas"</span>,version:<span class="hljs-string">"5.3.3"</span>,settings:{open_method:<span class="hljs-string">"move"</span>,close_on_click:!<span class="hljs-number">1</span>},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">this</span>.bindings(e,i)},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>,e=t.S,i=<span class="hljs-string">""</span>,n=<span class="hljs-string">""</span>,r=<span class="hljs-string">""</span>;<span class="hljs-string">"move"</span>===<span class="hljs-keyword">this</span>.settings.open_method?(i=<span class="hljs-string">"move-"</span>,n=<span class="hljs-string">"right"</span>,r=<span class="hljs-string">"left"</span>):<span class="hljs-string">"overlap_single"</span>===<span class="hljs-keyword">this</span>.settings.open_method?(i=<span class="hljs-string">"offcanvas-overlap-"</span>,n=<span class="hljs-string">"right"</span>,r=<span class="hljs-string">"left"</span>):<span class="hljs-string">"overlap"</span>===<span class="hljs-keyword">this</span>.settings.open_method&amp;&amp;(i=<span class="hljs-string">"offcanvas-overlap"</span>),e(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".offcanvas"</span>).on(<span class="hljs-string">"click.fndtn.offcanvas"</span>,<span class="hljs-string">".left-off-canvas-toggle"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{t.click_toggle_class(r,i+n),<span class="hljs-string">"overlap"</span>!==t.settings.open_method&amp;&amp;e(<span class="hljs-string">".left-submenu"</span>).removeClass(i+n)}).on(<span class="hljs-string">"click.fndtn.offcanvas"</span>,<span class="hljs-string">".left-off-canvas-menu a"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">var</span> s=t.get_settings(r),o=e(<span class="hljs-keyword">this</span>).parent();!s.close_on_click||o.hasClass(<span class="hljs-string">"has-submenu"</span>)||o.hasClass(<span class="hljs-string">"back"</span>)?e(<span class="hljs-keyword">this</span>).parent().hasClass(<span class="hljs-string">"has-submenu"</span>)?(r.preventDefault(),e(<span class="hljs-keyword">this</span>).siblings(<span class="hljs-string">".left-submenu"</span>).toggleClass(i+n)):o.hasClass(<span class="hljs-string">"back"</span>)&amp;&amp;(r.preventDefault(),o.parent().removeClass(i+n)):(t.hide.call(t,i+n,t.get_wrapper(r)),o.parent().removeClass(i+n))}).on(<span class="hljs-string">"click.fndtn.offcanvas"</span>,<span class="hljs-string">".right-off-canvas-toggle"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>)</span>{t.click_toggle_class(n,i+r),<span class="hljs-string">"overlap"</span>!==t.settings.open_method&amp;&amp;e(<span class="hljs-string">".right-submenu"</span>).removeClass(i+r)}).on(<span class="hljs-string">"click.fndtn.offcanvas"</span>,<span class="hljs-string">".right-off-canvas-menu a"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>)</span>{<span class="hljs-keyword">var</span> s=t.get_settings(n),o=e(<span class="hljs-keyword">this</span>).parent();!s.close_on_click||o.hasClass(<span class="hljs-string">"has-submenu"</span>)||o.hasClass(<span class="hljs-string">"back"</span>)?e(<span class="hljs-keyword">this</span>).parent().hasClass(<span class="hljs-string">"has-submenu"</span>)?(n.preventDefault(),e(<span class="hljs-keyword">this</span>).siblings(<span class="hljs-string">".right-submenu"</span>).toggleClass(i+r)):o.hasClass(<span class="hljs-string">"back"</span>)&amp;&amp;(n.preventDefault(),o.parent().removeClass(i+r)):(t.hide.call(t,i+r,t.get_wrapper(n)),o.parent().removeClass(i+r))}).on(<span class="hljs-string">"click.fndtn.offcanvas"</span>,<span class="hljs-string">".exit-off-canvas"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>)</span>{t.click_remove_class(s,i+r),e(<span class="hljs-string">".right-submenu"</span>).removeClass(i+r),n&amp;&amp;(t.click_remove_class(s,i+n),e(<span class="hljs-string">".left-submenu"</span>).removeClass(i+r))})},toggle:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{e=e||<span class="hljs-keyword">this</span>.get_wrapper(),e.is(<span class="hljs-string">"."</span>+t)?<span class="hljs-keyword">this</span>.hide(t,e):<span class="hljs-keyword">this</span>.show(t,e)},show:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{e=e||<span class="hljs-keyword">this</span>.get_wrapper(),e.trigger(<span class="hljs-string">"open"</span>).trigger(<span class="hljs-string">"open.fndtn.offcanvas"</span>),e.addClass(t)},hide:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{e=e||<span class="hljs-keyword">this</span>.get_wrapper(),e.trigger(<span class="hljs-string">"close"</span>).trigger(<span class="hljs-string">"close.fndtn.offcanvas"</span>),e.removeClass(t)},click_toggle_class:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{t.preventDefault();<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>.get_wrapper(t);<span class="hljs-keyword">this</span>.toggle(e,i)},click_remove_class:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{t.preventDefault();<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>.get_wrapper(t);<span class="hljs-keyword">this</span>.hide(e,i)},get_settings:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.S(t.target).closest(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>);<span class="hljs-keyword">return</span> e.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>)||<span class="hljs-keyword">this</span>.settings},get_wrapper:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.S(t?t.target:<span class="hljs-keyword">this</span>.scope).closest(<span class="hljs-string">".off-canvas-wrap"</span>);<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>===e.length&amp;&amp;(e=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">".off-canvas-wrap"</span>)),e},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;Foundation.libs.alert={name:<span class="hljs-string">"alert"</span>,version:<span class="hljs-string">"5.3.3"</span>,settings:{callback:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">this</span>.bindings(e,i)},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>,i=<span class="hljs-keyword">this</span>.S;t(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".alert"</span>).on(<span class="hljs-string">"click.fndtn.alert"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"] a.close"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> n=i(<span class="hljs-keyword">this</span>).closest(<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"]"</span>),r=n.data(e.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>)||e.settings;t.preventDefault(),Modernizr.csstransitions?(n.addClass(<span class="hljs-string">"alert-close"</span>),n.on(<span class="hljs-string">"transitionend webkitTransitionEnd oTransitionEnd"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{i(<span class="hljs-keyword">this</span>).trigger(<span class="hljs-string">"close"</span>).trigger(<span class="hljs-string">"close.fndtn.alert"</span>).remove(),r.callback()})):n.fadeOut(<span class="hljs-number">300</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{i(<span class="hljs-keyword">this</span>).trigger(<span class="hljs-string">"close"</span>).trigger(<span class="hljs-string">"close.fndtn.alert"</span>).remove(),r.callback()})})},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-regexp">/fade/i</span>.test(t),i=<span class="hljs-regexp">/pop/i</span>.test(t);<span class="hljs-keyword">return</span>{animate:e||i,pop:i,fade:e}}Foundation.libs.reveal={name:<span class="hljs-string">"reveal"</span>,version:<span class="hljs-string">"5.3.3"</span>,locked:!<span class="hljs-number">1</span>,settings:{animation:<span class="hljs-string">"fadeAndPop"</span>,animation_speed:<span class="hljs-number">250</span>,close_on_background_click:!<span class="hljs-number">0</span>,close_on_esc:!<span class="hljs-number">0</span>,dismiss_modal_class:<span class="hljs-string">"close-reveal-modal"</span>,bg_class:<span class="hljs-string">"reveal-modal-bg"</span>,root_element:<span class="hljs-string">"body"</span>,open:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},opened:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},close:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},closed:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},bg:t(<span class="hljs-string">".reveal-modal-bg"</span>),css:{open:{opacity:<span class="hljs-number">0</span>,visibility:<span class="hljs-string">"visible"</span>,display:<span class="hljs-string">"block"</span>},close:{opacity:<span class="hljs-number">1</span>,visibility:<span class="hljs-string">"hidden"</span>,display:<span class="hljs-string">"none"</span>}}},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i,n</span>)</span>{t.extend(!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.settings,i,n),<span class="hljs-keyword">this</span>.bindings(i,n)},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>,n=e.S;<span class="hljs-keyword">return</span> n(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".reveal"</span>).on(<span class="hljs-string">"click.fndtn.reveal"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-reveal-id"</span>)+<span class="hljs-string">"]:not([disabled])"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(t.preventDefault(),!e.locked){<span class="hljs-keyword">var</span> i=n(<span class="hljs-keyword">this</span>),r=i.data(e.data_attr(<span class="hljs-string">"reveal-ajax"</span>));<span class="hljs-keyword">if</span>(e.locked=!<span class="hljs-number">0</span>,<span class="hljs-string">"undefined"</span>==<span class="hljs-keyword">typeof</span> r)e.open.call(e,i);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> s=r===!<span class="hljs-number">0</span>?i.attr(<span class="hljs-string">"href"</span>):r;e.open.call(e,i,{url:s})}}}),n(i).on(<span class="hljs-string">"click.fndtn.reveal"</span>,<span class="hljs-keyword">this</span>.close_targets(),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(t.preventDefault(),!e.locked){<span class="hljs-keyword">var</span> i=n(<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"].open"</span>).data(e.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>),r=n(t.target)[<span class="hljs-number">0</span>]===n(<span class="hljs-string">"."</span>+i.bg_class)[<span class="hljs-number">0</span>];<span class="hljs-keyword">if</span>(r){<span class="hljs-keyword">if</span>(!i.close_on_background_click)<span class="hljs-keyword">return</span>;t.stopPropagation()}e.locked=!<span class="hljs-number">0</span>,e.close.call(e,r?n(<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"].open"</span>):n(<span class="hljs-keyword">this</span>).closest(<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"]"</span>))}}),n(<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-keyword">this</span>.scope).length&gt;<span class="hljs-number">0</span>?n(<span class="hljs-keyword">this</span>.scope).on(<span class="hljs-string">"open.fndtn.reveal"</span>,<span class="hljs-keyword">this</span>.settings.open).on(<span class="hljs-string">"opened.fndtn.reveal"</span>,<span class="hljs-keyword">this</span>.settings.opened).on(<span class="hljs-string">"opened.fndtn.reveal"</span>,<span class="hljs-keyword">this</span>.open_video).on(<span class="hljs-string">"close.fndtn.reveal"</span>,<span class="hljs-keyword">this</span>.settings.close).on(<span class="hljs-string">"closed.fndtn.reveal"</span>,<span class="hljs-keyword">this</span>.settings.closed).on(<span class="hljs-string">"closed.fndtn.reveal"</span>,<span class="hljs-keyword">this</span>.close_video):n(<span class="hljs-keyword">this</span>.scope).on(<span class="hljs-string">"open.fndtn.reveal"</span>,<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-keyword">this</span>.settings.open).on(<span class="hljs-string">"opened.fndtn.reveal"</span>,<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-keyword">this</span>.settings.opened).on(<span class="hljs-string">"opened.fndtn.reveal"</span>,<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-keyword">this</span>.open_video).on(<span class="hljs-string">"close.fndtn.reveal"</span>,<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-keyword">this</span>.settings.close).on(<span class="hljs-string">"closed.fndtn.reveal"</span>,<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-keyword">this</span>.settings.closed).on(<span class="hljs-string">"closed.fndtn.reveal"</span>,<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-keyword">this</span>.close_video),!<span class="hljs-number">0</span>},key_up_on:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">return</span> e.S(<span class="hljs-string">"body"</span>).off(<span class="hljs-string">"keyup.fndtn.reveal"</span>).on(<span class="hljs-string">"keyup.fndtn.reveal"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> i=e.S(<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"].open"</span>),n=i.data(e.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>)||e.settings;n&amp;&amp;<span class="hljs-number">27</span>===t.which&amp;&amp;n.close_on_esc&amp;&amp;!e.locked&amp;&amp;e.close.call(e,i)}),!<span class="hljs-number">0</span>},key_up_off:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.S(<span class="hljs-string">"body"</span>).off(<span class="hljs-string">"keyup.fndtn.reveal"</span>),!<span class="hljs-number">0</span>},open:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">var</span> n,r=<span class="hljs-keyword">this</span>;e?<span class="hljs-string">"undefined"</span>!=<span class="hljs-keyword">typeof</span> e.selector?n=r.S(<span class="hljs-string">"#"</span>+e.data(r.data_attr(<span class="hljs-string">"reveal-id"</span>))).first():(n=r.S(<span class="hljs-keyword">this</span>.scope),i=e):n=r.S(<span class="hljs-keyword">this</span>.scope);<span class="hljs-keyword">var</span> s=n.data(r.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>);<span class="hljs-keyword">if</span>(s=s||<span class="hljs-keyword">this</span>.settings,n.hasClass(<span class="hljs-string">"open"</span>)&amp;&amp;e.attr(<span class="hljs-string">"data-reveal-id"</span>)==n.attr(<span class="hljs-string">"id"</span>))<span class="hljs-keyword">return</span> r.close(n);<span class="hljs-keyword">if</span>(!n.hasClass(<span class="hljs-string">"open"</span>)){<span class="hljs-keyword">var</span> o=r.S(<span class="hljs-string">"["</span>+r.attr_name()+<span class="hljs-string">"].open"</span>);<span class="hljs-keyword">if</span>(<span class="hljs-string">"undefined"</span>==<span class="hljs-keyword">typeof</span> n.data(<span class="hljs-string">"css-top"</span>)&amp;&amp;n.data(<span class="hljs-string">"css-top"</span>,<span class="hljs-built_in">parseInt</span>(n.css(<span class="hljs-string">"top"</span>),<span class="hljs-number">10</span>)).data(<span class="hljs-string">"offset"</span>,<span class="hljs-keyword">this</span>.cache_offset(n)),<span class="hljs-keyword">this</span>.key_up_on(n),n.trigger(<span class="hljs-string">"open"</span>).trigger(<span class="hljs-string">"open.fndtn.reveal"</span>),o.length&lt;<span class="hljs-number">1</span>&amp;&amp;<span class="hljs-keyword">this</span>.toggle_bg(n,!<span class="hljs-number">0</span>),<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> i&amp;&amp;(i={url:i}),<span class="hljs-string">"undefined"</span>!=<span class="hljs-keyword">typeof</span> i&amp;&amp;i.url){<span class="hljs-keyword">var</span> a=<span class="hljs-string">"undefined"</span>!=<span class="hljs-keyword">typeof</span> i.success?i.success:<span class="hljs-literal">null</span>;t.extend(i,{success:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i,l</span>)</span>{t.isFunction(a)&amp;&amp;a(e,i,l),n.html(e),r.S(n).foundation(<span class="hljs-string">"section"</span>,<span class="hljs-string">"reflow"</span>),r.S(n).children().foundation(),o.length&gt;<span class="hljs-number">0</span>&amp;&amp;r.hide(o,s.css.close),r.show(n,s.css.open)}}),t.ajax(i)}<span class="hljs-keyword">else</span> o.length&gt;<span class="hljs-number">0</span>&amp;&amp;<span class="hljs-keyword">this</span>.hide(o,s.css.close),<span class="hljs-keyword">this</span>.show(n,s.css.open)}},close:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> t=t&amp;&amp;t.length?t:<span class="hljs-keyword">this</span>.S(<span class="hljs-keyword">this</span>.scope),e=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"].open"</span>),i=t.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>)||<span class="hljs-keyword">this</span>.settings;e.length&gt;<span class="hljs-number">0</span>&amp;&amp;(<span class="hljs-keyword">this</span>.locked=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.key_up_off(t),t.trigger(<span class="hljs-string">"close"</span>).trigger(<span class="hljs-string">"close.fndtn.reveal"</span>),<span class="hljs-keyword">this</span>.toggle_bg(t,!<span class="hljs-number">1</span>),<span class="hljs-keyword">this</span>.hide(e,i.css.close,i))},close_targets:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-keyword">var</span> t=<span class="hljs-string">"."</span>+<span class="hljs-keyword">this</span>.settings.dismiss_modal_class;<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.settings.close_on_background_click?t+<span class="hljs-string">", ."</span>+<span class="hljs-keyword">this</span>.settings.bg_class:t},toggle_bg:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-number">0</span>===<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"."</span>+<span class="hljs-keyword">this</span>.settings.bg_class).length&amp;&amp;(<span class="hljs-keyword">this</span>.settings.bg=t(<span class="hljs-string">"&lt;div /&gt;"</span>,{<span class="hljs-string">"class"</span>:<span class="hljs-keyword">this</span>.settings.bg_class}).appendTo(<span class="hljs-string">"body"</span>).hide());<span class="hljs-keyword">var</span> r=<span class="hljs-keyword">this</span>.settings.bg.filter(<span class="hljs-string">":visible"</span>).length&gt;<span class="hljs-number">0</span>;i!=r&amp;&amp;((i==n?r:!i)?<span class="hljs-keyword">this</span>.hide(<span class="hljs-keyword">this</span>.settings.bg):<span class="hljs-keyword">this</span>.show(<span class="hljs-keyword">this</span>.settings.bg))},show:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i,n</span>)</span>{<span class="hljs-keyword">if</span>(n){<span class="hljs-keyword">var</span> s=i.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>)||<span class="hljs-keyword">this</span>.settings,o=s.root_element;<span class="hljs-keyword">if</span>(<span class="hljs-number">0</span>===i.parent(o).length){<span class="hljs-keyword">var</span> a=i.wrap(<span class="hljs-string">'&lt;div style="display: none;" /&gt;'</span>).parent();i.on(<span class="hljs-string">"closed.fndtn.reveal.wrapped"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{i.detach().appendTo(a),i.unwrap().unbind(<span class="hljs-string">"closed.fndtn.reveal.wrapped"</span>)}),i.detach().appendTo(o)}<span class="hljs-keyword">var</span> l=r(s.animation);<span class="hljs-keyword">if</span>(l.animate||(<span class="hljs-keyword">this</span>.locked=!<span class="hljs-number">1</span>),l.pop){n.top=t(e).scrollTop()-i.data(<span class="hljs-string">"offset"</span>)+<span class="hljs-string">"px"</span>;<span class="hljs-keyword">var</span> c={top:t(e).scrollTop()+i.data(<span class="hljs-string">"css-top"</span>)+<span class="hljs-string">"px"</span>,opacity:<span class="hljs-number">1</span>};<span class="hljs-keyword">return</span> setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> i.css(n).animate(c,s.animation_speed,<span class="hljs-string">"linear"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.locked=!<span class="hljs-number">1</span>,i.trigger(<span class="hljs-string">"opened"</span>).trigger(<span class="hljs-string">"opened.fndtn.reveal"</span>)}.bind(<span class="hljs-keyword">this</span>)).addClass(<span class="hljs-string">"open"</span>)}.bind(<span class="hljs-keyword">this</span>),s.animation_speed/<span class="hljs-number">2</span>)}<span class="hljs-keyword">if</span>(l.fade){n.top=t(e).scrollTop()+i.data(<span class="hljs-string">"css-top"</span>)+<span class="hljs-string">"px"</span>;<span class="hljs-keyword">var</span> c={opacity:<span class="hljs-number">1</span>};<span class="hljs-keyword">return</span> setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> i.css(n).animate(c,s.animation_speed,<span class="hljs-string">"linear"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.locked=!<span class="hljs-number">1</span>,i.trigger(<span class="hljs-string">"opened"</span>).trigger(<span class="hljs-string">"opened.fndtn.reveal"</span>)}.bind(<span class="hljs-keyword">this</span>)).addClass(<span class="hljs-string">"open"</span>)}.bind(<span class="hljs-keyword">this</span>),s.animation_speed/<span class="hljs-number">2</span>)}<span class="hljs-keyword">return</span> i.css(n).show().css({opacity:<span class="hljs-number">1</span>}).addClass(<span class="hljs-string">"open"</span>).trigger(<span class="hljs-string">"opened"</span>).trigger(<span class="hljs-string">"opened.fndtn.reveal"</span>)}<span class="hljs-keyword">var</span> s=<span class="hljs-keyword">this</span>.settings;<span class="hljs-keyword">return</span> r(s.animation).fade?i.fadeIn(s.animation_speed/<span class="hljs-number">2</span>):(<span class="hljs-keyword">this</span>.locked=!<span class="hljs-number">1</span>,i.show())},hide:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i,n</span>)</span>{<span class="hljs-keyword">if</span>(n){<span class="hljs-keyword">var</span> s=i.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>);s=s||<span class="hljs-keyword">this</span>.settings;<span class="hljs-keyword">var</span> o=r(s.animation);<span class="hljs-keyword">if</span>(o.animate||(<span class="hljs-keyword">this</span>.locked=!<span class="hljs-number">1</span>),o.pop){<span class="hljs-keyword">var</span> a={top:-t(e).scrollTop()-i.data(<span class="hljs-string">"offset"</span>)+<span class="hljs-string">"px"</span>,opacity:<span class="hljs-number">0</span>};<span class="hljs-keyword">return</span> setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> i.animate(a,s.animation_speed,<span class="hljs-string">"linear"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.locked=!<span class="hljs-number">1</span>,i.css(n).trigger(<span class="hljs-string">"closed"</span>).trigger(<span class="hljs-string">"closed.fndtn.reveal"</span>)}.bind(<span class="hljs-keyword">this</span>)).removeClass(<span class="hljs-string">"open"</span>)}.bind(<span class="hljs-keyword">this</span>),s.animation_speed/<span class="hljs-number">2</span>)}<span class="hljs-keyword">if</span>(o.fade){<span class="hljs-keyword">var</span> a={opacity:<span class="hljs-number">0</span>};<span class="hljs-keyword">return</span> setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> i.animate(a,s.animation_speed,<span class="hljs-string">"linear"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.locked=!<span class="hljs-number">1</span>,i.css(n).trigger(<span class="hljs-string">"closed"</span>).trigger(<span class="hljs-string">"closed.fndtn.reveal"</span>)}.bind(<span class="hljs-keyword">this</span>)).removeClass(<span class="hljs-string">"open"</span>)}.bind(<span class="hljs-keyword">this</span>),s.animation_speed/<span class="hljs-number">2</span>)}<span class="hljs-keyword">return</span> i.hide().css(n).removeClass(<span class="hljs-string">"open"</span>).trigger(<span class="hljs-string">"closed"</span>).trigger(<span class="hljs-string">"closed.fndtn.reveal"</span>)}<span class="hljs-keyword">var</span> s=<span class="hljs-keyword">this</span>.settings;<span class="hljs-keyword">return</span> r(s.animation).fade?i.fadeOut(s.animation_speed/<span class="hljs-number">2</span>):i.hide()},close_video:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=t(<span class="hljs-string">".flex-video"</span>,e.target),n=t(<span class="hljs-string">"iframe"</span>,i);n.length&gt;<span class="hljs-number">0</span>&amp;&amp;(n.attr(<span class="hljs-string">"data-src"</span>,n[<span class="hljs-number">0</span>].src),n.attr(<span class="hljs-string">"src"</span>,n.attr(<span class="hljs-string">"src"</span>)),i.hide())},open_video:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=t(<span class="hljs-string">".flex-video"</span>,e.target),r=i.find(<span class="hljs-string">"iframe"</span>);<span class="hljs-keyword">if</span>(r.length&gt;<span class="hljs-number">0</span>){<span class="hljs-keyword">var</span> s=r.attr(<span class="hljs-string">"data-src"</span>);<span class="hljs-keyword">if</span>(<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> s)r[<span class="hljs-number">0</span>].src=r.attr(<span class="hljs-string">"data-src"</span>);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> o=r[<span class="hljs-number">0</span>].src;r[<span class="hljs-number">0</span>].src=n,r[<span class="hljs-number">0</span>].src=o}i.show()}},data_attr:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.namespace.length&gt;<span class="hljs-number">0</span>?<span class="hljs-keyword">this</span>.namespace+<span class="hljs-string">"-"</span>+t:t},cache_offset:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.show().height()+<span class="hljs-built_in">parseInt</span>(t.css(<span class="hljs-string">"top"</span>),<span class="hljs-number">10</span>);<span class="hljs-keyword">return</span> t.hide(),e},off:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".fndtn.reveal"</span>)},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;Foundation.libs.interchange={name:<span class="hljs-string">"interchange"</span>,version:<span class="hljs-string">"5.3.3"</span>,cache:{},images_loaded:!<span class="hljs-number">1</span>,nodes_loaded:!<span class="hljs-number">1</span>,settings:{load_attr:<span class="hljs-string">"interchange"</span>,named_queries:{<span class="hljs-string">"default"</span>:<span class="hljs-string">"only screen"</span>,small:Foundation.media_queries.small,medium:Foundation.media_queries.medium,large:Foundation.media_queries.large,xlarge:Foundation.media_queries.xlarge,xxlarge:Foundation.media_queries.xxlarge,landscape:<span class="hljs-string">"only screen and (orientation: landscape)"</span>,portrait:<span class="hljs-string">"only screen and (orientation: portrait)"</span>,retina:<span class="hljs-string">"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"</span>},directives:{replace:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i,n</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-regexp">/IMG/</span>.test(e[<span class="hljs-number">0</span>].nodeName)){<span class="hljs-keyword">var</span> r=e[<span class="hljs-number">0</span>].src;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(i,<span class="hljs-string">"i"</span>).test(r))<span class="hljs-keyword">return</span>;<span class="hljs-keyword">return</span> e[<span class="hljs-number">0</span>].src=i,n(e[<span class="hljs-number">0</span>].src)}<span class="hljs-keyword">var</span> s=e.data(<span class="hljs-keyword">this</span>.data_attr+<span class="hljs-string">"-last-path"</span>),o=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">if</span>(s!=i)<span class="hljs-keyword">return</span><span class="hljs-regexp">/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i</span>.test(i)?(t(e).css(<span class="hljs-string">"background-image"</span>,<span class="hljs-string">"url("</span>+i+<span class="hljs-string">")"</span>),e.data(<span class="hljs-string">"interchange-last-path"</span>,i),n(i)):t.get(i,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{e.html(t),e.data(o.data_attr+<span class="hljs-string">"-last-path"</span>,i),n()})}}},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i,n</span>)</span>{Foundation.inherit(<span class="hljs-keyword">this</span>,<span class="hljs-string">"throttle random_str"</span>),<span class="hljs-keyword">this</span>.data_attr=<span class="hljs-keyword">this</span>.set_data_attr(),t.extend(!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.settings,i,n),<span class="hljs-keyword">this</span>.bindings(i,n),<span class="hljs-keyword">this</span>.load(<span class="hljs-string">"images"</span>),<span class="hljs-keyword">this</span>.load(<span class="hljs-string">"nodes"</span>)},get_media_hash:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-string">""</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.settings.named_queries)t+=matchMedia(<span class="hljs-keyword">this</span>.settings.named_queries[e]).matches.toString();<span class="hljs-keyword">return</span> t},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> i,n=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">return</span> t(e).off(<span class="hljs-string">".interchange"</span>).on(<span class="hljs-string">"resize.fndtn.interchange"</span>,n.throttle(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=n.get_media_hash();t!==i&amp;&amp;n.resize(),i=t},<span class="hljs-number">50</span>)),<span class="hljs-keyword">this</span>},resize:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.cache;<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.images_loaded||!<span class="hljs-keyword">this</span>.nodes_loaded)<span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> setTimeout(t.proxy(<span class="hljs-keyword">this</span>.resize,<span class="hljs-keyword">this</span>),<span class="hljs-number">50</span>);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> e)<span class="hljs-keyword">if</span>(e.hasOwnProperty(i)){<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>.results(i,e[i]);n&amp;&amp;<span class="hljs-keyword">this</span>.settings.directives[n.scenario[<span class="hljs-number">1</span>]].call(<span class="hljs-keyword">this</span>,n.el,n.scenario[<span class="hljs-number">0</span>],<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>]<span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>)<span class="hljs-keyword">var</span> t=<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>];<span class="hljs-keyword">else</span> <span class="hljs-keyword">var</span> t=<span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>,<span class="hljs-number">0</span>);n.el.trigger(n.scenario[<span class="hljs-number">1</span>],t)})}},results:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=e.length;<span class="hljs-keyword">if</span>(i&gt;<span class="hljs-number">0</span>)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-uuid"</span>)+<span class="hljs-string">'="'</span>+t+<span class="hljs-string">'"]'</span>);i--;){<span class="hljs-keyword">var</span> r,s=e[i][<span class="hljs-number">2</span>];<span class="hljs-keyword">if</span>(r=<span class="hljs-keyword">this</span>.settings.named_queries.hasOwnProperty(s)?matchMedia(<span class="hljs-keyword">this</span>.settings.named_queries[s]):matchMedia(s),r.matches)<span class="hljs-keyword">return</span>{el:n,scenario:e[i]}}<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>},load:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span>(<span class="hljs-string">"undefined"</span>==<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>[<span class="hljs-string">"cached_"</span>+t]||e)&amp;&amp;<span class="hljs-keyword">this</span>[<span class="hljs-string">"update_"</span>+t](),<span class="hljs-keyword">this</span>[<span class="hljs-string">"cached_"</span>+t]},update_images:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"img["</span>+<span class="hljs-keyword">this</span>.data_attr+<span class="hljs-string">"]"</span>),e=t.length,i=e,n=<span class="hljs-number">0</span>,r=<span class="hljs-keyword">this</span>.data_attr;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">this</span>.cache={},<span class="hljs-keyword">this</span>.cached_images=[],<span class="hljs-keyword">this</span>.images_loaded=<span class="hljs-number">0</span>===e;i--;){<span class="hljs-keyword">if</span>(n++,t[i]){<span class="hljs-keyword">var</span> s=t[i].getAttribute(r)||<span class="hljs-string">""</span>;s.length&gt;<span class="hljs-number">0</span>&amp;&amp;<span class="hljs-keyword">this</span>.cached_images.push(t[i])}n===e&amp;&amp;(<span class="hljs-keyword">this</span>.images_loaded=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.enhance(<span class="hljs-string">"images"</span>))}<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>},update_nodes:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.data_attr+<span class="hljs-string">"]"</span>).not(<span class="hljs-string">"img"</span>),e=t.length,i=e,n=<span class="hljs-number">0</span>,r=<span class="hljs-keyword">this</span>.data_attr;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">this</span>.cached_nodes=[],<span class="hljs-keyword">this</span>.nodes_loaded=<span class="hljs-number">0</span>===e;i--;){n++;<span class="hljs-keyword">var</span> s=t[i].getAttribute(r)||<span class="hljs-string">""</span>;s.length&gt;<span class="hljs-number">0</span>&amp;&amp;<span class="hljs-keyword">this</span>.cached_nodes.push(t[i]),n===e&amp;&amp;(<span class="hljs-keyword">this</span>.nodes_loaded=!<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.enhance(<span class="hljs-string">"nodes"</span>))}<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>},enhance:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>[<span class="hljs-string">"cached_"</span>+i].length;n--;)<span class="hljs-keyword">this</span>.object(t(<span class="hljs-keyword">this</span>[<span class="hljs-string">"cached_"</span>+i][n]));<span class="hljs-keyword">return</span> t(e).trigger(<span class="hljs-string">"resize"</span>).trigger(<span class="hljs-string">"resize.fndtn.interchange"</span>)},convert_directive:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.trim(t);<span class="hljs-keyword">return</span> e.length&gt;<span class="hljs-number">0</span>?e:<span class="hljs-string">"replace"</span>},parse_scenario:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t[<span class="hljs-number">0</span>].match(<span class="hljs-regexp">/(.+),\s*(\w+)\s*$/</span>),i=t[<span class="hljs-number">1</span>];<span class="hljs-keyword">if</span>(e)<span class="hljs-keyword">var</span> n=e[<span class="hljs-number">1</span>],r=e[<span class="hljs-number">2</span>];<span class="hljs-keyword">else</span> <span class="hljs-keyword">var</span> s=t[<span class="hljs-number">0</span>].split(<span class="hljs-regexp">/,\s*$/</span>),n=s[<span class="hljs-number">0</span>],r=<span class="hljs-string">""</span>;<span class="hljs-keyword">return</span>[<span class="hljs-keyword">this</span>.trim(n),<span class="hljs-keyword">this</span>.convert_directive(r),<span class="hljs-keyword">this</span>.trim(i)]},object:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.parse_data_attr(t),i=[],n=e.length;<span class="hljs-keyword">if</span>(n&gt;<span class="hljs-number">0</span>)<span class="hljs-keyword">for</span>(;n--;){<span class="hljs-keyword">var</span> r=e[n].split(<span class="hljs-regexp">/\((.*?)(\))$/</span>);<span class="hljs-keyword">if</span>(r.length&gt;<span class="hljs-number">1</span>){<span class="hljs-keyword">var</span> s=<span class="hljs-keyword">this</span>.parse_scenario(r);i.push(s)}}<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.store(t,i)},store:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>.random_str(),n=t.data(<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"uuid"</span>,!<span class="hljs-number">0</span>));<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.cache[n]?<span class="hljs-keyword">this</span>.cache[n]:(t.attr(<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-uuid"</span>),i),<span class="hljs-keyword">this</span>.cache[i]=e)},trim:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e?t.trim(e):e},set_data_attr:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t?<span class="hljs-keyword">this</span>.namespace.length&gt;<span class="hljs-number">0</span>?<span class="hljs-keyword">this</span>.namespace+<span class="hljs-string">"-"</span>+<span class="hljs-keyword">this</span>.settings.load_attr:<span class="hljs-keyword">this</span>.settings.load_attr:<span class="hljs-keyword">this</span>.namespace.length&gt;<span class="hljs-number">0</span>?<span class="hljs-string">"data-"</span>+<span class="hljs-keyword">this</span>.namespace+<span class="hljs-string">"-"</span>+<span class="hljs-keyword">this</span>.settings.load_attr:<span class="hljs-string">"data-"</span>+<span class="hljs-keyword">this</span>.settings.load_attr},parse_data_attr:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=t.attr(<span class="hljs-keyword">this</span>.attr_name()).split(<span class="hljs-regexp">/\[(.*?)\]/</span>),i=e.length,n=[];i--;)e[i].replace(<span class="hljs-regexp">/[\W\d]+/</span>,<span class="hljs-string">""</span>).length&gt;<span class="hljs-number">4</span>&amp;&amp;n.push(e[i]);<span class="hljs-keyword">return</span> n},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.load(<span class="hljs-string">"images"</span>,!<span class="hljs-number">0</span>),<span class="hljs-keyword">this</span>.load(<span class="hljs-string">"nodes"</span>,!<span class="hljs-number">0</span>)}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;Foundation.libs[<span class="hljs-string">"magellan-expedition"</span>]={name:<span class="hljs-string">"magellan-expedition"</span>,version:<span class="hljs-string">"5.3.3"</span>,settings:{active_class:<span class="hljs-string">"active"</span>,threshold:<span class="hljs-number">0</span>,destination_threshold:<span class="hljs-number">20</span>,throttle_delay:<span class="hljs-number">30</span>,fixed_top:<span class="hljs-number">0</span>},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{Foundation.inherit(<span class="hljs-keyword">this</span>,<span class="hljs-string">"throttle"</span>),<span class="hljs-keyword">this</span>.bindings(e,i)},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>,n=i.S,r=i.settings;i.set_expedition_position(),n(i.scope).off(<span class="hljs-string">".magellan"</span>).on(<span class="hljs-string">"click.fndtn.magellan"</span>,<span class="hljs-string">"["</span>+i.add_namespace(<span class="hljs-string">"data-magellan-arrival"</span>)+<span class="hljs-string">'] a[href^="#"]'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{e.preventDefault();<span class="hljs-keyword">var</span> n=t(<span class="hljs-keyword">this</span>).closest(<span class="hljs-string">"["</span>+i.attr_name()+<span class="hljs-string">"]"</span>),r=n.data(<span class="hljs-string">"magellan-expedition-init"</span>),s=<span class="hljs-keyword">this</span>.hash.split(<span class="hljs-string">"#"</span>).join(<span class="hljs-string">""</span>),o=t(<span class="hljs-string">"a[name='"</span>+s+<span class="hljs-string">"']"</span>);<span class="hljs-number">0</span>===o.length&amp;&amp;(o=t(<span class="hljs-string">"#"</span>+s));<span class="hljs-keyword">var</span> a=o.offset().top-r.destination_threshold+<span class="hljs-number">1</span>;a-=n.outerHeight(),t(<span class="hljs-string">"html, body"</span>).stop().animate({scrollTop:a},<span class="hljs-number">700</span>,<span class="hljs-string">"swing"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{history.pushState?history.pushState(<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"#"</span>+s):location.hash=<span class="hljs-string">"#"</span>+s})}).on(<span class="hljs-string">"scroll.fndtn.magellan"</span>,i.throttle(<span class="hljs-keyword">this</span>.check_for_arrivals.bind(<span class="hljs-keyword">this</span>),r.throttle_delay)),t(e).on(<span class="hljs-string">"resize.fndtn.magellan"</span>,i.throttle(<span class="hljs-keyword">this</span>.set_expedition_position.bind(<span class="hljs-keyword">this</span>),r.throttle_delay))},check_for_arrivals:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>;t.update_arrivals(),t.update_expedition_positions()},set_expedition_position:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>;t(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"=fixed]"</span>,e.scope).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i,n</span>)</span>{<span class="hljs-keyword">var</span> r,s,o=t(<span class="hljs-keyword">this</span>),a=o.data(<span class="hljs-string">"magellan-expedition-init"</span>),l=o.attr(<span class="hljs-string">"styles"</span>);o.attr(<span class="hljs-string">"style"</span>,<span class="hljs-string">""</span>),r=o.offset().top+a.threshold,s=<span class="hljs-built_in">parseInt</span>(o.data(<span class="hljs-string">"magellan-fixed-top"</span>)),<span class="hljs-built_in">isNaN</span>(s)||(e.settings.fixed_top=s),o.data(e.data_attr(<span class="hljs-string">"magellan-top-offset"</span>),r),o.attr(<span class="hljs-string">"style"</span>,l)})},update_expedition_positions:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>,n=t(e).scrollTop();t(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"=fixed]"</span>,i.scope).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=t(<span class="hljs-keyword">this</span>),r=e.data(<span class="hljs-string">"magellan-expedition-init"</span>),s=e.attr(<span class="hljs-string">"style"</span>),o=e.data(<span class="hljs-string">"magellan-top-offset"</span>);<span class="hljs-keyword">if</span>(n+i.settings.fixed_top&gt;=o){<span class="hljs-keyword">var</span> a=e.prev(<span class="hljs-string">"["</span>+i.add_namespace(<span class="hljs-string">"data-magellan-expedition-clone"</span>)+<span class="hljs-string">"]"</span>);<span class="hljs-number">0</span>===a.length&amp;&amp;(a=e.clone(),a.removeAttr(i.attr_name()),a.attr(i.add_namespace(<span class="hljs-string">"data-magellan-expedition-clone"</span>),<span class="hljs-string">""</span>),e.before(a)),e.css({position:<span class="hljs-string">"fixed"</span>,top:r.fixed_top}).addClass(<span class="hljs-string">"fixed"</span>)}<span class="hljs-keyword">else</span> e.prev(<span class="hljs-string">"["</span>+i.add_namespace(<span class="hljs-string">"data-magellan-expedition-clone"</span>)+<span class="hljs-string">"]"</span>).remove(),e.attr(<span class="hljs-string">"style"</span>,s).css(<span class="hljs-string">"position"</span>,<span class="hljs-string">""</span>).css(<span class="hljs-string">"top"</span>,<span class="hljs-string">""</span>).removeClass(<span class="hljs-string">"fixed"</span>)})},update_arrivals:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>,n=t(e).scrollTop();t(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>,i.scope).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=t(<span class="hljs-keyword">this</span>),r=e.data(i.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>),s=i.offsets(e,n),o=e.find(<span class="hljs-string">"["</span>+i.add_namespace(<span class="hljs-string">"data-magellan-arrival"</span>)+<span class="hljs-string">"]"</span>),a=!<span class="hljs-number">1</span>;s.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,n</span>)</span>{<span class="hljs-keyword">if</span>(n.viewport_offset&gt;=n.top_offset){<span class="hljs-keyword">var</span> s=e.find(<span class="hljs-string">"["</span>+i.add_namespace(<span class="hljs-string">"data-magellan-arrival"</span>)+<span class="hljs-string">"]"</span>);<span class="hljs-keyword">return</span> s.not(n.arrival).removeClass(r.active_class),n.arrival.addClass(r.active_class),a=!<span class="hljs-number">0</span>,!<span class="hljs-number">0</span>}}),a||o.removeClass(r.active_class)})},offsets:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>,r=e.data(n.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>),s=i;<span class="hljs-keyword">return</span> e.find(<span class="hljs-string">"["</span>+n.add_namespace(<span class="hljs-string">"data-magellan-arrival"</span>)+<span class="hljs-string">"]"</span>).map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i,o</span>)</span>{<span class="hljs-keyword">var</span> a=t(<span class="hljs-keyword">this</span>).data(n.data_attr(<span class="hljs-string">"magellan-arrival"</span>)),l=t(<span class="hljs-string">"["</span>+n.add_namespace(<span class="hljs-string">"data-magellan-destination"</span>)+<span class="hljs-string">"="</span>+a+<span class="hljs-string">"]"</span>);<span class="hljs-keyword">if</span>(l.length&gt;<span class="hljs-number">0</span>){<span class="hljs-keyword">var</span> c=<span class="hljs-built_in">Math</span>.floor(l.offset().top-r.destination_threshold-e.outerHeight());<span class="hljs-keyword">return</span>{destination:l,arrival:t(<span class="hljs-keyword">this</span>),top_offset:c,viewport_offset:s}}}).sort(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> t.top_offset&lt;e.top_offset?-<span class="hljs-number">1</span>:t.top_offset&gt;e.top_offset?<span class="hljs-number">1</span>:<span class="hljs-number">0</span>})},data_attr:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.namespace.length&gt;<span class="hljs-number">0</span>?<span class="hljs-keyword">this</span>.namespace+<span class="hljs-string">"-"</span>+t:t},off:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.S(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".magellan"</span>),<span class="hljs-keyword">this</span>.S(e).off(<span class="hljs-string">".magellan"</span>)},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>;t(<span class="hljs-string">"["</span>+e.add_namespace(<span class="hljs-string">"data-magellan-expedition-clone"</span>)+<span class="hljs-string">"]"</span>,e.scope).remove()}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;Foundation.libs.accordion={name:<span class="hljs-string">"accordion"</span>,version:<span class="hljs-string">"5.3.3"</span>,settings:{active_class:<span class="hljs-string">"active"</span>,multi_expand:!<span class="hljs-number">1</span>,toggleable:!<span class="hljs-number">0</span>,callback:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">this</span>.bindings(e,i)},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>,i=<span class="hljs-keyword">this</span>.S;i(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".fndtn.accordion"</span>).on(<span class="hljs-string">"click.fndtn.accordion"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"] &gt; dd &gt; a"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>)</span>{<span class="hljs-keyword">var</span> r=i(<span class="hljs-keyword">this</span>).closest(<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"]"</span>),s=e.attr_name()+<span class="hljs-string">"="</span>+r.attr(e.attr_name()),o=r.data(e.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>),a=i(<span class="hljs-string">"#"</span>+<span class="hljs-keyword">this</span>.href.split(<span class="hljs-string">"#"</span>)[<span class="hljs-number">1</span>]),l=t(<span class="hljs-string">"&gt; dd"</span>,r),c=l.children(<span class="hljs-string">".content"</span>),u=c.filter(<span class="hljs-string">"."</span>+o.active_class);<span class="hljs-keyword">return</span> n.preventDefault(),r.attr(e.attr_name())&amp;&amp;(c=c.add(<span class="hljs-string">"["</span>+s+<span class="hljs-string">"] dd &gt; .content"</span>),l=l.add(<span class="hljs-string">"["</span>+s+<span class="hljs-string">"] dd"</span>)),o.toggleable&amp;&amp;a.is(u)?(a.parent(<span class="hljs-string">"dd"</span>).toggleClass(o.active_class,!<span class="hljs-number">1</span>),a.toggleClass(o.active_class,!<span class="hljs-number">1</span>),o.callback(a),a.triggerHandler(<span class="hljs-string">"toggled"</span>,[r]),r.triggerHandler(<span class="hljs-string">"toggled"</span>,[a]),<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>):(o.multi_expand||(c.removeClass(o.active_class),l.removeClass(o.active_class)),a.addClass(o.active_class).parent().addClass(o.active_class),o.callback(a),a.triggerHandler(<span class="hljs-string">"toggled"</span>,[r]),r.triggerHandler(<span class="hljs-string">"toggled"</span>,[a]),<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)})},off:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;Foundation.libs.topbar={name:<span class="hljs-string">"topbar"</span>,version:<span class="hljs-string">"5.3.3"</span>,settings:{index:<span class="hljs-number">0</span>,sticky_class:<span class="hljs-string">"sticky"</span>,custom_back_text:!<span class="hljs-number">0</span>,back_text:<span class="hljs-string">"Back"</span>,mobile_show_parent_link:!<span class="hljs-number">0</span>,is_hover:!<span class="hljs-number">0</span>,scrolltop:!<span class="hljs-number">0</span>,sticky_on:<span class="hljs-string">"all"</span>},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i,n</span>)</span>{Foundation.inherit(<span class="hljs-keyword">this</span>,<span class="hljs-string">"add_custom_rule register_media throttle"</span>);<span class="hljs-keyword">var</span> r=<span class="hljs-keyword">this</span>;r.register_media(<span class="hljs-string">"topbar"</span>,<span class="hljs-string">"foundation-mq-topbar"</span>),<span class="hljs-keyword">this</span>.bindings(i,n),r.S(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-keyword">this</span>.scope).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=t(<span class="hljs-keyword">this</span>),i=e.data(r.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>);r.S(<span class="hljs-string">"section, .top-bar-section"</span>,<span class="hljs-keyword">this</span>);e.data(<span class="hljs-string">"index"</span>,<span class="hljs-number">0</span>);<span class="hljs-keyword">var</span> n=e.parent();n.hasClass(<span class="hljs-string">"fixed"</span>)||r.is_sticky(e,n,i)?(r.settings.sticky_class=i.sticky_class,r.settings.sticky_topbar=e,e.data(<span class="hljs-string">"height"</span>,n.outerHeight()),e.data(<span class="hljs-string">"stickyoffset"</span>,n.offset().top)):e.data(<span class="hljs-string">"height"</span>,e.outerHeight()),i.assembled||r.assemble(e),i.is_hover?r.S(<span class="hljs-string">".has-dropdown"</span>,e).addClass(<span class="hljs-string">"not-click"</span>):r.S(<span class="hljs-string">".has-dropdown"</span>,e).removeClass(<span class="hljs-string">"not-click"</span>),r.add_custom_rule(<span class="hljs-string">".f-topbar-fixed { padding-top: "</span>+e.data(<span class="hljs-string">"height"</span>)+<span class="hljs-string">"px }"</span>),n.hasClass(<span class="hljs-string">"fixed"</span>)&amp;&amp;r.S(<span class="hljs-string">"body"</span>).addClass(<span class="hljs-string">"f-topbar-fixed"</span>)})},is_sticky:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=e.hasClass(i.sticky_class);<span class="hljs-keyword">return</span>!(!n||<span class="hljs-string">"all"</span>!==i.sticky_on)||(n&amp;&amp;<span class="hljs-keyword">this</span>.small()&amp;&amp;<span class="hljs-string">"small"</span>===i.sticky_on?matchMedia(Foundation.media_queries.small).matches&amp;&amp;!matchMedia(Foundation.media_queries.medium).matches&amp;&amp;!matchMedia(Foundation.media_queries.large).matches:n&amp;&amp;<span class="hljs-keyword">this</span>.medium()&amp;&amp;<span class="hljs-string">"medium"</span>===i.sticky_on?matchMedia(Foundation.media_queries.small).matches&amp;&amp;matchMedia(Foundation.media_queries.medium).matches&amp;&amp;!matchMedia(Foundation.media_queries.large).matches:!(!n||!<span class="hljs-keyword">this</span>.large()||<span class="hljs-string">"large"</span>!==i.sticky_on)&amp;&amp;(matchMedia(Foundation.media_queries.small).matches&amp;&amp;matchMedia(Foundation.media_queries.medium).matches&amp;&amp;matchMedia(Foundation.media_queries.large).matches))},toggle:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>)</span>{<span class="hljs-keyword">var</span> n,r=<span class="hljs-keyword">this</span>;n=i?r.S(i).closest(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>):r.S(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>);<span class="hljs-keyword">var</span> s=n.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>),o=r.S(<span class="hljs-string">"section, .top-bar-section"</span>,n);r.breakpoint()&amp;&amp;(r.rtl?(o.css({right:<span class="hljs-string">"0%"</span>}),t(<span class="hljs-string">"&gt;.name"</span>,o).css({right:<span class="hljs-string">"100%"</span>})):(o.css({left:<span class="hljs-string">"0%"</span>}),t(<span class="hljs-string">"&gt;.name"</span>,o).css({left:<span class="hljs-string">"100%"</span>})),r.S(<span class="hljs-string">"li.moved"</span>,o).removeClass(<span class="hljs-string">"moved"</span>),n.data(<span class="hljs-string">"index"</span>,<span class="hljs-number">0</span>),n.toggleClass(<span class="hljs-string">"expanded"</span>).css(<span class="hljs-string">"height"</span>,<span class="hljs-string">""</span>)),s.scrolltop?n.hasClass(<span class="hljs-string">"expanded"</span>)?n.parent().hasClass(<span class="hljs-string">"fixed"</span>)&amp;&amp;(s.scrolltop?(n.parent().removeClass(<span class="hljs-string">"fixed"</span>),n.addClass(<span class="hljs-string">"fixed"</span>),r.S(<span class="hljs-string">"body"</span>).removeClass(<span class="hljs-string">"f-topbar-fixed"</span>),e.scrollTo(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)):n.parent().removeClass(<span class="hljs-string">"expanded"</span>)):n.hasClass(<span class="hljs-string">"fixed"</span>)&amp;&amp;(n.parent().addClass(<span class="hljs-string">"fixed"</span>),n.removeClass(<span class="hljs-string">"fixed"</span>),r.S(<span class="hljs-string">"body"</span>).addClass(<span class="hljs-string">"f-topbar-fixed"</span>)):(r.is_sticky(n,n.parent(),s)&amp;&amp;n.parent().addClass(<span class="hljs-string">"fixed"</span>),n.parent().hasClass(<span class="hljs-string">"fixed"</span>)&amp;&amp;(n.hasClass(<span class="hljs-string">"expanded"</span>)?(n.addClass(<span class="hljs-string">"fixed"</span>),n.parent().addClass(<span class="hljs-string">"expanded"</span>),r.S(<span class="hljs-string">"body"</span>).addClass(<span class="hljs-string">"f-topbar-fixed"</span>)):(n.removeClass(<span class="hljs-string">"fixed"</span>),n.parent().removeClass(<span class="hljs-string">"expanded"</span>),r.update_sticky_positioning())))},timer:<span class="hljs-literal">null</span>,events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>)</span>{<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>,r=<span class="hljs-keyword">this</span>.S;r(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".topbar"</span>).on(<span class="hljs-string">"click.fndtn.topbar"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"] .toggle-topbar"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t.preventDefault(),n.toggle(<span class="hljs-keyword">this</span>)}).on(<span class="hljs-string">"click.fndtn.topbar"</span>,<span class="hljs-string">'.top-bar .top-bar-section li a[href^="#"],['</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">'] .top-bar-section li a[href^="#"]'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=t(<span class="hljs-keyword">this</span>).closest(<span class="hljs-string">"li"</span>);n.breakpoint()&amp;&amp;!i.hasClass(<span class="hljs-string">"back"</span>)&amp;&amp;!i.hasClass(<span class="hljs-string">"has-dropdown"</span>)&amp;&amp;n.toggle()}).on(<span class="hljs-string">"click.fndtn.topbar"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"] li.has-dropdown"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=r(<span class="hljs-keyword">this</span>),s=r(e.target),o=i.closest(<span class="hljs-string">"["</span>+n.attr_name()+<span class="hljs-string">"]"</span>),a=o.data(n.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>);<span class="hljs-keyword">return</span> s.data(<span class="hljs-string">"revealId"</span>)?<span class="hljs-keyword">void</span> n.toggle():<span class="hljs-keyword">void</span>(n.breakpoint()||a.is_hover&amp;&amp;!Modernizr.touch||(e.stopImmediatePropagation(),i.hasClass(<span class="hljs-string">"hover"</span>)?(i.removeClass(<span class="hljs-string">"hover"</span>).find(<span class="hljs-string">"li"</span>).removeClass(<span class="hljs-string">"hover"</span>),i.parents(<span class="hljs-string">"li.hover"</span>).removeClass(<span class="hljs-string">"hover"</span>)):(i.addClass(<span class="hljs-string">"hover"</span>),t(i).siblings().removeClass(<span class="hljs-string">"hover"</span>),<span class="hljs-string">"A"</span>===s[<span class="hljs-number">0</span>].nodeName&amp;&amp;s.parent().hasClass(<span class="hljs-string">"has-dropdown"</span>)&amp;&amp;e.preventDefault())))}).on(<span class="hljs-string">"click.fndtn.topbar"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"] .has-dropdown&gt;a"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(n.breakpoint()){t.preventDefault();<span class="hljs-keyword">var</span> e=r(<span class="hljs-keyword">this</span>),i=e.closest(<span class="hljs-string">"["</span>+n.attr_name()+<span class="hljs-string">"]"</span>),s=i.find(<span class="hljs-string">"section, .top-bar-section"</span>),o=(e.next(<span class="hljs-string">".dropdown"</span>).outerHeight(),e.closest(<span class="hljs-string">"li"</span>));i.data(<span class="hljs-string">"index"</span>,i.data(<span class="hljs-string">"index"</span>)+<span class="hljs-number">1</span>),o.addClass(<span class="hljs-string">"moved"</span>),n.rtl?(s.css({right:-(<span class="hljs-number">100</span>*i.data(<span class="hljs-string">"index"</span>))+<span class="hljs-string">"%"</span>}),s.find(<span class="hljs-string">"&gt;.name"</span>).css({right:<span class="hljs-number">100</span>*i.data(<span class="hljs-string">"index"</span>)+<span class="hljs-string">"%"</span>})):(s.css({left:-(<span class="hljs-number">100</span>*i.data(<span class="hljs-string">"index"</span>))+<span class="hljs-string">"%"</span>}),s.find(<span class="hljs-string">"&gt;.name"</span>).css({left:<span class="hljs-number">100</span>*i.data(<span class="hljs-string">"index"</span>)+<span class="hljs-string">"%"</span>})),i.css(<span class="hljs-string">"height"</span>,e.siblings(<span class="hljs-string">"ul"</span>).outerHeight(!<span class="hljs-number">0</span>)+i.data(<span class="hljs-string">"height"</span>))}}),r(e).off(<span class="hljs-string">".topbar"</span>).on(<span class="hljs-string">"resize.fndtn.topbar"</span>,n.throttle(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{n.resize.call(n)},<span class="hljs-number">50</span>)).trigger(<span class="hljs-string">"resize"</span>).trigger(<span class="hljs-string">"resize.fndtn.topbar"</span>).load(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{r(<span class="hljs-keyword">this</span>).trigger(<span class="hljs-string">"resize.fndtn.topbar"</span>)}),r(<span class="hljs-string">"body"</span>).off(<span class="hljs-string">".topbar"</span>).on(<span class="hljs-string">"click.fndtn.topbar"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=r(t.target).closest(<span class="hljs-string">"li"</span>).closest(<span class="hljs-string">"li.hover"</span>);e.length&gt;<span class="hljs-number">0</span>||r(<span class="hljs-string">"["</span>+n.attr_name()+<span class="hljs-string">"] li.hover"</span>).removeClass(<span class="hljs-string">"hover"</span>)}),r(<span class="hljs-keyword">this</span>.scope).on(<span class="hljs-string">"click.fndtn.topbar"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"] .has-dropdown .back"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t.preventDefault();<span class="hljs-keyword">var</span> e=r(<span class="hljs-keyword">this</span>),i=e.closest(<span class="hljs-string">"["</span>+n.attr_name()+<span class="hljs-string">"]"</span>),s=i.find(<span class="hljs-string">"section, .top-bar-section"</span>),o=(i.data(n.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>),e.closest(<span class="hljs-string">"li.moved"</span>)),a=o.parent();i.data(<span class="hljs-string">"index"</span>,i.data(<span class="hljs-string">"index"</span>)-<span class="hljs-number">1</span>),n.rtl?(s.css({right:-(<span class="hljs-number">100</span>*i.data(<span class="hljs-string">"index"</span>))+<span class="hljs-string">"%"</span>}),s.find(<span class="hljs-string">"&gt;.name"</span>).css({right:<span class="hljs-number">100</span>*i.data(<span class="hljs-string">"index"</span>)+<span class="hljs-string">"%"</span>})):(s.css({left:-(<span class="hljs-number">100</span>*i.data(<span class="hljs-string">"index"</span>))+<span class="hljs-string">"%"</span>}),s.find(<span class="hljs-string">"&gt;.name"</span>).css({left:<span class="hljs-number">100</span>*i.data(<span class="hljs-string">"index"</span>)+<span class="hljs-string">"%"</span>})),<span class="hljs-number">0</span>===i.data(<span class="hljs-string">"index"</span>)?i.css(<span class="hljs-string">"height"</span>,<span class="hljs-string">""</span>):i.css(<span class="hljs-string">"height"</span>,a.outerHeight(!<span class="hljs-number">0</span>)+i.data(<span class="hljs-string">"height"</span>)),setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{o.removeClass(<span class="hljs-string">"moved"</span>)},<span class="hljs-number">300</span>)})},resize:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>;t.S(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e,n=t.S(<span class="hljs-keyword">this</span>),r=n.data(t.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>),s=n.parent(<span class="hljs-string">"."</span>+t.settings.sticky_class);<span class="hljs-keyword">if</span>(!t.breakpoint()){<span class="hljs-keyword">var</span> o=n.hasClass(<span class="hljs-string">"expanded"</span>);n.css(<span class="hljs-string">"height"</span>,<span class="hljs-string">""</span>).removeClass(<span class="hljs-string">"expanded"</span>).find(<span class="hljs-string">"li"</span>).removeClass(<span class="hljs-string">"hover"</span>),o&amp;&amp;t.toggle(n)}t.is_sticky(n,s,r)&amp;&amp;(s.hasClass(<span class="hljs-string">"fixed"</span>)?(s.removeClass(<span class="hljs-string">"fixed"</span>),e=s.offset().top,t.S(i.body).hasClass(<span class="hljs-string">"f-topbar-fixed"</span>)&amp;&amp;(e-=n.data(<span class="hljs-string">"height"</span>)),n.data(<span class="hljs-string">"stickyoffset"</span>,e),s.addClass(<span class="hljs-string">"fixed"</span>)):(e=s.offset().top,n.data(<span class="hljs-string">"stickyoffset"</span>,e)))})},breakpoint:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span>!matchMedia(Foundation.media_queries.topbar).matches},small:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> matchMedia(Foundation.media_queries.small).matches},medium:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> matchMedia(Foundation.media_queries.medium).matches},large:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> matchMedia(Foundation.media_queries.large).matches},assemble:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>,n=e.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>),r=i.S(<span class="hljs-string">"section, .top-bar-section"</span>,e);r.detach(),i.S(<span class="hljs-string">".has-dropdown&gt;a"</span>,r).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e,r=i.S(<span class="hljs-keyword">this</span>),s=r.siblings(<span class="hljs-string">".dropdown"</span>),o=r.attr(<span class="hljs-string">"href"</span>);s.find(<span class="hljs-string">".title.back"</span>).length||(e=t(<span class="hljs-number">1</span>==n.mobile_show_parent_link&amp;&amp;o?<span class="hljs-string">'&lt;li class="title back js-generated"&gt;&lt;h5&gt;&lt;a href="javascript:void(0)"&gt;&lt;/a&gt;&lt;/h5&gt;&lt;/li&gt;&lt;li class="parent-link show-for-small"&gt;&lt;a class="parent-link js-generated" href="'</span>+o+<span class="hljs-string">'"&gt;'</span>+r.html()+<span class="hljs-string">"&lt;/a&gt;&lt;/li&gt;"</span>:<span class="hljs-string">'&lt;li class="title back js-generated"&gt;&lt;h5&gt;&lt;a href="javascript:void(0)"&gt;&lt;/a&gt;&lt;/h5&gt;'</span>),<span class="hljs-number">1</span>==n.custom_back_text?t(<span class="hljs-string">"h5&gt;a"</span>,e).html(n.back_text):t(<span class="hljs-string">"h5&gt;a"</span>,e).html(<span class="hljs-string">"&amp;laquo; "</span>+r.html()),s.prepend(e))}),r.appendTo(e),<span class="hljs-keyword">this</span>.sticky(),<span class="hljs-keyword">this</span>.assembled(e)},assembled:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{e.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>),t.extend({},e.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)),{assembled:!<span class="hljs-number">0</span>}))},height:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,n=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">return</span> t(<span class="hljs-string">"&gt; li"</span>,e).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{i+=n.S(<span class="hljs-keyword">this</span>).outerHeight(!<span class="hljs-number">0</span>)}),i},sticky:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">this</span>.S(e).on(<span class="hljs-string">"scroll"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t.update_sticky_positioning()})},update_sticky_positioning:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-string">"."</span>+<span class="hljs-keyword">this</span>.settings.sticky_class,i=<span class="hljs-keyword">this</span>.S(e),n=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">if</span>(n.settings.sticky_topbar&amp;&amp;n.is_sticky(<span class="hljs-keyword">this</span>.settings.sticky_topbar,<span class="hljs-keyword">this</span>.settings.sticky_topbar.parent(),<span class="hljs-keyword">this</span>.settings)){<span class="hljs-keyword">var</span> r=<span class="hljs-keyword">this</span>.settings.sticky_topbar.data(<span class="hljs-string">"stickyoffset"</span>);n.S(t).hasClass(<span class="hljs-string">"expanded"</span>)||(i.scrollTop()&gt;r?n.S(t).hasClass(<span class="hljs-string">"fixed"</span>)||(n.S(t).addClass(<span class="hljs-string">"fixed"</span>),n.S(<span class="hljs-string">"body"</span>).addClass(<span class="hljs-string">"f-topbar-fixed"</span>)):i.scrollTop()&lt;=r&amp;&amp;n.S(t).hasClass(<span class="hljs-string">"fixed"</span>)&amp;&amp;(n.S(t).removeClass(<span class="hljs-string">"fixed"</span>),n.S(<span class="hljs-string">"body"</span>).removeClass(<span class="hljs-string">"f-topbar-fixed"</span>)))}},off:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.S(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".fndtn.topbar"</span>),<span class="hljs-keyword">this</span>.S(e).off(<span class="hljs-string">".fndtn.topbar"</span>)},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;Foundation.libs.tab={name:<span class="hljs-string">"tab"</span>,version:<span class="hljs-string">"5.3.3"</span>,settings:{active_class:<span class="hljs-string">"active"</span>,callback:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},deep_linking:!<span class="hljs-number">1</span>,scroll_to_content:!<span class="hljs-number">0</span>,is_hover:!<span class="hljs-number">1</span>},default_tab_hashes:[],init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>,r=<span class="hljs-keyword">this</span>.S;<span class="hljs-keyword">this</span>.bindings(e,i),<span class="hljs-keyword">this</span>.handle_location_hash_change(),r(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"] &gt; .active &gt; a"</span>,<span class="hljs-keyword">this</span>.scope).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{n.default_tab_hashes.push(<span class="hljs-keyword">this</span>.hash)})},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>,i=<span class="hljs-keyword">this</span>.S;i(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".tab"</span>).on(<span class="hljs-string">"click.fndtn.tab"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"] &gt; * &gt; a"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> n=i(<span class="hljs-keyword">this</span>).closest(<span class="hljs-string">"["</span>+t.attr_name()+<span class="hljs-string">"]"</span>).data(t.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>);n.is_hover&amp;&amp;!Modernizr.touch||(e.preventDefault(),e.stopPropagation(),t.toggle_active_tab(i(<span class="hljs-keyword">this</span>).parent()))}).on(<span class="hljs-string">"mouseenter.fndtn.tab"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"] &gt; * &gt; a"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> n=i(<span class="hljs-keyword">this</span>).closest(<span class="hljs-string">"["</span>+t.attr_name()+<span class="hljs-string">"]"</span>).data(t.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>);n.is_hover&amp;&amp;t.toggle_active_tab(i(<span class="hljs-keyword">this</span>).parent())}),i(e).on(<span class="hljs-string">"hashchange.fndtn.tab"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{e.preventDefault(),t.handle_location_hash_change()})},handle_location_hash_change:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>,i=<span class="hljs-keyword">this</span>.S;i(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-keyword">this</span>.scope).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> r=i(<span class="hljs-keyword">this</span>).data(e.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>);<span class="hljs-keyword">if</span>(r.deep_linking){<span class="hljs-keyword">var</span> s=e.scope.location.hash;<span class="hljs-keyword">if</span>(<span class="hljs-string">""</span>!=s){<span class="hljs-keyword">var</span> o=i(s);<span class="hljs-keyword">if</span>(o.hasClass(<span class="hljs-string">"content"</span>)&amp;&amp;o.parent().hasClass(<span class="hljs-string">"tab-content"</span>))e.toggle_active_tab(t(<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"] &gt; * &gt; a[href="</span>+s+<span class="hljs-string">"]"</span>).parent());<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> a=o.closest(<span class="hljs-string">".content"</span>).attr(<span class="hljs-string">"id"</span>);a!=n&amp;&amp;e.toggle_active_tab(t(<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"] &gt; * &gt; a[href=#"</span>+a+<span class="hljs-string">"]"</span>).parent(),s)}}<span class="hljs-keyword">else</span> <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> l <span class="hljs-keyword">in</span> e.default_tab_hashes)e.toggle_active_tab(t(<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"] &gt; * &gt; a[href="</span>+e.default_tab_hashes[l]+<span class="hljs-string">"]"</span>).parent())}})},toggle_active_tab:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i,r</span>)</span>{<span class="hljs-keyword">var</span> s=<span class="hljs-keyword">this</span>.S,o=i.closest(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>),a=i.children(<span class="hljs-string">"a"</span>).first(),l=<span class="hljs-string">"#"</span>+a.attr(<span class="hljs-string">"href"</span>).split(<span class="hljs-string">"#"</span>)[<span class="hljs-number">1</span>],c=s(l),u=i.siblings(),d=o.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>);<span class="hljs-keyword">if</span>(s(<span class="hljs-keyword">this</span>).data(<span class="hljs-keyword">this</span>.data_attr(<span class="hljs-string">"tab-content"</span>))&amp;&amp;(l=<span class="hljs-string">"#"</span>+s(<span class="hljs-keyword">this</span>).data(<span class="hljs-keyword">this</span>.data_attr(<span class="hljs-string">"tab-content"</span>)).split(<span class="hljs-string">"#"</span>)[<span class="hljs-number">1</span>],c=s(l)),d.deep_linking){<span class="hljs-keyword">var</span> h=t(<span class="hljs-string">"body,html"</span>).scrollTop();r!=n?e.location.hash=r:e.location.hash=l,d.scroll_to_content?r==n||r==l?i.parent()[<span class="hljs-number">0</span>].scrollIntoView():s(l)[<span class="hljs-number">0</span>].scrollIntoView():(r==n||r==l)&amp;&amp;t(<span class="hljs-string">"body,html"</span>).scrollTop(h)}i.addClass(d.active_class).triggerHandler(<span class="hljs-string">"opened"</span>),u.removeClass(d.active_class),c.siblings().removeClass(d.active_class).end().addClass(d.active_class),d.callback(i),c.triggerHandler(<span class="hljs-string">"toggled"</span>,[i]),o.triggerHandler(<span class="hljs-string">"toggled"</span>,[c])},data_attr:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.namespace.length&gt;<span class="hljs-number">0</span>?<span class="hljs-keyword">this</span>.namespace+<span class="hljs-string">"-"</span>+t:t},off:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;Foundation.libs.abide={name:<span class="hljs-string">"abide"</span>,version:<span class="hljs-string">"5.3.3"</span>,settings:{live_validate:!<span class="hljs-number">0</span>,focus_on_invalid:!<span class="hljs-number">0</span>,error_labels:!<span class="hljs-number">0</span>,timeout:<span class="hljs-number">1e3</span>,patterns:{alpha:<span class="hljs-regexp">/^[a-zA-Z]+$/</span>,alpha_numeric:<span class="hljs-regexp">/^[a-zA-Z0-9]+$/</span>,integer:<span class="hljs-regexp">/^[-+]?\d+$/</span>,number:<span class="hljs-regexp">/^[-+]?\d*(?:[\.\,]\d+)?$/</span>,card:<span class="hljs-regexp">/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/</span>,cvv:<span class="hljs-regexp">/^([0-9]){3,4}$/</span>,email:<span class="hljs-regexp">/^[a-zA-Z0-9.!#$%&amp;'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/</span>,url:<span class="hljs-regexp">/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/</span>,domain:<span class="hljs-regexp">/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/</span>,datetime:<span class="hljs-regexp">/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/</span>,date:<span class="hljs-regexp">/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/</span>,time:<span class="hljs-regexp">/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/</span>,dateISO:<span class="hljs-regexp">/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/</span>,month_day_year:<span class="hljs-regexp">/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/</span>,color:<span class="hljs-regexp">/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/</span>},validators:{equalTo:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,n</span>)</span>{<span class="hljs-keyword">var</span> r=i.getElementById(t.getAttribute(<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-equalto"</span>))).value,s=t.value,o=r===s;<span class="hljs-keyword">return</span> o}}},timer:<span class="hljs-literal">null</span>,init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">this</span>.bindings(e,i)},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>,n=i.S(e).attr(<span class="hljs-string">"novalidate"</span>,<span class="hljs-string">"novalidate"</span>),r=n.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>)||{};<span class="hljs-keyword">this</span>.invalid_attr=<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-invalid"</span>),n.off(<span class="hljs-string">".abide"</span>).on(<span class="hljs-string">"submit.fndtn.abide validate.fndtn.abide"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-regexp">/ajax/i</span>.test(i.S(<span class="hljs-keyword">this</span>).attr(i.attr_name()));<span class="hljs-keyword">return</span> i.validate(i.S(<span class="hljs-keyword">this</span>).find(<span class="hljs-string">"input, textarea, select"</span>).get(),t,e)}).on(<span class="hljs-string">"reset"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> i.reset(t(<span class="hljs-keyword">this</span>))}).find(<span class="hljs-string">"input, textarea, select"</span>).off(<span class="hljs-string">".abide"</span>).on(<span class="hljs-string">"blur.fndtn.abide change.fndtn.abide"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{i.validate([<span class="hljs-keyword">this</span>],t)}).on(<span class="hljs-string">"keydown.fndtn.abide"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{r.live_validate===!<span class="hljs-number">0</span>&amp;&amp;(clearTimeout(i.timer),i.timer=setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{i.validate([<span class="hljs-keyword">this</span>],t)}.bind(<span class="hljs-keyword">this</span>),r.timeout))})},reset:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{e.removeAttr(<span class="hljs-keyword">this</span>.invalid_attr),t(<span class="hljs-keyword">this</span>.invalid_attr,e).removeAttr(<span class="hljs-keyword">this</span>.invalid_attr),t(<span class="hljs-string">".error"</span>,e).not(<span class="hljs-string">"small"</span>).removeClass(<span class="hljs-string">"error"</span>)},validate:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>.parse_patterns(t),r=n.length,s=<span class="hljs-keyword">this</span>.S(t[<span class="hljs-number">0</span>]).closest(<span class="hljs-string">"form"</span>),o=<span class="hljs-regexp">/submit/</span>.test(e.type),a=<span class="hljs-number">0</span>;a&lt;r;a++)<span class="hljs-keyword">if</span>(!n[a]&amp;&amp;(o||i))<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.settings.focus_on_invalid&amp;&amp;t[a].focus(),s.trigger(<span class="hljs-string">"invalid"</span>),<span class="hljs-keyword">this</span>.S(t[a]).closest(<span class="hljs-string">"form"</span>).attr(<span class="hljs-keyword">this</span>.invalid_attr,<span class="hljs-string">""</span>),!<span class="hljs-number">1</span>;<span class="hljs-keyword">return</span>(o||i)&amp;&amp;s.trigger(<span class="hljs-string">"valid"</span>),s.removeAttr(<span class="hljs-keyword">this</span>.invalid_attr),!i},parse_patterns:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=t.length,i=[];e--;)i.push(<span class="hljs-keyword">this</span>.pattern(t[e]));<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.check_validation_and_apply_styles(i)},pattern:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.getAttribute(<span class="hljs-string">"type"</span>),i=<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> t.getAttribute(<span class="hljs-string">"required"</span>),n=t.getAttribute(<span class="hljs-string">"pattern"</span>)||<span class="hljs-string">""</span>;<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.settings.patterns.hasOwnProperty(n)&amp;&amp;n.length&gt;<span class="hljs-number">0</span>?[t,<span class="hljs-keyword">this</span>.settings.patterns[n],i]:n.length&gt;<span class="hljs-number">0</span>?[t,<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(n),i]:<span class="hljs-keyword">this</span>.settings.patterns.hasOwnProperty(e)?[t,<span class="hljs-keyword">this</span>.settings.patterns[e],i]:(n=<span class="hljs-regexp">/.*/</span>,[t,n,i])},check_validation_and_apply_styles:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=e.length,n=[],r=<span class="hljs-keyword">this</span>.S(e[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]).closest(<span class="hljs-string">"[data-"</span>+<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"]"</span>);<span class="hljs-keyword">for</span>(r.data(<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"-init"</span>)||{};i--;){<span class="hljs-keyword">var</span> s,o,a=e[i][<span class="hljs-number">0</span>],l=e[i][<span class="hljs-number">2</span>],c=a.value.trim(),u=<span class="hljs-keyword">this</span>.S(a).parent(),d=a.getAttribute(<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-abide-validator"</span>)),h=<span class="hljs-string">"radio"</span>===a.type,f=<span class="hljs-string">"checkbox"</span>===a.type,p=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">'label[for="'</span>+a.getAttribute(<span class="hljs-string">"id"</span>)+<span class="hljs-string">'"]'</span>),g=!l||a.value.length&gt;<span class="hljs-number">0</span>;a.getAttribute(<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-equalto"</span>))&amp;&amp;(d=<span class="hljs-string">"equalTo"</span>),s=u.is(<span class="hljs-string">"label"</span>)?u.parent():u,h&amp;&amp;l?n.push(<span class="hljs-keyword">this</span>.valid_radio(a,l)):f&amp;&amp;l?n.push(<span class="hljs-keyword">this</span>.valid_checkbox(a,l)):(d&amp;&amp;(o=<span class="hljs-keyword">this</span>.settings.validators[d].apply(<span class="hljs-keyword">this</span>,[a,l,s]),n.push(o)),e[i][<span class="hljs-number">1</span>].test(c)&amp;&amp;g||!l&amp;&amp;a.value.length&lt;<span class="hljs-number">1</span>||t(a).attr(<span class="hljs-string">"disabled"</span>)?n.push(!<span class="hljs-number">0</span>):n.push(!<span class="hljs-number">1</span>),n=[n.every(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t})],n[<span class="hljs-number">0</span>]?(<span class="hljs-keyword">this</span>.S(a).removeAttr(<span class="hljs-keyword">this</span>.invalid_attr),s.removeClass(<span class="hljs-string">"error"</span>),p.length&gt;<span class="hljs-number">0</span>&amp;&amp;<span class="hljs-keyword">this</span>.settings.error_labels&amp;&amp;p.removeClass(<span class="hljs-string">"error"</span>),t(a).triggerHandler(<span class="hljs-string">"valid"</span>)):(s.addClass(<span class="hljs-string">"error"</span>),<span class="hljs-keyword">this</span>.S(a).attr(<span class="hljs-keyword">this</span>.invalid_attr,<span class="hljs-string">""</span>),p.length&gt;<span class="hljs-number">0</span>&amp;&amp;<span class="hljs-keyword">this</span>.settings.error_labels&amp;&amp;p.addClass(<span class="hljs-string">"error"</span>),t(a).triggerHandler(<span class="hljs-string">"invalid"</span>)))}<span class="hljs-keyword">return</span> n},valid_checkbox:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.S(t),i=t.is(<span class="hljs-string">":checked"</span>)||!e;<span class="hljs-keyword">return</span> i?t.removeAttr(<span class="hljs-keyword">this</span>.invalid_attr).parent().removeClass(<span class="hljs-string">"error"</span>):t.attr(<span class="hljs-keyword">this</span>.invalid_attr,<span class="hljs-string">""</span>).parent().addClass(<span class="hljs-string">"error"</span>),i},valid_radio:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=t.getAttribute(<span class="hljs-string">"name"</span>),n=<span class="hljs-keyword">this</span>.S(t).closest(<span class="hljs-string">"[data-"</span>+<span class="hljs-keyword">this</span>.attr_name(!<span class="hljs-number">0</span>)+<span class="hljs-string">"]"</span>).find(<span class="hljs-string">"[name='"</span>+i+<span class="hljs-string">"']"</span>),r=n.length,s=!<span class="hljs-number">1</span>,o=<span class="hljs-number">0</span>;o&lt;r;o++)n[o].checked&amp;&amp;(s=!<span class="hljs-number">0</span>);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o=<span class="hljs-number">0</span>;o&lt;r;o++)s?<span class="hljs-keyword">this</span>.S(n[o]).removeAttr(<span class="hljs-keyword">this</span>.invalid_attr).parent().removeClass(<span class="hljs-string">"error"</span>):<span class="hljs-keyword">this</span>.S(n[o]).attr(<span class="hljs-keyword">this</span>.invalid_attr,<span class="hljs-string">""</span>).parent().addClass(<span class="hljs-string">"error"</span>);<span class="hljs-keyword">return</span> s},valid_equal:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,n</span>)</span>{<span class="hljs-keyword">var</span> r=i.getElementById(t.getAttribute(<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-equalto"</span>))).value,s=t.value,o=r===s;<span class="hljs-keyword">return</span> o?(<span class="hljs-keyword">this</span>.S(t).removeAttr(<span class="hljs-keyword">this</span>.invalid_attr),n.removeClass(<span class="hljs-string">"error"</span>)):(<span class="hljs-keyword">this</span>.S(t).attr(<span class="hljs-keyword">this</span>.invalid_attr,<span class="hljs-string">""</span>),n.addClass(<span class="hljs-string">"error"</span>)),o},valid_oneof:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.S(t),r=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.add_namespace(<span class="hljs-string">"data-oneof"</span>)+<span class="hljs-string">"]"</span>),s=r.filter(<span class="hljs-string">":checked"</span>).length&gt;<span class="hljs-number">0</span>;<span class="hljs-keyword">if</span>(s?t.removeAttr(<span class="hljs-keyword">this</span>.invalid_attr).parent().removeClass(<span class="hljs-string">"error"</span>):t.attr(<span class="hljs-keyword">this</span>.invalid_attr,<span class="hljs-string">""</span>).parent().addClass(<span class="hljs-string">"error"</span>),!n){<span class="hljs-keyword">var</span> o=<span class="hljs-keyword">this</span>;r.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{o.valid_oneof.call(o,<span class="hljs-keyword">this</span>,<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>)})}<span class="hljs-keyword">return</span> s}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-string">"use strict"</span>;Foundation.libs.tooltip={name:<span class="hljs-string">"tooltip"</span>,version:<span class="hljs-string">"5.3.3"</span>,settings:{additional_inheritable_classes:[],tooltip_class:<span class="hljs-string">".tooltip"</span>,append_to:<span class="hljs-string">"body"</span>,touch_close_text:<span class="hljs-string">"Tap To Close"</span>,disable_for_touch:!<span class="hljs-number">1</span>,hover_delay:<span class="hljs-number">200</span>,show_on:<span class="hljs-string">"all"</span>,tip_template:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">'&lt;span data-selector="'</span>+t+<span class="hljs-string">'" class="'</span>+Foundation.libs.tooltip.settings.tooltip_class.substring(<span class="hljs-number">1</span>)+<span class="hljs-string">'"&gt;'</span>+e+<span class="hljs-string">'&lt;span class="nub"&gt;&lt;/span&gt;&lt;/span&gt;'</span>}},cache:{},init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{Foundation.inherit(<span class="hljs-keyword">this</span>,<span class="hljs-string">"random_str"</span>),<span class="hljs-keyword">this</span>.bindings(e,i)},should_show:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t.extend({},<span class="hljs-keyword">this</span>.settings,<span class="hljs-keyword">this</span>.data_options(e));<span class="hljs-keyword">return</span><span class="hljs-string">"all"</span>===n.show_on||(!(!<span class="hljs-keyword">this</span>.small()||<span class="hljs-string">"small"</span>!==n.show_on)||(!(!<span class="hljs-keyword">this</span>.medium()||<span class="hljs-string">"medium"</span>!==n.show_on)||!(!<span class="hljs-keyword">this</span>.large()||<span class="hljs-string">"large"</span>!==n.show_on)))},medium:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> matchMedia(Foundation.media_queries.medium).matches},large:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> matchMedia(Foundation.media_queries.large).matches},events:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>,n=i.S;i.create(<span class="hljs-keyword">this</span>.S(e)),t(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".tooltip"</span>).on(<span class="hljs-string">"mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> r=n(<span class="hljs-keyword">this</span>),s=t.extend({},i.settings,i.data_options(r)),o=!<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(Modernizr.touch&amp;&amp;<span class="hljs-regexp">/touchstart|MSPointerDown/i</span>.test(e.type)&amp;&amp;n(e.target).is(<span class="hljs-string">"a"</span>))<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(<span class="hljs-regexp">/mouse/i</span>.test(e.type)&amp;&amp;i.ie_touch(e))<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(r.hasClass(<span class="hljs-string">"open"</span>))Modernizr.touch&amp;&amp;<span class="hljs-regexp">/touchstart|MSPointerDown/i</span>.test(e.type)&amp;&amp;e.preventDefault(),i.hide(r);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">if</span>(s.disable_for_touch&amp;&amp;Modernizr.touch&amp;&amp;<span class="hljs-regexp">/touchstart|MSPointerDown/i</span>.test(e.type))<span class="hljs-keyword">return</span>;!s.disable_for_touch&amp;&amp;Modernizr.touch&amp;&amp;<span class="hljs-regexp">/touchstart|MSPointerDown/i</span>.test(e.type)&amp;&amp;(e.preventDefault(),n(s.tooltip_class+<span class="hljs-string">".open"</span>).hide(),o=!<span class="hljs-number">0</span>),<span class="hljs-regexp">/enter|over/i</span>.test(e.type)?<span class="hljs-keyword">this</span>.timer=setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{i.showTip(r)}.bind(<span class="hljs-keyword">this</span>),i.settings.hover_delay):<span class="hljs-string">"mouseout"</span>===e.type||<span class="hljs-string">"mouseleave"</span>===e.type?(clearTimeout(<span class="hljs-keyword">this</span>.timer),i.hide(r)):i.showTip(r)}}).on(<span class="hljs-string">"mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"].open"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">return</span>(!<span class="hljs-regexp">/mouse/i</span>.test(e.type)||!i.ie_touch(e))&amp;&amp;<span class="hljs-keyword">void</span>(<span class="hljs-string">"touch"</span>==t(<span class="hljs-keyword">this</span>).data(<span class="hljs-string">"tooltip-open-event-type"</span>)&amp;&amp;<span class="hljs-string">"mouseleave"</span>==e.type||(<span class="hljs-string">"mouse"</span>==t(<span class="hljs-keyword">this</span>).data(<span class="hljs-string">"tooltip-open-event-type"</span>)&amp;&amp;<span class="hljs-regexp">/MSPointerDown|touchstart/i</span>.test(e.type)?i.convert_to_touch(t(<span class="hljs-keyword">this</span>)):i.hide(t(<span class="hljs-keyword">this</span>))))}).on(<span class="hljs-string">"DOMNodeRemoved DOMAttrModified"</span>,<span class="hljs-string">"["</span>+<span class="hljs-keyword">this</span>.attr_name()+<span class="hljs-string">"]:not(a)"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{i.hide(n(<span class="hljs-keyword">this</span>))})},ie_touch:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>},showTip:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.getTip(t);<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.should_show(t,e))<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.show(t)},getTip:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>.selector(e),n=t.extend({},<span class="hljs-keyword">this</span>.settings,<span class="hljs-keyword">this</span>.data_options(e)),r=<span class="hljs-literal">null</span>;<span class="hljs-keyword">return</span> i&amp;&amp;(r=<span class="hljs-keyword">this</span>.S(<span class="hljs-string">'span[data-selector="'</span>+i+<span class="hljs-string">'"]'</span>+n.tooltip_class)),
<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> r&amp;&amp;r},selector:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.attr(<span class="hljs-string">"id"</span>),i=t.attr(<span class="hljs-keyword">this</span>.attr_name())||t.attr(<span class="hljs-string">"data-selector"</span>);<span class="hljs-keyword">return</span>(e&amp;&amp;e.length&lt;<span class="hljs-number">1</span>||!e)&amp;&amp;<span class="hljs-string">"string"</span>!=<span class="hljs-keyword">typeof</span> i&amp;&amp;(i=<span class="hljs-keyword">this</span>.random_str(<span class="hljs-number">6</span>),t.attr(<span class="hljs-string">"data-selector"</span>,i)),e&amp;&amp;e.length&gt;<span class="hljs-number">0</span>?e:i},create:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>)</span>{<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>,r=t.extend({},<span class="hljs-keyword">this</span>.settings,<span class="hljs-keyword">this</span>.data_options(i)),s=<span class="hljs-keyword">this</span>.settings.tip_template;<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> r.tip_template&amp;&amp;e.hasOwnProperty(r.tip_template)&amp;&amp;(s=e[r.tip_template]);<span class="hljs-keyword">var</span> o=t(s(<span class="hljs-keyword">this</span>.selector(i),t(<span class="hljs-string">"&lt;div&gt;&lt;/div&gt;"</span>).html(i.attr(<span class="hljs-string">"title"</span>)).html())),a=<span class="hljs-keyword">this</span>.inheritable_classes(i);o.addClass(a).appendTo(r.append_to),Modernizr.touch&amp;&amp;(o.append(<span class="hljs-string">'&lt;span class="tap-to-close"&gt;'</span>+r.touch_close_text+<span class="hljs-string">"&lt;/span&gt;"</span>),o.on(<span class="hljs-string">"touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{n.hide(i)})),i.removeAttr(<span class="hljs-string">"title"</span>).attr(<span class="hljs-string">"title"</span>,<span class="hljs-string">""</span>)},reposition:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r,s,o,a,l;<span class="hljs-keyword">if</span>(i.css(<span class="hljs-string">"visibility"</span>,<span class="hljs-string">"hidden"</span>).show(),r=e.data(<span class="hljs-string">"width"</span>),s=i.children(<span class="hljs-string">".nub"</span>),o=s.outerHeight(),a=s.outerHeight(),<span class="hljs-keyword">this</span>.small()?i.css({width:<span class="hljs-string">"100%"</span>}):i.css({width:r?r:<span class="hljs-string">"auto"</span>}),(l=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i,n,r,s</span>)</span>{<span class="hljs-keyword">return</span> t.css({top:e?e:<span class="hljs-string">"auto"</span>,bottom:n?n:<span class="hljs-string">"auto"</span>,left:r?r:<span class="hljs-string">"auto"</span>,right:i?i:<span class="hljs-string">"auto"</span>}).end()})(i,e.offset().top+e.outerHeight()+<span class="hljs-number">10</span>,<span class="hljs-string">"auto"</span>,<span class="hljs-string">"auto"</span>,e.offset().left),<span class="hljs-keyword">this</span>.small())l(i,e.offset().top+e.outerHeight()+<span class="hljs-number">10</span>,<span class="hljs-string">"auto"</span>,<span class="hljs-string">"auto"</span>,<span class="hljs-number">12.5</span>,t(<span class="hljs-keyword">this</span>.scope).width()),i.addClass(<span class="hljs-string">"tip-override"</span>),l(s,-o,<span class="hljs-string">"auto"</span>,<span class="hljs-string">"auto"</span>,e.offset().left);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> c=e.offset().left;Foundation.rtl&amp;&amp;(s.addClass(<span class="hljs-string">"rtl"</span>),c=e.offset().left+e.outerWidth()-i.outerWidth()),l(i,e.offset().top+e.outerHeight()+<span class="hljs-number">10</span>,<span class="hljs-string">"auto"</span>,<span class="hljs-string">"auto"</span>,c),i.removeClass(<span class="hljs-string">"tip-override"</span>),n&amp;&amp;n.indexOf(<span class="hljs-string">"tip-top"</span>)&gt;-<span class="hljs-number">1</span>?(Foundation.rtl&amp;&amp;s.addClass(<span class="hljs-string">"rtl"</span>),l(i,e.offset().top-i.outerHeight(),<span class="hljs-string">"auto"</span>,<span class="hljs-string">"auto"</span>,c).removeClass(<span class="hljs-string">"tip-override"</span>)):n&amp;&amp;n.indexOf(<span class="hljs-string">"tip-left"</span>)&gt;-<span class="hljs-number">1</span>?(l(i,e.offset().top+e.outerHeight()/<span class="hljs-number">2</span>-i.outerHeight()/<span class="hljs-number">2</span>,<span class="hljs-string">"auto"</span>,<span class="hljs-string">"auto"</span>,e.offset().left-i.outerWidth()-o).removeClass(<span class="hljs-string">"tip-override"</span>),s.removeClass(<span class="hljs-string">"rtl"</span>)):n&amp;&amp;n.indexOf(<span class="hljs-string">"tip-right"</span>)&gt;-<span class="hljs-number">1</span>&amp;&amp;(l(i,e.offset().top+e.outerHeight()/<span class="hljs-number">2</span>-i.outerHeight()/<span class="hljs-number">2</span>,<span class="hljs-string">"auto"</span>,<span class="hljs-string">"auto"</span>,e.offset().left+e.outerWidth()+o).removeClass(<span class="hljs-string">"tip-override"</span>),s.removeClass(<span class="hljs-string">"rtl"</span>))}i.css(<span class="hljs-string">"visibility"</span>,<span class="hljs-string">"visible"</span>).hide()},small:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> matchMedia(Foundation.media_queries.small).matches&amp;&amp;!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=t.extend({},<span class="hljs-keyword">this</span>.settings,<span class="hljs-keyword">this</span>.data_options(e)),n=[<span class="hljs-string">"tip-top"</span>,<span class="hljs-string">"tip-left"</span>,<span class="hljs-string">"tip-bottom"</span>,<span class="hljs-string">"tip-right"</span>,<span class="hljs-string">"radius"</span>,<span class="hljs-string">"round"</span>].concat(i.additional_inheritable_classes),r=e.attr(<span class="hljs-string">"class"</span>),s=r?t.map(r.split(<span class="hljs-string">" "</span>),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">if</span>(t.inArray(e,n)!==-<span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> e}).join(<span class="hljs-string">" "</span>):<span class="hljs-string">""</span>;<span class="hljs-keyword">return</span> t.trim(s)},convert_to_touch:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>,n=i.getTip(e),r=t.extend({},i.settings,i.data_options(e));<span class="hljs-number">0</span>===n.find(<span class="hljs-string">".tap-to-close"</span>).length&amp;&amp;(n.append(<span class="hljs-string">'&lt;span class="tap-to-close"&gt;'</span>+r.touch_close_text+<span class="hljs-string">"&lt;/span&gt;"</span>),n.on(<span class="hljs-string">"click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{i.hide(e)})),e.data(<span class="hljs-string">"tooltip-open-event-type"</span>,<span class="hljs-string">"touch"</span>)},show:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.getTip(t);<span class="hljs-string">"touch"</span>==t.data(<span class="hljs-string">"tooltip-open-event-type"</span>)&amp;&amp;<span class="hljs-keyword">this</span>.convert_to_touch(t),<span class="hljs-keyword">this</span>.reposition(t,e,t.attr(<span class="hljs-string">"class"</span>)),t.addClass(<span class="hljs-string">"open"</span>),e.fadeIn(<span class="hljs-number">150</span>)},hide:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.getTip(t);e.fadeOut(<span class="hljs-number">150</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{e.find(<span class="hljs-string">".tap-to-close"</span>).remove(),e.off(<span class="hljs-string">"click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"</span>),t.removeClass(<span class="hljs-string">"open"</span>)})},off:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">this</span>.S(<span class="hljs-keyword">this</span>.scope).off(<span class="hljs-string">".fndtn.tooltip"</span>),<span class="hljs-keyword">this</span>.S(<span class="hljs-keyword">this</span>.settings.tooltip_class).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>)</span>{t(<span class="hljs-string">"["</span>+e.attr_name()+<span class="hljs-string">"]"</span>).eq(i).attr(<span class="hljs-string">"title"</span>,t(<span class="hljs-keyword">this</span>).text())}).remove()},reflow:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}}}(t,<span class="hljs-built_in">window</span>,<span class="hljs-built_in">window</span>.document)}).call(e,i(<span class="hljs-number">1</span>))},<span class="hljs-number">8</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{!<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{t.exports=e()}(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-string">"use strict"</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">t</span>(<span class="hljs-params">i,n</span>)</span>{<span class="hljs-keyword">if</span>(!(<span class="hljs-keyword">this</span> <span class="hljs-keyword">instanceof</span> t))<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> t(i,n);<span class="hljs-keyword">this</span>.options=n=n?Er(n):{},Er(Qs,n,!<span class="hljs-number">1</span>),f(n);<span class="hljs-keyword">var</span> r=n.value;<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> r&amp;&amp;(r=<span class="hljs-keyword">new</span> So(r,n.mode,<span class="hljs-literal">null</span>,n.lineSeparator)),<span class="hljs-keyword">this</span>.doc=r;<span class="hljs-keyword">var</span> s=<span class="hljs-keyword">new</span> t.inputStyles[n.inputStyle](<span class="hljs-keyword">this</span>),o=<span class="hljs-keyword">this</span>.display=<span class="hljs-keyword">new</span> e(i,r,s);o.wrapper.CodeMirror=<span class="hljs-keyword">this</span>,c(<span class="hljs-keyword">this</span>),a(<span class="hljs-keyword">this</span>),n.lineWrapping&amp;&amp;(<span class="hljs-keyword">this</span>.display.wrapper.className+=<span class="hljs-string">" CodeMirror-wrap"</span>),n.autofocus&amp;&amp;!Ms&amp;&amp;o.input.focus(),v(<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.state={keyMaps:[],overlays:[],modeGen:<span class="hljs-number">0</span>,overwrite:!<span class="hljs-number">1</span>,delayingBlurEvent:!<span class="hljs-number">1</span>,focused:!<span class="hljs-number">1</span>,suppressEdits:!<span class="hljs-number">1</span>,pasteIncoming:!<span class="hljs-number">1</span>,cutIncoming:!<span class="hljs-number">1</span>,selectingText:!<span class="hljs-number">1</span>,draggingText:!<span class="hljs-number">1</span>,highlight:<span class="hljs-keyword">new</span> Ar,keySeq:<span class="hljs-literal">null</span>,specialChars:<span class="hljs-literal">null</span>};<span class="hljs-keyword">var</span> l=<span class="hljs-keyword">this</span>;bs&amp;&amp;ys&lt;<span class="hljs-number">11</span>&amp;&amp;setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{l.display.input.reset(!<span class="hljs-number">0</span>)},<span class="hljs-number">20</span>),Re(<span class="hljs-keyword">this</span>),Kr(),_e(<span class="hljs-keyword">this</span>),<span class="hljs-keyword">this</span>.curOp.forceUpdate=!<span class="hljs-number">0</span>,Xn(<span class="hljs-keyword">this</span>,r),n.autofocus&amp;&amp;!Ms||l.hasFocus()?setTimeout(Pr(mi,<span class="hljs-keyword">this</span>),<span class="hljs-number">20</span>):vi(<span class="hljs-keyword">this</span>);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> u <span class="hljs-keyword">in</span> to)to.hasOwnProperty(u)&amp;&amp;to[u](<span class="hljs-keyword">this</span>,n[u],eo);w(<span class="hljs-keyword">this</span>),n.finishInit&amp;&amp;n.finishInit(<span class="hljs-keyword">this</span>);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d=<span class="hljs-number">0</span>;d&lt;so.length;++d)so[d](<span class="hljs-keyword">this</span>);we(<span class="hljs-keyword">this</span>),_s&amp;&amp;n.lineWrapping&amp;&amp;<span class="hljs-string">"optimizelegibility"</span>==getComputedStyle(o.lineDiv).textRendering&amp;&amp;(o.lineDiv.style.textRendering=<span class="hljs-string">"auto"</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">this</span>.input=i,n.scrollbarFiller=Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"CodeMirror-scrollbar-filler"</span>),n.scrollbarFiller.setAttribute(<span class="hljs-string">"cm-not-content"</span>,<span class="hljs-string">"true"</span>),n.gutterFiller=Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"CodeMirror-gutter-filler"</span>),n.gutterFiller.setAttribute(<span class="hljs-string">"cm-not-content"</span>,<span class="hljs-string">"true"</span>),n.lineDiv=Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"CodeMirror-code"</span>),n.selectionDiv=Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"position: relative; z-index: 1"</span>),n.cursorDiv=Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"CodeMirror-cursors"</span>),n.measure=Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"CodeMirror-measure"</span>),n.lineMeasure=Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"CodeMirror-measure"</span>),n.lineSpace=Rr(<span class="hljs-string">"div"</span>,[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],<span class="hljs-literal">null</span>,<span class="hljs-string">"position: relative; outline: none"</span>),n.mover=Rr(<span class="hljs-string">"div"</span>,[Rr(<span class="hljs-string">"div"</span>,[n.lineSpace],<span class="hljs-string">"CodeMirror-lines"</span>)],<span class="hljs-literal">null</span>,<span class="hljs-string">"position: relative"</span>),n.sizer=Rr(<span class="hljs-string">"div"</span>,[n.mover],<span class="hljs-string">"CodeMirror-sizer"</span>),n.sizerWidth=<span class="hljs-literal">null</span>,n.heightForcer=Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"position: absolute; height: "</span>+Ho+<span class="hljs-string">"px; width: 1px;"</span>),n.gutters=Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"CodeMirror-gutters"</span>),n.lineGutter=<span class="hljs-literal">null</span>,n.scroller=Rr(<span class="hljs-string">"div"</span>,[n.sizer,n.heightForcer,n.gutters],<span class="hljs-string">"CodeMirror-scroll"</span>),n.scroller.setAttribute(<span class="hljs-string">"tabIndex"</span>,<span class="hljs-string">"-1"</span>),n.wrapper=Rr(<span class="hljs-string">"div"</span>,[n.scrollbarFiller,n.gutterFiller,n.scroller],<span class="hljs-string">"CodeMirror"</span>),bs&amp;&amp;ys&lt;<span class="hljs-number">8</span>&amp;&amp;(n.gutters.style.zIndex=-<span class="hljs-number">1</span>,n.scroller.style.paddingRight=<span class="hljs-number">0</span>),_s||gs&amp;&amp;Ms||(n.scroller.draggable=!<span class="hljs-number">0</span>),t&amp;&amp;(t.appendChild?t.appendChild(n.wrapper):t(n.wrapper)),n.viewFrom=n.viewTo=e.first,n.reportedViewFrom=n.reportedViewTo=e.first,n.view=[],n.renderedView=<span class="hljs-literal">null</span>,n.externalMeasured=<span class="hljs-literal">null</span>,n.viewOffset=<span class="hljs-number">0</span>,n.lastWrapHeight=n.lastWrapWidth=<span class="hljs-number">0</span>,n.updateLineNumbers=<span class="hljs-literal">null</span>,n.nativeBarWidth=n.barHeight=n.barWidth=<span class="hljs-number">0</span>,n.scrollbarsClipped=!<span class="hljs-number">1</span>,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=<span class="hljs-literal">null</span>,n.alignWidgets=!<span class="hljs-number">1</span>,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=<span class="hljs-literal">null</span>,n.maxLine=<span class="hljs-literal">null</span>,n.maxLineLength=<span class="hljs-number">0</span>,n.maxLineChanged=!<span class="hljs-number">1</span>,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=<span class="hljs-literal">null</span>,n.shift=!<span class="hljs-number">1</span>,n.selForContextMenu=<span class="hljs-literal">null</span>,n.activeTouch=<span class="hljs-literal">null</span>,i.init(n)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params">e</span>)</span>{e.doc.mode=t.getMode(e.options,e.doc.modeOption),n(e)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params">t</span>)</span>{t.doc.iter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{t.stateAfter&amp;&amp;(t.stateAfter=<span class="hljs-literal">null</span>),t.styles&amp;&amp;(t.styles=<span class="hljs-literal">null</span>)}),t.doc.frontier=t.doc.first,It(t,<span class="hljs-number">100</span>),t.state.modeGen++,t.curOp&amp;&amp;He(t)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">t</span>)</span>{t.options.lineWrapping?(Jo(t.display.wrapper,<span class="hljs-string">"CodeMirror-wrap"</span>),t.display.sizer.style.minWidth=<span class="hljs-string">""</span>,t.display.sizerWidth=<span class="hljs-literal">null</span>):(Yo(t.display.wrapper,<span class="hljs-string">"CodeMirror-wrap"</span>),h(t)),o(t),He(t),ae(t),setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{b(t)},<span class="hljs-number">100</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=be(t.display),i=t.options.lineWrapping,n=i&amp;&amp;<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">5</span>,t.display.scroller.clientWidth/ye(t.display)-<span class="hljs-number">3</span>);<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>)</span>{<span class="hljs-keyword">if</span>(wn(t.doc,r))<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<span class="hljs-keyword">var</span> s=<span class="hljs-number">0</span>;<span class="hljs-keyword">if</span>(r.widgets)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o=<span class="hljs-number">0</span>;o&lt;r.widgets.length;o++)r.widgets[o].height&amp;&amp;(s+=r.widgets[o].height);<span class="hljs-keyword">return</span> i?s+(<span class="hljs-built_in">Math</span>.ceil(r.text.length/n)||<span class="hljs-number">1</span>)*e:s+e}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.doc,i=s(t);e.iter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=i(t);e!=t.height&amp;&amp;tr(t,e)})}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">t</span>)</span>{t.display.wrapper.className=t.display.wrapper.className.replace(<span class="hljs-regexp">/\s*cm-s-\S+/g</span>,<span class="hljs-string">""</span>)+t.options.theme.replace(<span class="hljs-regexp">/(^|\s)\s*/g</span>,<span class="hljs-string">" cm-s-"</span>),ae(t)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">l</span>(<span class="hljs-params">t</span>)</span>{c(t),He(t),setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{x(t)},<span class="hljs-number">20</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.display.gutters,i=t.options.gutters;Br(e);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">0</span>;n&lt;i.length;++n){<span class="hljs-keyword">var</span> r=i[n],s=e.appendChild(Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"CodeMirror-gutter "</span>+r));<span class="hljs-string">"CodeMirror-linenumbers"</span>==r&amp;&amp;(t.display.lineGutter=s,s.style.width=(t.display.lineNumWidth||<span class="hljs-number">1</span>)+<span class="hljs-string">"px"</span>)}e.style.display=n?<span class="hljs-string">""</span>:<span class="hljs-string">"none"</span>,u(t)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">u</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+<span class="hljs-string">"px"</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-number">0</span>==t.height)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e,i=t.text.length,n=t;e=gn(n);){<span class="hljs-keyword">var</span> r=e.find(<span class="hljs-number">0</span>,!<span class="hljs-number">0</span>);n=r.from.line,i+=r.from.ch-r.to.ch}<span class="hljs-keyword">for</span>(n=t;e=mn(n);){<span class="hljs-keyword">var</span> r=e.find(<span class="hljs-number">0</span>,!<span class="hljs-number">0</span>);i-=n.text.length-r.from.ch,n=r.to.line,i+=n.text.length-r.to.ch}<span class="hljs-keyword">return</span> i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">h</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.display,i=t.doc;e.maxLine=Yn(i,i.first),e.maxLineLength=d(e.maxLine),e.maxLineChanged=!<span class="hljs-number">0</span>,i.iter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> i=d(t);i&gt;e.maxLineLength&amp;&amp;(e.maxLineLength=i,e.maxLine=t)})}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=Nr(t.gutters,<span class="hljs-string">"CodeMirror-linenumbers"</span>);e==-<span class="hljs-number">1</span>&amp;&amp;t.lineNumbers?t.gutters=t.gutters.concat([<span class="hljs-string">"CodeMirror-linenumbers"</span>]):e&gt;-<span class="hljs-number">1</span>&amp;&amp;!t.lineNumbers&amp;&amp;(t.gutters=t.gutters.slice(<span class="hljs-number">0</span>),t.gutters.splice(e,<span class="hljs-number">1</span>))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">p</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.display,i=e.gutters.offsetWidth,n=<span class="hljs-built_in">Math</span>.round(t.doc.height+qt(t.display));<span class="hljs-keyword">return</span>{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:<span class="hljs-number">0</span>,docHeight:n,scrollHeight:n+Ut(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">this</span>.cm=i;<span class="hljs-keyword">var</span> n=<span class="hljs-keyword">this</span>.vert=Rr(<span class="hljs-string">"div"</span>,[Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"min-width: 1px"</span>)],<span class="hljs-string">"CodeMirror-vscrollbar"</span>),r=<span class="hljs-keyword">this</span>.horiz=Rr(<span class="hljs-string">"div"</span>,[Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"height: 100%; min-height: 1px"</span>)],<span class="hljs-string">"CodeMirror-hscrollbar"</span>);t(n),t(r),Ao(n,<span class="hljs-string">"scroll"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{n.clientHeight&amp;&amp;e(n.scrollTop,<span class="hljs-string">"vertical"</span>)}),Ao(r,<span class="hljs-string">"scroll"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{r.clientWidth&amp;&amp;e(r.scrollLeft,<span class="hljs-string">"horizontal"</span>)}),<span class="hljs-keyword">this</span>.checkedZeroWidth=!<span class="hljs-number">1</span>,bs&amp;&amp;ys&lt;<span class="hljs-number">8</span>&amp;&amp;(<span class="hljs-keyword">this</span>.horiz.style.minHeight=<span class="hljs-keyword">this</span>.vert.style.minWidth=<span class="hljs-string">"18px"</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">m</span>(<span class="hljs-params"></span>)</span>{}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">v</span>(<span class="hljs-params">e</span>)</span>{e.display.scrollbars&amp;&amp;(e.display.scrollbars.clear(),e.display.scrollbars.addClass&amp;&amp;Yo(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=<span class="hljs-keyword">new</span> t.scrollbarModel[e.options.scrollbarStyle](<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Ao(t,<span class="hljs-string">"mousedown"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{e.state.focused&amp;&amp;setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{e.display.input.focus()},<span class="hljs-number">0</span>)}),t.setAttribute(<span class="hljs-string">"cm-not-content"</span>,<span class="hljs-string">"true"</span>)},<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,i</span>)</span>{<span class="hljs-string">"horizontal"</span>==i?ri(e,t):ni(e,t)},e),e.display.scrollbars.addClass&amp;&amp;Jo(e.display.wrapper,e.display.scrollbars.addClass)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params">t,e</span>)</span>{e||(e=p(t));<span class="hljs-keyword">var</span> i=t.display.barWidth,n=t.display.barHeight;y(t,e);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=<span class="hljs-number">0</span>;r&lt;<span class="hljs-number">4</span>&amp;&amp;i!=t.display.barWidth||n!=t.display.barHeight;r++)i!=t.display.barWidth&amp;&amp;t.options.lineWrapping&amp;&amp;D(t),y(t,p(t)),i=t.display.barWidth,n=t.display.barHeight}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">y</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+<span class="hljs-string">"px"</span>,i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+<span class="hljs-string">"px"</span>,i.heightForcer.style.borderBottom=n.bottom+<span class="hljs-string">"px solid transparent"</span>,n.right&amp;&amp;n.bottom?(i.scrollbarFiller.style.display=<span class="hljs-string">"block"</span>,i.scrollbarFiller.style.height=n.bottom+<span class="hljs-string">"px"</span>,i.scrollbarFiller.style.width=n.right+<span class="hljs-string">"px"</span>):i.scrollbarFiller.style.display=<span class="hljs-string">""</span>,n.bottom&amp;&amp;t.options.coverGutterNextToScrollbar&amp;&amp;t.options.fixedGutter?(i.gutterFiller.style.display=<span class="hljs-string">"block"</span>,i.gutterFiller.style.height=n.bottom+<span class="hljs-string">"px"</span>,i.gutterFiller.style.width=e.gutterWidth+<span class="hljs-string">"px"</span>):i.gutterFiller.style.display=<span class="hljs-string">""</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=i&amp;&amp;<span class="hljs-literal">null</span>!=i.top?<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,i.top):t.scroller.scrollTop;n=<span class="hljs-built_in">Math</span>.floor(n-Bt(t));<span class="hljs-keyword">var</span> r=i&amp;&amp;<span class="hljs-literal">null</span>!=i.bottom?i.bottom:n+t.wrapper.clientHeight,s=ir(e,n),o=ir(e,r);<span class="hljs-keyword">if</span>(i&amp;&amp;i.ensure){<span class="hljs-keyword">var</span> a=i.ensure.from.line,l=i.ensure.to.line;a&lt;s?(s=a,o=ir(e,nr(Yn(e,a))+t.wrapper.clientHeight)):<span class="hljs-built_in">Math</span>.min(l,e.lastLine())&gt;=o&amp;&amp;(s=ir(e,nr(Yn(e,l))-t.wrapper.clientHeight),o=l)}<span class="hljs-keyword">return</span>{from:s,to:<span class="hljs-built_in">Math</span>.max(o,s+<span class="hljs-number">1</span>)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">x</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.display,i=e.view;<span class="hljs-keyword">if</span>(e.alignWidgets||e.gutters.firstChild&amp;&amp;t.options.fixedGutter){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=S(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,s=n+<span class="hljs-string">"px"</span>,o=<span class="hljs-number">0</span>;o&lt;i.length;o++)<span class="hljs-keyword">if</span>(!i[o].hidden){t.options.fixedGutter&amp;&amp;i[o].gutter&amp;&amp;(i[o].gutter.style.left=s);<span class="hljs-keyword">var</span> a=i[o].alignable;<span class="hljs-keyword">if</span>(a)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> l=<span class="hljs-number">0</span>;l&lt;a.length;l++)a[l].style.left=s}t.options.fixedGutter&amp;&amp;(e.gutters.style.left=n+r+<span class="hljs-string">"px"</span>)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">w</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(!t.options.lineNumbers)<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">var</span> e=t.doc,i=C(t.options,e.first+e.size-<span class="hljs-number">1</span>),n=t.display;<span class="hljs-keyword">if</span>(i.length!=n.lineNumChars){<span class="hljs-keyword">var</span> r=n.measure.appendChild(Rr(<span class="hljs-string">"div"</span>,[Rr(<span class="hljs-string">"div"</span>,i)],<span class="hljs-string">"CodeMirror-linenumber CodeMirror-gutter-elt"</span>)),s=r.firstChild.offsetWidth,o=r.offsetWidth-s;<span class="hljs-keyword">return</span> n.lineGutter.style.width=<span class="hljs-string">""</span>,n.lineNumInnerWidth=<span class="hljs-built_in">Math</span>.max(s,n.lineGutter.offsetWidth-o)+<span class="hljs-number">1</span>,n.lineNumWidth=n.lineNumInnerWidth+o,n.lineNumChars=n.lineNumInnerWidth?i.length:-<span class="hljs-number">1</span>,n.lineGutter.style.width=n.lineNumWidth+<span class="hljs-string">"px"</span>,u(t),!<span class="hljs-number">0</span>}<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">C</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>(t.lineNumberFormatter(e+t.firstLineNumber))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">S</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">k</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t.display;<span class="hljs-keyword">this</span>.viewport=e,<span class="hljs-keyword">this</span>.visible=_(n,t.doc,e),<span class="hljs-keyword">this</span>.editorIsHidden=!n.wrapper.offsetWidth,<span class="hljs-keyword">this</span>.wrapperHeight=n.wrapper.clientHeight,<span class="hljs-keyword">this</span>.wrapperWidth=n.wrapper.clientWidth,<span class="hljs-keyword">this</span>.oldDisplayWidth=Vt(t),<span class="hljs-keyword">this</span>.force=i,<span class="hljs-keyword">this</span>.dims=N(t),<span class="hljs-keyword">this</span>.events=[]}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">T</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.display;!e.scrollbarsClipped&amp;&amp;e.scroller.offsetWidth&amp;&amp;(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Ut(t)+<span class="hljs-string">"px"</span>,e.sizer.style.marginBottom=-e.nativeBarWidth+<span class="hljs-string">"px"</span>,e.sizer.style.borderRightWidth=Ut(t)+<span class="hljs-string">"px"</span>,e.scrollbarsClipped=!<span class="hljs-number">0</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">L</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=t.display,n=t.doc;<span class="hljs-keyword">if</span>(e.editorIsHidden)<span class="hljs-keyword">return</span> Ee(t),!<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(!e.force&amp;&amp;e.visible.from&gt;=i.viewFrom&amp;&amp;e.visible.to&lt;=i.viewTo&amp;&amp;(<span class="hljs-literal">null</span>==i.updateLineNumbers||i.updateLineNumbers&gt;=i.viewTo)&amp;&amp;i.renderedView==i.view&amp;&amp;<span class="hljs-number">0</span>==je(t))<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;w(t)&amp;&amp;(Ee(t),e.dims=N(t));<span class="hljs-keyword">var</span> r=n.first+n.size,s=<span class="hljs-built_in">Math</span>.max(e.visible.from-t.options.viewportMargin,n.first),o=<span class="hljs-built_in">Math</span>.min(r,e.visible.to+t.options.viewportMargin);i.viewFrom&lt;s&amp;&amp;s-i.viewFrom&lt;<span class="hljs-number">20</span>&amp;&amp;(s=<span class="hljs-built_in">Math</span>.max(n.first,i.viewFrom)),i.viewTo&gt;o&amp;&amp;i.viewTo-o&lt;<span class="hljs-number">20</span>&amp;&amp;(o=<span class="hljs-built_in">Math</span>.min(r,i.viewTo)),zs&amp;&amp;(s=_n(t.doc,s),o=xn(t.doc,o));<span class="hljs-keyword">var</span> a=s!=i.viewFrom||o!=i.viewTo||i.lastWrapHeight!=e.wrapperHeight||i.lastWrapWidth!=e.wrapperWidth;$e(t,s,o),i.viewOffset=nr(Yn(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+<span class="hljs-string">"px"</span>;<span class="hljs-keyword">var</span> l=je(t);<span class="hljs-keyword">if</span>(!a&amp;&amp;<span class="hljs-number">0</span>==l&amp;&amp;!e.force&amp;&amp;i.renderedView==i.view&amp;&amp;(<span class="hljs-literal">null</span>==i.updateLineNumbers||i.updateLineNumbers&gt;=i.viewTo))<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">var</span> c=Gr();<span class="hljs-keyword">return</span> l&gt;<span class="hljs-number">4</span>&amp;&amp;(i.lineDiv.style.display=<span class="hljs-string">"none"</span>),W(t,i.updateLineNumbers,e.dims),l&gt;<span class="hljs-number">4</span>&amp;&amp;(i.lineDiv.style.display=<span class="hljs-string">""</span>),i.renderedView=i.view,c&amp;&amp;Gr()!=c&amp;&amp;c.offsetHeight&amp;&amp;c.focus(),Br(i.cursorDiv),Br(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=<span class="hljs-number">0</span>,a&amp;&amp;(i.lastWrapHeight=e.wrapperHeight,i.lastWrapWidth=e.wrapperWidth,It(t,<span class="hljs-number">400</span>)),i.updateLineNumbers=<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">M</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=e.viewport,n=!<span class="hljs-number">0</span>;(n&amp;&amp;t.options.lineWrapping&amp;&amp;e.oldDisplayWidth!=Vt(t)||(i&amp;&amp;<span class="hljs-literal">null</span>!=i.top&amp;&amp;(i={top:<span class="hljs-built_in">Math</span>.min(t.doc.height+qt(t.display)-Zt(t),i.top)}),e.visible=_(t.display,t.doc,i),!(e.visible.from&gt;=t.display.viewFrom&amp;&amp;e.visible.to&lt;=t.display.viewTo)))&amp;&amp;L(t,e);n=!<span class="hljs-number">1</span>){D(t);<span class="hljs-keyword">var</span> r=p(t);Wt(t),b(t,r),A(t,r)}e.signal(t,<span class="hljs-string">"update"</span>,t),t.display.viewFrom==t.display.reportedViewFrom&amp;&amp;t.display.viewTo==t.display.reportedViewTo||(e.signal(t,<span class="hljs-string">"viewportChange"</span>,t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">F</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">new</span> k(t,e);<span class="hljs-keyword">if</span>(L(t,i)){D(t),M(t,i);<span class="hljs-keyword">var</span> n=p(t);Wt(t),b(t,n),A(t,n),i.finish()}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">A</span>(<span class="hljs-params">t,e</span>)</span>{t.display.sizer.style.minHeight=e.docHeight+<span class="hljs-string">"px"</span>,t.display.heightForcer.style.top=e.docHeight+<span class="hljs-string">"px"</span>,t.display.gutters.style.height=e.docHeight+t.display.barHeight+Ut(t)+<span class="hljs-string">"px"</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">D</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=t.display,i=e.lineDiv.offsetTop,n=<span class="hljs-number">0</span>;n&lt;e.view.length;n++){<span class="hljs-keyword">var</span> r,s=e.view[n];<span class="hljs-keyword">if</span>(!s.hidden){<span class="hljs-keyword">if</span>(bs&amp;&amp;ys&lt;<span class="hljs-number">8</span>){<span class="hljs-keyword">var</span> o=s.node.offsetTop+s.node.offsetHeight;r=o-i,i=o}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> a=s.node.getBoundingClientRect();r=a.bottom-a.top}<span class="hljs-keyword">var</span> l=s.line.height-r;<span class="hljs-keyword">if</span>(r&lt;<span class="hljs-number">2</span>&amp;&amp;(r=be(e)),(l&gt;<span class="hljs-number">.001</span>||l&lt;-<span class="hljs-number">.001</span>)&amp;&amp;(tr(s.line,r),O(s.line),s.rest))<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=<span class="hljs-number">0</span>;c&lt;s.rest.length;c++)O(s.rest[c])}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">O</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(t.widgets)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>;e&lt;t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">N</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=t.display,i={},n={},r=e.gutters.clientLeft,s=e.gutters.firstChild,o=<span class="hljs-number">0</span>;s;s=s.nextSibling,++o)i[t.options.gutters[o]]=s.offsetLeft+s.clientLeft+r,n[t.options.gutters[o]]=s.clientWidth;<span class="hljs-keyword">return</span>{fixedPos:S(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">W</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=e.nextSibling;<span class="hljs-keyword">return</span> _s&amp;&amp;Fs&amp;&amp;t.display.currentWheelTarget==e?e.style.display=<span class="hljs-string">"none"</span>:e.parentNode.removeChild(e),i}<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=t.display,s=t.options.lineNumbers,o=r.lineDiv,a=o.firstChild,l=r.view,c=r.viewFrom,u=<span class="hljs-number">0</span>;u&lt;l.length;u++){<span class="hljs-keyword">var</span> d=l[u];<span class="hljs-keyword">if</span>(d.hidden);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(d.node&amp;&amp;d.node.parentNode==o){<span class="hljs-keyword">for</span>(;a!=d.node;)a=n(a);<span class="hljs-keyword">var</span> h=s&amp;&amp;<span class="hljs-literal">null</span>!=e&amp;&amp;e&lt;=c&amp;&amp;d.lineNumber;d.changes&amp;&amp;(Nr(d.changes,<span class="hljs-string">"gutter"</span>)&gt;-<span class="hljs-number">1</span>&amp;&amp;(h=!<span class="hljs-number">1</span>),H(t,d,c,i)),h&amp;&amp;(Br(d.lineNumber),d.lineNumber.appendChild(<span class="hljs-built_in">document</span>.createTextNode(C(t.options,c)))),a=d.node.nextSibling}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> f=B(t,d,c,i);o.insertBefore(f,a)}c+=d.size}<span class="hljs-keyword">for</span>(;a;)a=n(a)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">H</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=<span class="hljs-number">0</span>;r&lt;e.changes.length;r++){<span class="hljs-keyword">var</span> s=e.changes[r];<span class="hljs-string">"text"</span>==s?I(t,e):<span class="hljs-string">"gutter"</span>==s?j(t,e,i,n):<span class="hljs-string">"class"</span>==s?$(e):<span class="hljs-string">"widget"</span>==s&amp;&amp;R(t,e,n)}e.changes=<span class="hljs-literal">null</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">z</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.node==t.text&amp;&amp;(t.node=Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"position: relative"</span>),t.text.parentNode&amp;&amp;t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),bs&amp;&amp;ys&lt;<span class="hljs-number">8</span>&amp;&amp;(t.node.style.zIndex=<span class="hljs-number">2</span>)),t.node}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">E</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.bgClass?t.bgClass+<span class="hljs-string">" "</span>+(t.line.bgClass||<span class="hljs-string">""</span>):t.line.bgClass;<span class="hljs-keyword">if</span>(e&amp;&amp;(e+=<span class="hljs-string">" CodeMirror-linebackground"</span>),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=<span class="hljs-literal">null</span>);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e){<span class="hljs-keyword">var</span> i=z(t);t.background=i.insertBefore(Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,e),i.firstChild)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">P</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=t.display.externalMeasured;<span class="hljs-keyword">return</span> i&amp;&amp;i.line==e.line?(t.display.externalMeasured=<span class="hljs-literal">null</span>,e.measure=i.measure,i.built):Pn(t,e)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">I</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=e.text.className,n=P(t,e);e.text==e.node&amp;&amp;(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,$(e)):i&amp;&amp;(e.text.className=i)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">$</span>(<span class="hljs-params">t</span>)</span>{E(t),t.line.wrapClass?z(t).className=t.line.wrapClass:t.node!=t.text&amp;&amp;(t.node.className=<span class="hljs-string">""</span>);<span class="hljs-keyword">var</span> e=t.textClass?t.textClass+<span class="hljs-string">" "</span>+(t.line.textClass||<span class="hljs-string">""</span>):t.line.textClass;t.text.className=e||<span class="hljs-string">""</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">j</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">if</span>(e.gutter&amp;&amp;(e.node.removeChild(e.gutter),e.gutter=<span class="hljs-literal">null</span>),e.gutterBackground&amp;&amp;(e.node.removeChild(e.gutterBackground),e.gutterBackground=<span class="hljs-literal">null</span>),e.line.gutterClass){<span class="hljs-keyword">var</span> r=z(e);e.gutterBackground=Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"CodeMirror-gutter-background "</span>+e.line.gutterClass,<span class="hljs-string">"left: "</span>+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+<span class="hljs-string">"px; width: "</span>+n.gutterTotalWidth+<span class="hljs-string">"px"</span>),r.insertBefore(e.gutterBackground,e.text)}<span class="hljs-keyword">var</span> s=e.line.gutterMarkers;<span class="hljs-keyword">if</span>(t.options.lineNumbers||s){<span class="hljs-keyword">var</span> r=z(e),o=e.gutter=Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"CodeMirror-gutter-wrapper"</span>,<span class="hljs-string">"left: "</span>+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+<span class="hljs-string">"px"</span>);<span class="hljs-keyword">if</span>(t.display.input.setUneditable(o),r.insertBefore(o,e.text),e.line.gutterClass&amp;&amp;(o.className+=<span class="hljs-string">" "</span>+e.line.gutterClass),!t.options.lineNumbers||s&amp;&amp;s[<span class="hljs-string">"CodeMirror-linenumbers"</span>]||(e.lineNumber=o.appendChild(Rr(<span class="hljs-string">"div"</span>,C(t.options,i),<span class="hljs-string">"CodeMirror-linenumber CodeMirror-gutter-elt"</span>,<span class="hljs-string">"left: "</span>+n.gutterLeft[<span class="hljs-string">"CodeMirror-linenumbers"</span>]+<span class="hljs-string">"px; width: "</span>+t.display.lineNumInnerWidth+<span class="hljs-string">"px"</span>))),s)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-number">0</span>;a&lt;t.options.gutters.length;++a){<span class="hljs-keyword">var</span> l=t.options.gutters[a],c=s.hasOwnProperty(l)&amp;&amp;s[l];c&amp;&amp;o.appendChild(Rr(<span class="hljs-string">"div"</span>,[c],<span class="hljs-string">"CodeMirror-gutter-elt"</span>,<span class="hljs-string">"left: "</span>+n.gutterLeft[l]+<span class="hljs-string">"px; width: "</span>+n.gutterWidth[l]+<span class="hljs-string">"px"</span>))}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">R</span>(<span class="hljs-params">t,e,i</span>)</span>{e.alignable&amp;&amp;(e.alignable=<span class="hljs-literal">null</span>);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n,r=e.node.firstChild;r;r=n){<span class="hljs-keyword">var</span> n=r.nextSibling;<span class="hljs-string">"CodeMirror-linewidget"</span>==r.className&amp;&amp;e.node.removeChild(r)}q(t,e,i)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">B</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=P(t,e);<span class="hljs-keyword">return</span> e.text=e.node=r.pre,r.bgClass&amp;&amp;(e.bgClass=r.bgClass),r.textClass&amp;&amp;(e.textClass=r.textClass),$(e),j(t,e,i,n),q(t,e,n),e.node}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">q</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">if</span>(G(t,e.line,e,i,!<span class="hljs-number">0</span>),e.rest)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">0</span>;n&lt;e.rest.length;n++)G(t,e.rest[n],e,i,!<span class="hljs-number">1</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">G</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{<span class="hljs-keyword">if</span>(e.widgets)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> s=z(i),o=<span class="hljs-number">0</span>,a=e.widgets;o&lt;a.length;++o){<span class="hljs-keyword">var</span> l=a[o],c=Rr(<span class="hljs-string">"div"</span>,[l.node],<span class="hljs-string">"CodeMirror-linewidget"</span>);l.handleMouseEvents||c.setAttribute(<span class="hljs-string">"cm-ignore-events"</span>,<span class="hljs-string">"true"</span>),U(l,c,i,n),t.display.input.setUneditable(c),r&amp;&amp;l.above?s.insertBefore(c,i.gutter||i.text):s.appendChild(c),Sr(l,<span class="hljs-string">"redraw"</span>)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">U</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">if</span>(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);<span class="hljs-keyword">var</span> r=n.wrapperWidth;e.style.left=n.fixedPos+<span class="hljs-string">"px"</span>,t.coverGutter||(r-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+<span class="hljs-string">"px"</span>),e.style.width=r+<span class="hljs-string">"px"</span>}t.coverGutter&amp;&amp;(e.style.zIndex=<span class="hljs-number">5</span>,e.style.position=<span class="hljs-string">"relative"</span>,t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+<span class="hljs-string">"px"</span>))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">V</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> Es(t.line,t.ch)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Z</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> Ps(t,e)&lt;<span class="hljs-number">0</span>?e:t}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">K</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> Ps(t,e)&lt;<span class="hljs-number">0</span>?t:e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">X</span>(<span class="hljs-params">t</span>)</span>{t.state.focused||(t.display.input.focus(),mi(t))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Y</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{<span class="hljs-keyword">var</span> s=t.doc;t.display.shift=!<span class="hljs-number">1</span>,n||(n=s.sel);<span class="hljs-keyword">var</span> o=t.state.pasteIncoming||<span class="hljs-string">"paste"</span>==r,a=s.splitLines(e),l=<span class="hljs-literal">null</span>;<span class="hljs-keyword">if</span>(o&amp;&amp;n.ranges.length&gt;<span class="hljs-number">1</span>)<span class="hljs-keyword">if</span>(Is&amp;&amp;Is.join(<span class="hljs-string">"\n"</span>)==e){<span class="hljs-keyword">if</span>(n.ranges.length%Is.length==<span class="hljs-number">0</span>){l=[];<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=<span class="hljs-number">0</span>;c&lt;Is.length;c++)l.push(s.splitLines(Is[c]))}}<span class="hljs-keyword">else</span> a.length==n.ranges.length&amp;&amp;(l=Wr(a,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span>[t]}));<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=n.ranges.length-<span class="hljs-number">1</span>;c&gt;=<span class="hljs-number">0</span>;c--){<span class="hljs-keyword">var</span> u=n.ranges[c],d=u.from(),h=u.to();u.empty()&amp;&amp;(i&amp;&amp;i&gt;<span class="hljs-number">0</span>?d=Es(d.line,d.ch-i):t.state.overwrite&amp;&amp;!o&amp;&amp;(h=Es(h.line,<span class="hljs-built_in">Math</span>.min(Yn(s,h.line).text.length,h.ch+Or(a).length))));<span class="hljs-keyword">var</span> f=t.curOp.updateInput,p={from:d,to:h,text:l?l[c%l.length]:a,origin:r||(o?<span class="hljs-string">"paste"</span>:t.state.cutIncoming?<span class="hljs-string">"cut"</span>:<span class="hljs-string">"+input"</span>)};ki(t.doc,p),Sr(t,<span class="hljs-string">"inputRead"</span>,t,p)}e&amp;&amp;!o&amp;&amp;Q(t,e),Ei(t),t.curOp.updateInput=f,t.curOp.typing=!<span class="hljs-number">0</span>,t.state.pasteIncoming=t.state.cutIncoming=!<span class="hljs-number">1</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">J</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=t.clipboardData&amp;&amp;t.clipboardData.getData(<span class="hljs-string">"text/plain"</span>);<span class="hljs-keyword">if</span>(i)<span class="hljs-keyword">return</span> t.preventDefault(),e.isReadOnly()||e.options.disableInput||Fe(e,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{Y(e,i,<span class="hljs-number">0</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"paste"</span>)}),!<span class="hljs-number">0</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Q</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(t.options.electricChars&amp;&amp;t.options.smartIndent)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=t.doc.sel,n=i.ranges.length-<span class="hljs-number">1</span>;n&gt;=<span class="hljs-number">0</span>;n--){<span class="hljs-keyword">var</span> r=i.ranges[n];<span class="hljs-keyword">if</span>(!(r.head.ch&gt;<span class="hljs-number">100</span>||n&amp;&amp;i.ranges[n-<span class="hljs-number">1</span>].head.line==r.head.line)){<span class="hljs-keyword">var</span> s=t.getModeAt(r.head),o=!<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(s.electricChars){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-number">0</span>;a&lt;s.electricChars.length;a++)<span class="hljs-keyword">if</span>(e.indexOf(s.electricChars.charAt(a))&gt;-<span class="hljs-number">1</span>){o=Ii(t,r.head.line,<span class="hljs-string">"smart"</span>);<span class="hljs-keyword">break</span>}}<span class="hljs-keyword">else</span> s.electricInput&amp;&amp;s.electricInput.test(Yn(t.doc,r.head.line).text.slice(<span class="hljs-number">0</span>,r.head.ch))&amp;&amp;(o=Ii(t,r.head.line,<span class="hljs-string">"smart"</span>));o&amp;&amp;Sr(t,<span class="hljs-string">"electricInput"</span>,t,r.head.line)}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tt</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=[],i=[],n=<span class="hljs-number">0</span>;n&lt;t.doc.sel.ranges.length;n++){<span class="hljs-keyword">var</span> r=t.doc.sel.ranges[n].head.line,s={anchor:Es(r,<span class="hljs-number">0</span>),head:Es(r+<span class="hljs-number">1</span>,<span class="hljs-number">0</span>)};i.push(s),e.push(t.getRange(s.anchor,s.head))}<span class="hljs-keyword">return</span>{text:e,ranges:i}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">et</span>(<span class="hljs-params">t</span>)</span>{t.setAttribute(<span class="hljs-string">"autocorrect"</span>,<span class="hljs-string">"off"</span>),t.setAttribute(<span class="hljs-string">"autocapitalize"</span>,<span class="hljs-string">"off"</span>),t.setAttribute(<span class="hljs-string">"spellcheck"</span>,<span class="hljs-string">"false"</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">it</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">this</span>.cm=t,<span class="hljs-keyword">this</span>.prevInput=<span class="hljs-string">""</span>,<span class="hljs-keyword">this</span>.pollingFast=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.polling=<span class="hljs-keyword">new</span> Ar,<span class="hljs-keyword">this</span>.inaccurateSelection=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.hasSelection=!<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.composing=<span class="hljs-literal">null</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nt</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=Rr(<span class="hljs-string">"textarea"</span>,<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"</span>),e=Rr(<span class="hljs-string">"div"</span>,[t],<span class="hljs-literal">null</span>,<span class="hljs-string">"overflow: hidden; position: relative; width: 3px; height: 0px;"</span>);<span class="hljs-keyword">return</span> _s?t.style.width=<span class="hljs-string">"1000px"</span>:t.setAttribute(<span class="hljs-string">"wrap"</span>,<span class="hljs-string">"off"</span>),Ls&amp;&amp;(t.style.border=<span class="hljs-string">"1px solid black"</span>),et(t),e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rt</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">this</span>.cm=t,<span class="hljs-keyword">this</span>.lastAnchorNode=<span class="hljs-keyword">this</span>.lastAnchorOffset=<span class="hljs-keyword">this</span>.lastFocusNode=<span class="hljs-keyword">this</span>.lastFocusOffset=<span class="hljs-literal">null</span>,<span class="hljs-keyword">this</span>.polling=<span class="hljs-keyword">new</span> Ar,<span class="hljs-keyword">this</span>.gracePeriod=!<span class="hljs-number">1</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">st</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=Qt(t,e.line);<span class="hljs-keyword">if</span>(!i||i.hidden)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">var</span> n=Yn(t.doc,e.line),r=Xt(i,n,e.line),s=rr(n),o=<span class="hljs-string">"left"</span>;<span class="hljs-keyword">if</span>(s){<span class="hljs-keyword">var</span> a=cs(s,e.ch);o=a%<span class="hljs-number">2</span>?<span class="hljs-string">"right"</span>:<span class="hljs-string">"left"</span>}<span class="hljs-keyword">var</span> l=ie(r.map,e.ch,o);<span class="hljs-keyword">return</span> l.offset=<span class="hljs-string">"right"</span>==l.collapse?l.end:l.start,l}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ot</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> e&amp;&amp;(t.bad=!<span class="hljs-number">0</span>),t}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">at</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n;<span class="hljs-keyword">if</span>(e==t.display.lineDiv){<span class="hljs-keyword">if</span>(n=t.display.lineDiv.childNodes[i],!n)<span class="hljs-keyword">return</span> ot(t.clipPos(Es(t.display.viewTo-<span class="hljs-number">1</span>)),!<span class="hljs-number">0</span>);e=<span class="hljs-literal">null</span>,i=<span class="hljs-number">0</span>}<span class="hljs-keyword">else</span> <span class="hljs-keyword">for</span>(n=e;;n=n.parentNode){<span class="hljs-keyword">if</span>(!n||n==t.display.lineDiv)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">if</span>(n.parentNode&amp;&amp;n.parentNode==t.display.lineDiv)<span class="hljs-keyword">break</span>}<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=<span class="hljs-number">0</span>;r&lt;t.display.view.length;r++){<span class="hljs-keyword">var</span> s=t.display.view[r];<span class="hljs-keyword">if</span>(s.node==n)<span class="hljs-keyword">return</span> lt(s,e,i)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lt</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params">e,i,n</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=-<span class="hljs-number">1</span>;r&lt;(u?u.length:<span class="hljs-number">0</span>);r++)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> s=r&lt;<span class="hljs-number">0</span>?c.map:u[r],o=<span class="hljs-number">0</span>;o&lt;s.length;o+=<span class="hljs-number">3</span>){<span class="hljs-keyword">var</span> a=s[o+<span class="hljs-number">2</span>];<span class="hljs-keyword">if</span>(a==e||a==i){<span class="hljs-keyword">var</span> l=er(r&lt;<span class="hljs-number">0</span>?t.line:t.rest[r]),d=s[o]+n;<span class="hljs-keyword">return</span>(n&lt;<span class="hljs-number">0</span>||a!=e)&amp;&amp;(d=s[o+(n?<span class="hljs-number">1</span>:<span class="hljs-number">0</span>)]),Es(l,d)}}}<span class="hljs-keyword">var</span> r=t.text.firstChild,s=!<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(!e||!Zo(r,e))<span class="hljs-keyword">return</span> ot(Es(er(t.line),<span class="hljs-number">0</span>),!<span class="hljs-number">0</span>);<span class="hljs-keyword">if</span>(e==r&amp;&amp;(s=!<span class="hljs-number">0</span>,e=r.childNodes[i],i=<span class="hljs-number">0</span>,!e)){<span class="hljs-keyword">var</span> o=t.rest?Or(t.rest):t.line;<span class="hljs-keyword">return</span> ot(Es(er(o),o.text.length),s)}<span class="hljs-keyword">var</span> a=<span class="hljs-number">3</span>==e.nodeType?e:<span class="hljs-literal">null</span>,l=e;<span class="hljs-keyword">for</span>(a||<span class="hljs-number">1</span>!=e.childNodes.length||<span class="hljs-number">3</span>!=e.firstChild.nodeType||(a=e.firstChild,i&amp;&amp;(i=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;<span class="hljs-keyword">var</span> c=t.measure,u=c.maps,d=n(a,l,i);<span class="hljs-keyword">if</span>(d)<span class="hljs-keyword">return</span> ot(d,s);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> h=l.nextSibling,f=a?a.nodeValue.length-i:<span class="hljs-number">0</span>;h;h=h.nextSibling){<span class="hljs-keyword">if</span>(d=n(h,h.firstChild,<span class="hljs-number">0</span>))<span class="hljs-keyword">return</span> ot(Es(d.line,d.ch-f),s);f+=h.textContent.length}<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> p=l.previousSibling,f=i;p;p=p.previousSibling){<span class="hljs-keyword">if</span>(d=n(p,p.firstChild,-<span class="hljs-number">1</span>))<span class="hljs-keyword">return</span> ot(Es(d.line,d.ch+f),s);f+=h.textContent.length}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ct</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">return</span> e.id==t}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-number">1</span>==e.nodeType){<span class="hljs-keyword">var</span> i=e.getAttribute(<span class="hljs-string">"cm-text"</span>);<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=i)<span class="hljs-keyword">return</span><span class="hljs-string">""</span>==i&amp;&amp;(i=e.textContent.replace(<span class="hljs-regexp">/\u200b/g</span>,<span class="hljs-string">""</span>)),<span class="hljs-keyword">void</span>(a+=i);<span class="hljs-keyword">var</span> u,d=e.getAttribute(<span class="hljs-string">"cm-marker"</span>);<span class="hljs-keyword">if</span>(d){<span class="hljs-keyword">var</span> h=t.findMarks(Es(n,<span class="hljs-number">0</span>),Es(r+<span class="hljs-number">1</span>,<span class="hljs-number">0</span>),s(+d));<span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span>(h.length&amp;&amp;(u=h[<span class="hljs-number">0</span>].find())&amp;&amp;(a+=Jn(t.doc,u.from,u.to).join(c)))}<span class="hljs-keyword">if</span>(<span class="hljs-string">"false"</span>==e.getAttribute(<span class="hljs-string">"contenteditable"</span>))<span class="hljs-keyword">return</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> f=<span class="hljs-number">0</span>;f&lt;e.childNodes.length;f++)o(e.childNodes[f]);<span class="hljs-regexp">/^(pre|div|p)$/i</span>.test(e.nodeName)&amp;&amp;(l=!<span class="hljs-number">0</span>)}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-number">3</span>==e.nodeType){<span class="hljs-keyword">var</span> p=e.nodeValue;<span class="hljs-keyword">if</span>(!p)<span class="hljs-keyword">return</span>;l&amp;&amp;(a+=c,l=!<span class="hljs-number">1</span>),a+=p}}<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-string">""</span>,l=!<span class="hljs-number">1</span>,c=t.doc.lineSeparator();o(e),e!=i;)e=e.nextSibling;<span class="hljs-keyword">return</span> a}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ut</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">this</span>.ranges=t,<span class="hljs-keyword">this</span>.primIndex=e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dt</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">this</span>.anchor=t,<span class="hljs-keyword">this</span>.head=e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ht</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=t[e];t.sort(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> Ps(t.from(),e.from())}),e=Nr(t,i);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">1</span>;n&lt;t.length;n++){<span class="hljs-keyword">var</span> r=t[n],s=t[n-<span class="hljs-number">1</span>];<span class="hljs-keyword">if</span>(Ps(s.to(),r.from())&gt;=<span class="hljs-number">0</span>){<span class="hljs-keyword">var</span> o=K(s.from(),r.from()),a=Z(s.to(),r.to()),l=s.empty()?r.from()==r.head:s.from()==s.head;n&lt;=e&amp;&amp;--e,t.splice(--n,<span class="hljs-number">2</span>,<span class="hljs-keyword">new</span> dt(l?a:o,l?o:a))}}<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ut(t,e)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ft</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ut([<span class="hljs-keyword">new</span> dt(t,e||t)],<span class="hljs-number">0</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pt</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.max(t.first,<span class="hljs-built_in">Math</span>.min(e,t.first+t.size-<span class="hljs-number">1</span>))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">gt</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(e.line&lt;t.first)<span class="hljs-keyword">return</span> Es(t.first,<span class="hljs-number">0</span>);<span class="hljs-keyword">var</span> i=t.first+t.size-<span class="hljs-number">1</span>;<span class="hljs-keyword">return</span> e.line&gt;i?Es(i,Yn(t,i).text.length):mt(e,Yn(t,e.line).text.length)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mt</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=t.ch;<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>==i||i&gt;e?Es(t.line,e):i&lt;<span class="hljs-number">0</span>?Es(t.line,<span class="hljs-number">0</span>):t}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">vt</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> e&gt;=t.first&amp;&amp;e&lt;t.first+t.size}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bt</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=[],n=<span class="hljs-number">0</span>;n&lt;e.length;n++)i[n]=gt(t,e[n]);<span class="hljs-keyword">return</span> i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">yt</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">if</span>(t.cm&amp;&amp;t.cm.display.shift||t.extend){<span class="hljs-keyword">var</span> r=e.anchor;<span class="hljs-keyword">if</span>(n){<span class="hljs-keyword">var</span> s=Ps(i,r)&lt;<span class="hljs-number">0</span>;s!=Ps(n,r)&lt;<span class="hljs-number">0</span>?(r=i,i=n):s!=Ps(i,n)&lt;<span class="hljs-number">0</span>&amp;&amp;(i=n)}<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> dt(r,i)}<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> dt(n||i,i)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_t</span>(<span class="hljs-params">t,e,i,n</span>)</span>{Tt(t,<span class="hljs-keyword">new</span> ut([yt(t,t.sel.primary(),e,i)],<span class="hljs-number">0</span>),n)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">xt</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=[],r=<span class="hljs-number">0</span>;r&lt;t.sel.ranges.length;r++)n[r]=yt(t,t.sel.ranges[r],e[r],<span class="hljs-literal">null</span>);<span class="hljs-keyword">var</span> s=ht(n,t.sel.primIndex);Tt(t,s,i)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">wt</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=t.sel.ranges.slice(<span class="hljs-number">0</span>);r[e]=i,Tt(t,ht(r,t.sel.primIndex),n)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ct</span>(<span class="hljs-params">t,e,i,n</span>)</span>{Tt(t,ft(e,i),n)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">St</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n={ranges:e.ranges,update:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">this</span>.ranges=[];<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;e.length;i++)<span class="hljs-keyword">this</span>.ranges[i]=<span class="hljs-keyword">new</span> dt(gt(t,e[i].anchor),gt(t,e[i].head))},origin:i&amp;&amp;i.origin};<span class="hljs-keyword">return</span> No(t,<span class="hljs-string">"beforeSelectionChange"</span>,t,n),t.cm&amp;&amp;No(t.cm,<span class="hljs-string">"beforeSelectionChange"</span>,t.cm,n),n.ranges!=e.ranges?ht(n.ranges,n.ranges.length-<span class="hljs-number">1</span>):e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">kt</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t.history.done,r=Or(n);r&amp;&amp;r.ranges?(n[n.length-<span class="hljs-number">1</span>]=e,Lt(t,e,i)):Tt(t,e,i)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Tt</span>(<span class="hljs-params">t,e,i</span>)</span>{Lt(t,e,i),dr(t,t.sel,t.cm?t.cm.curOp.id:<span class="hljs-literal">NaN</span>,i)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Lt</span>(<span class="hljs-params">t,e,i</span>)</span>{(Mr(t,<span class="hljs-string">"beforeSelectionChange"</span>)||t.cm&amp;&amp;Mr(t.cm,<span class="hljs-string">"beforeSelectionChange"</span>))&amp;&amp;(e=St(t,e,i));<span class="hljs-keyword">var</span> n=i&amp;&amp;i.bias||(Ps(e.primary().head,t.sel.primary().head)&lt;<span class="hljs-number">0</span>?-<span class="hljs-number">1</span>:<span class="hljs-number">1</span>);Mt(t,At(t,e,n,!<span class="hljs-number">0</span>)),i&amp;&amp;i.scroll===!<span class="hljs-number">1</span>||!t.cm||Ei(t.cm)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Mt</span>(<span class="hljs-params">t,e</span>)</span>{e.equals(t.sel)||(t.sel=e,t.cm&amp;&amp;(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!<span class="hljs-number">0</span>,Lr(t.cm)),Sr(t,<span class="hljs-string">"cursorActivity"</span>,t))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ft</span>(<span class="hljs-params">t</span>)</span>{Mt(t,At(t,t.sel,<span class="hljs-literal">null</span>,!<span class="hljs-number">1</span>),Eo)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">At</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r,s=<span class="hljs-number">0</span>;s&lt;e.ranges.length;s++){<span class="hljs-keyword">var</span> o=e.ranges[s],a=e.ranges.length==t.sel.ranges.length&amp;&amp;t.sel.ranges[s],l=Ot(t,o.anchor,a&amp;&amp;a.anchor,i,n),c=Ot(t,o.head,a&amp;&amp;a.head,i,n);(r||l!=o.anchor||c!=o.head)&amp;&amp;(r||(r=e.ranges.slice(<span class="hljs-number">0</span>,s)),r[s]=<span class="hljs-keyword">new</span> dt(l,c))}<span class="hljs-keyword">return</span> r?ht(r,e.primIndex):e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Dt</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{<span class="hljs-keyword">var</span> s=Yn(t,e.line);<span class="hljs-keyword">if</span>(s.markedSpans)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o=<span class="hljs-number">0</span>;o&lt;s.markedSpans.length;++o){<span class="hljs-keyword">var</span> a=s.markedSpans[o],l=a.marker;<span class="hljs-keyword">if</span>((<span class="hljs-literal">null</span>==a.from||(l.inclusiveLeft?a.from&lt;=e.ch:a.from&lt;e.ch))&amp;&amp;(<span class="hljs-literal">null</span>==a.to||(l.inclusiveRight?a.to&gt;=e.ch:a.to&gt;e.ch))){<span class="hljs-keyword">if</span>(r&amp;&amp;(No(l,<span class="hljs-string">"beforeCursorEnter"</span>),l.explicitlyCleared)){<span class="hljs-keyword">if</span>(s.markedSpans){--o;<span class="hljs-keyword">continue</span>}<span class="hljs-keyword">break</span>}<span class="hljs-keyword">if</span>(!l.atomic)<span class="hljs-keyword">continue</span>;<span class="hljs-keyword">if</span>(i){<span class="hljs-keyword">var</span> c,u=l.find(n&lt;<span class="hljs-number">0</span>?<span class="hljs-number">1</span>:-<span class="hljs-number">1</span>);<span class="hljs-keyword">if</span>((n&lt;<span class="hljs-number">0</span>?l.inclusiveRight:l.inclusiveLeft)&amp;&amp;(u=Nt(t,u,-n,u&amp;&amp;u.line==e.line?s:<span class="hljs-literal">null</span>)),u&amp;&amp;u.line==e.line&amp;&amp;(c=Ps(u,i))&amp;&amp;(n&lt;<span class="hljs-number">0</span>?c&lt;<span class="hljs-number">0</span>:c&gt;<span class="hljs-number">0</span>))<span class="hljs-keyword">return</span> Dt(t,u,e,n,r)}<span class="hljs-keyword">var</span> d=l.find(n&lt;<span class="hljs-number">0</span>?-<span class="hljs-number">1</span>:<span class="hljs-number">1</span>);<span class="hljs-keyword">return</span>(n&lt;<span class="hljs-number">0</span>?l.inclusiveLeft:l.inclusiveRight)&amp;&amp;(d=Nt(t,d,n,d.line==e.line?s:<span class="hljs-literal">null</span>)),d?Dt(t,d,e,n,r):<span class="hljs-literal">null</span>}}<span class="hljs-keyword">return</span> e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ot</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{<span class="hljs-keyword">var</span> s=n||<span class="hljs-number">1</span>,o=Dt(t,e,i,s,r)||!r&amp;&amp;Dt(t,e,i,s,!<span class="hljs-number">0</span>)||Dt(t,e,i,-s,r)||!r&amp;&amp;Dt(t,e,i,-s,!<span class="hljs-number">0</span>);<span class="hljs-keyword">return</span> o?o:(t.cantEdit=!<span class="hljs-number">0</span>,Es(t.first,<span class="hljs-number">0</span>))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Nt</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">return</span> i&lt;<span class="hljs-number">0</span>&amp;&amp;<span class="hljs-number">0</span>==e.ch?e.line&gt;t.first?gt(t,Es(e.line-<span class="hljs-number">1</span>)):<span class="hljs-literal">null</span>:i&gt;<span class="hljs-number">0</span>&amp;&amp;e.ch==(n||Yn(t,e.line)).text.length?e.line&lt;t.first+t.size-<span class="hljs-number">1</span>?Es(e.line+<span class="hljs-number">1</span>,<span class="hljs-number">0</span>):<span class="hljs-literal">null</span>:<span class="hljs-keyword">new</span> Es(e.line,e.ch+i)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Wt</span>(<span class="hljs-params">t</span>)</span>{t.display.input.showSelection(t.display.input.prepareSelection())}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ht</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=t.doc,n={},r=n.cursors=<span class="hljs-built_in">document</span>.createDocumentFragment(),s=n.selection=<span class="hljs-built_in">document</span>.createDocumentFragment(),o=<span class="hljs-number">0</span>;o&lt;i.sel.ranges.length;o++)<span class="hljs-keyword">if</span>(e!==!<span class="hljs-number">1</span>||o!=i.sel.primIndex){<span class="hljs-keyword">var</span> a=i.sel.ranges[o];<span class="hljs-keyword">if</span>(!(a.from().line&gt;=t.display.viewTo||a.to().line&lt;t.display.viewFrom)){<span class="hljs-keyword">var</span> l=a.empty();(l||t.options.showCursorWhenSelecting)&amp;&amp;zt(t,a.head,r),l||Et(t,a,s)}}<span class="hljs-keyword">return</span> n}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">zt</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=fe(t,e,<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>,!t.options.singleCursorHeightPerLine),r=i.appendChild(Rr(<span class="hljs-string">"div"</span>,<span class="hljs-string">" "</span>,<span class="hljs-string">"CodeMirror-cursor"</span>));<span class="hljs-keyword">if</span>(r.style.left=n.left+<span class="hljs-string">"px"</span>,r.style.top=n.top+<span class="hljs-string">"px"</span>,r.style.height=<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,n.bottom-n.top)*t.options.cursorHeight+<span class="hljs-string">"px"</span>,n.other){<span class="hljs-keyword">var</span> s=i.appendChild(Rr(<span class="hljs-string">"div"</span>,<span class="hljs-string">" "</span>,<span class="hljs-string">"CodeMirror-cursor CodeMirror-secondarycursor"</span>));s.style.display=<span class="hljs-string">""</span>,s.style.left=n.other.left+<span class="hljs-string">"px"</span>,s.style.top=n.other.top+<span class="hljs-string">"px"</span>,s.style.height=<span class="hljs-number">.85</span>*(n.other.bottom-n.other.top)+<span class="hljs-string">"px"</span>}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Et</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params">t,e,i,n</span>)</span>{e&lt;<span class="hljs-number">0</span>&amp;&amp;(e=<span class="hljs-number">0</span>),e=<span class="hljs-built_in">Math</span>.round(e),n=<span class="hljs-built_in">Math</span>.round(n),a.appendChild(Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"CodeMirror-selected"</span>,<span class="hljs-string">"position: absolute; left: "</span>+t+<span class="hljs-string">"px; top: "</span>+e+<span class="hljs-string">"px; width: "</span>+(<span class="hljs-literal">null</span>==i?u-t:i)+<span class="hljs-string">"px; height: "</span>+(n-e)+<span class="hljs-string">"px"</span>))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">e,i,r</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">i,n</span>)</span>{<span class="hljs-keyword">return</span> he(t,Es(e,i),<span class="hljs-string">"div"</span>,d,n)}<span class="hljs-keyword">var</span> a,l,d=Yn(o,e),h=d.text.length;<span class="hljs-keyword">return</span> ts(rr(d),i||<span class="hljs-number">0</span>,<span class="hljs-literal">null</span>==r?h:r,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,o</span>)</span>{<span class="hljs-keyword">var</span> d,f,p,g=s(t,<span class="hljs-string">"left"</span>);<span class="hljs-keyword">if</span>(t==e)d=g,f=p=g.left;<span class="hljs-keyword">else</span>{<span class="hljs-keyword">if</span>(d=s(e-<span class="hljs-number">1</span>,<span class="hljs-string">"right"</span>),<span class="hljs-string">"rtl"</span>==o){<span class="hljs-keyword">var</span> m=g;g=d,d=m}f=g.left,p=d.right}<span class="hljs-literal">null</span>==i&amp;&amp;<span class="hljs-number">0</span>==t&amp;&amp;(f=c),d.top-g.top&gt;<span class="hljs-number">3</span>&amp;&amp;(n(f,g.top,<span class="hljs-literal">null</span>,g.bottom),f=c,g.bottom&lt;d.top&amp;&amp;n(f,g.bottom,<span class="hljs-literal">null</span>,d.top)),<span class="hljs-literal">null</span>==r&amp;&amp;e==h&amp;&amp;(p=u),(!a||g.top&lt;a.top||g.top==a.top&amp;&amp;g.left&lt;a.left)&amp;&amp;(a=g),(!l||d.bottom&gt;l.bottom||d.bottom==l.bottom&amp;&amp;d.right&gt;l.right)&amp;&amp;(l=d),f&lt;c+<span class="hljs-number">1</span>&amp;&amp;(f=c),n(f,d.top,p-f,d.bottom)}),{start:a,end:l}}<span class="hljs-keyword">var</span> s=t.display,o=t.doc,a=<span class="hljs-built_in">document</span>.createDocumentFragment(),l=Gt(t.display),c=l.left,u=<span class="hljs-built_in">Math</span>.max(s.sizerWidth,Vt(t)-s.sizer.offsetLeft)-l.right,d=e.from(),h=e.to();<span class="hljs-keyword">if</span>(d.line==h.line)r(d.line,d.ch,h.ch);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> f=Yn(o,d.line),p=Yn(o,h.line),g=bn(f)==bn(p),m=r(d.line,d.ch,g?f.text.length+<span class="hljs-number">1</span>:<span class="hljs-literal">null</span>).end,v=r(h.line,g?<span class="hljs-number">0</span>:<span class="hljs-literal">null</span>,h.ch).start;g&amp;&amp;(m.top&lt;v.top-<span class="hljs-number">2</span>?(n(m.right,m.top,<span class="hljs-literal">null</span>,m.bottom),n(c,v.top,v.left,v.bottom)):n(m.right,m.top,v.left-m.right,m.bottom)),m.bottom&lt;v.top&amp;&amp;n(c,m.bottom,<span class="hljs-literal">null</span>,v.top)}i.appendChild(a)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Pt</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(t.state.focused){<span class="hljs-keyword">var</span> e=t.display;clearInterval(e.blinker);<span class="hljs-keyword">var</span> i=!<span class="hljs-number">0</span>;e.cursorDiv.style.visibility=<span class="hljs-string">""</span>,t.options.cursorBlinkRate&gt;<span class="hljs-number">0</span>?e.blinker=setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{e.cursorDiv.style.visibility=(i=!i)?<span class="hljs-string">""</span>:<span class="hljs-string">"hidden"</span>},t.options.cursorBlinkRate):t.options.cursorBlinkRate&lt;<span class="hljs-number">0</span>&amp;&amp;(e.cursorDiv.style.visibility=<span class="hljs-string">"hidden"</span>)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">It</span>(<span class="hljs-params">t,e</span>)</span>{t.doc.mode.startState&amp;&amp;t.doc.frontier&lt;t.display.viewTo&amp;&amp;t.state.highlight.set(e,Pr($t,t))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">$t</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.doc;<span class="hljs-keyword">if</span>(e.frontier&lt;e.first&amp;&amp;(e.frontier=e.first),!(e.frontier&gt;=t.display.viewTo)){<span class="hljs-keyword">var</span> i=+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>+t.options.workTime,n=ao(e.mode,Rt(t,e.frontier)),r=[];e.iter(e.frontier,<span class="hljs-built_in">Math</span>.min(e.first+e.size,t.display.viewTo+<span class="hljs-number">500</span>),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>)</span>{<span class="hljs-keyword">if</span>(e.frontier&gt;=t.display.viewFrom){<span class="hljs-keyword">var</span> o=s.styles,a=s.text.length&gt;t.options.maxHighlightLength,l=Wn(t,s,a?ao(e.mode,n):n,!<span class="hljs-number">0</span>);s.styles=l.styles;<span class="hljs-keyword">var</span> c=s.styleClasses,u=l.classes;u?s.styleClasses=u:c&amp;&amp;(s.styleClasses=<span class="hljs-literal">null</span>);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d=!o||o.length!=s.styles.length||c!=u&amp;&amp;(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=<span class="hljs-number">0</span>;!d&amp;&amp;h&lt;o.length;++h)d=o[h]!=s.styles[h];
d&amp;&amp;r.push(e.frontier),s.stateAfter=a?n:ao(e.mode,n)}<span class="hljs-keyword">else</span> s.text.length&lt;=t.options.maxHighlightLength&amp;&amp;zn(t,s.text,n),s.stateAfter=e.frontier%<span class="hljs-number">5</span>==<span class="hljs-number">0</span>?ao(e.mode,n):<span class="hljs-literal">null</span>;<span class="hljs-keyword">if</span>(++e.frontier,+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>&gt;i)<span class="hljs-keyword">return</span> It(t,t.options.workDelay),!<span class="hljs-number">0</span>}),r.length&amp;&amp;Fe(t,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>;e&lt;r.length;e++)ze(t,r[e],<span class="hljs-string">"text"</span>)})}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">jt</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n,r,s=t.doc,o=i?-<span class="hljs-number">1</span>:e-(t.doc.mode.innerMode?<span class="hljs-number">1e3</span>:<span class="hljs-number">100</span>),a=e;a&gt;o;--a){<span class="hljs-keyword">if</span>(a&lt;=s.first)<span class="hljs-keyword">return</span> s.first;<span class="hljs-keyword">var</span> l=Yn(s,a-<span class="hljs-number">1</span>);<span class="hljs-keyword">if</span>(l.stateAfter&amp;&amp;(!i||a&lt;=s.frontier))<span class="hljs-keyword">return</span> a;<span class="hljs-keyword">var</span> c=$o(l.text,<span class="hljs-literal">null</span>,t.options.tabSize);(<span class="hljs-literal">null</span>==r||n&gt;c)&amp;&amp;(r=a-<span class="hljs-number">1</span>,n=c)}<span class="hljs-keyword">return</span> r}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Rt</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t.doc,r=t.display;<span class="hljs-keyword">if</span>(!n.mode.startState)<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>;<span class="hljs-keyword">var</span> s=jt(t,e,i),o=s&gt;n.first&amp;&amp;Yn(n,s-<span class="hljs-number">1</span>).stateAfter;<span class="hljs-keyword">return</span> o=o?ao(n.mode,o):lo(n.mode),n.iter(s,e,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>)</span>{zn(t,i.text,o);<span class="hljs-keyword">var</span> a=s==e-<span class="hljs-number">1</span>||s%<span class="hljs-number">5</span>==<span class="hljs-number">0</span>||s&gt;=r.viewFrom&amp;&amp;s&lt;r.viewTo;i.stateAfter=a?ao(n.mode,o):<span class="hljs-literal">null</span>,++s}),i&amp;&amp;(n.frontier=s),o}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Bt</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.lineSpace.offsetTop}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">qt</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.mover.offsetHeight-t.lineSpace.offsetHeight}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Gt</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(t.cachedPaddingH)<span class="hljs-keyword">return</span> t.cachedPaddingH;<span class="hljs-keyword">var</span> e=qr(t.measure,Rr(<span class="hljs-string">"pre"</span>,<span class="hljs-string">"x"</span>)),i=<span class="hljs-built_in">window</span>.getComputedStyle?<span class="hljs-built_in">window</span>.getComputedStyle(e):e.currentStyle,n={left:<span class="hljs-built_in">parseInt</span>(i.paddingLeft),right:<span class="hljs-built_in">parseInt</span>(i.paddingRight)};<span class="hljs-keyword">return</span> <span class="hljs-built_in">isNaN</span>(n.left)||<span class="hljs-built_in">isNaN</span>(n.right)||(t.cachedPaddingH=n),n}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ut</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> Ho-t.display.nativeBarWidth}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Vt</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.display.scroller.clientWidth-Ut(t)-t.display.barWidth}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Zt</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.display.scroller.clientHeight-Ut(t)-t.display.barHeight}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Kt</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t.options.lineWrapping,r=n&amp;&amp;Vt(t);<span class="hljs-keyword">if</span>(!e.measure.heights||n&amp;&amp;e.measure.width!=r){<span class="hljs-keyword">var</span> s=e.measure.heights=[];<span class="hljs-keyword">if</span>(n){e.measure.width=r;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o=e.text.firstChild.getClientRects(),a=<span class="hljs-number">0</span>;a&lt;o.length-<span class="hljs-number">1</span>;a++){<span class="hljs-keyword">var</span> l=o[a],c=o[a+<span class="hljs-number">1</span>];<span class="hljs-built_in">Math</span>.abs(l.bottom-c.bottom)&gt;<span class="hljs-number">2</span>&amp;&amp;s.push((l.bottom+c.top)/<span class="hljs-number">2</span>-i.top)}}s.push(i.bottom-i.top)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Xt</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">if</span>(t.line==e)<span class="hljs-keyword">return</span>{map:t.measure.map,cache:t.measure.cache};<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">0</span>;n&lt;t.rest.length;n++)<span class="hljs-keyword">if</span>(t.rest[n]==e)<span class="hljs-keyword">return</span>{map:t.measure.maps[n],cache:t.measure.caches[n]};<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">0</span>;n&lt;t.rest.length;n++)<span class="hljs-keyword">if</span>(er(t.rest[n])&gt;i)<span class="hljs-keyword">return</span>{map:t.measure.maps[n],cache:t.measure.caches[n],before:!<span class="hljs-number">0</span>}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Yt</span>(<span class="hljs-params">t,e</span>)</span>{e=bn(e);<span class="hljs-keyword">var</span> i=er(e),n=t.display.externalMeasured=<span class="hljs-keyword">new</span> Ne(t.doc,e,i);n.lineN=i;<span class="hljs-keyword">var</span> r=n.built=Pn(t,n);<span class="hljs-keyword">return</span> n.text=r.pre,qr(t.display.lineMeasure,r.pre),n}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Jt</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">return</span> ee(t,te(t,e),i,n)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Qt</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(e&gt;=t.display.viewFrom&amp;&amp;e&lt;t.display.viewTo)<span class="hljs-keyword">return</span> t.display.view[Pe(t,e)];<span class="hljs-keyword">var</span> i=t.display.externalMeasured;<span class="hljs-keyword">return</span> i&amp;&amp;e&gt;=i.lineN&amp;&amp;e&lt;i.lineN+i.size?i:<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">te</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=er(e),n=Qt(t,i);n&amp;&amp;!n.text?n=<span class="hljs-literal">null</span>:n&amp;&amp;n.changes&amp;&amp;(H(t,n,i,N(t)),t.curOp.forceUpdate=!<span class="hljs-number">0</span>),n||(n=Yt(t,e));<span class="hljs-keyword">var</span> r=Xt(n,e,i);<span class="hljs-keyword">return</span>{line:e,view:n,rect:<span class="hljs-literal">null</span>,map:r.map,cache:r.cache,before:r.before,hasHeights:!<span class="hljs-number">1</span>}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ee</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{e.before&amp;&amp;(i=-<span class="hljs-number">1</span>);<span class="hljs-keyword">var</span> s,o=i+(n||<span class="hljs-string">""</span>);<span class="hljs-keyword">return</span> e.cache.hasOwnProperty(o)?s=e.cache[o]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Kt(t,e.view,e.rect),e.hasHeights=!<span class="hljs-number">0</span>),s=ne(t,e,i,n),s.bogus||(e.cache[o]=s)),{left:s.left,right:s.right,top:r?s.rtop:s.top,bottom:r?s.rbottom:s.bottom}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ie</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n,r,s,o,a=<span class="hljs-number">0</span>;a&lt;t.length;a+=<span class="hljs-number">3</span>){<span class="hljs-keyword">var</span> l=t[a],c=t[a+<span class="hljs-number">1</span>];<span class="hljs-keyword">if</span>(e&lt;l?(r=<span class="hljs-number">0</span>,s=<span class="hljs-number">1</span>,o=<span class="hljs-string">"left"</span>):e&lt;c?(r=e-l,s=r+<span class="hljs-number">1</span>):(a==t.length-<span class="hljs-number">3</span>||e==c&amp;&amp;t[a+<span class="hljs-number">3</span>]&gt;e)&amp;&amp;(s=c-l,r=s-<span class="hljs-number">1</span>,e&gt;=c&amp;&amp;(o=<span class="hljs-string">"right"</span>)),<span class="hljs-literal">null</span>!=r){<span class="hljs-keyword">if</span>(n=t[a+<span class="hljs-number">2</span>],l==c&amp;&amp;i==(n.insertLeft?<span class="hljs-string">"left"</span>:<span class="hljs-string">"right"</span>)&amp;&amp;(o=i),<span class="hljs-string">"left"</span>==i&amp;&amp;<span class="hljs-number">0</span>==r)<span class="hljs-keyword">for</span>(;a&amp;&amp;t[a-<span class="hljs-number">2</span>]==t[a-<span class="hljs-number">3</span>]&amp;&amp;t[a-<span class="hljs-number">1</span>].insertLeft;)n=t[(a-=<span class="hljs-number">3</span>)+<span class="hljs-number">2</span>],o=<span class="hljs-string">"left"</span>;<span class="hljs-keyword">if</span>(<span class="hljs-string">"right"</span>==i&amp;&amp;r==c-l)<span class="hljs-keyword">for</span>(;a&lt;t.length-<span class="hljs-number">3</span>&amp;&amp;t[a+<span class="hljs-number">3</span>]==t[a+<span class="hljs-number">4</span>]&amp;&amp;!t[a+<span class="hljs-number">5</span>].insertLeft;)n=t[(a+=<span class="hljs-number">3</span>)+<span class="hljs-number">2</span>],o=<span class="hljs-string">"right"</span>;<span class="hljs-keyword">break</span>}}<span class="hljs-keyword">return</span>{node:n,start:r,end:s,collapse:o,coverStart:l,coverEnd:c}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ne</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r,s=ie(e.map,i,n),o=s.node,a=s.start,l=s.end,c=s.collapse;<span class="hljs-keyword">if</span>(<span class="hljs-number">3</span>==o.nodeType){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> u=<span class="hljs-number">0</span>;u&lt;<span class="hljs-number">4</span>;u++){<span class="hljs-keyword">for</span>(;a&amp;&amp;jr(e.line.text.charAt(s.coverStart+a));)--a;<span class="hljs-keyword">for</span>(;s.coverStart+l&lt;s.coverEnd&amp;&amp;jr(e.line.text.charAt(s.coverStart+l));)++l;<span class="hljs-keyword">if</span>(bs&amp;&amp;ys&lt;<span class="hljs-number">9</span>&amp;&amp;<span class="hljs-number">0</span>==a&amp;&amp;l==s.coverEnd-s.coverStart)r=o.parentNode.getBoundingClientRect();<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(bs&amp;&amp;t.options.lineWrapping){<span class="hljs-keyword">var</span> d=qo(o,a,l).getClientRects();r=d.length?d[<span class="hljs-string">"right"</span>==n?d.length-<span class="hljs-number">1</span>:<span class="hljs-number">0</span>]:Bs}<span class="hljs-keyword">else</span> r=qo(o,a,l).getBoundingClientRect()||Bs;<span class="hljs-keyword">if</span>(r.left||r.right||<span class="hljs-number">0</span>==a)<span class="hljs-keyword">break</span>;l=a,a-=<span class="hljs-number">1</span>,c=<span class="hljs-string">"right"</span>}bs&amp;&amp;ys&lt;<span class="hljs-number">11</span>&amp;&amp;(r=re(t.display.measure,r))}<span class="hljs-keyword">else</span>{a&gt;<span class="hljs-number">0</span>&amp;&amp;(c=n=<span class="hljs-string">"right"</span>);<span class="hljs-keyword">var</span> d;r=t.options.lineWrapping&amp;&amp;(d=o.getClientRects()).length&gt;<span class="hljs-number">1</span>?d[<span class="hljs-string">"right"</span>==n?d.length-<span class="hljs-number">1</span>:<span class="hljs-number">0</span>]:o.getBoundingClientRect()}<span class="hljs-keyword">if</span>(bs&amp;&amp;ys&lt;<span class="hljs-number">9</span>&amp;&amp;!a&amp;&amp;(!r||!r.left&amp;&amp;!r.right)){<span class="hljs-keyword">var</span> h=o.parentNode.getClientRects()[<span class="hljs-number">0</span>];r=h?{left:h.left,right:h.left+ye(t.display),top:h.top,bottom:h.bottom}:Bs}<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> f=r.top-e.rect.top,p=r.bottom-e.rect.top,g=(f+p)/<span class="hljs-number">2</span>,m=e.view.measure.heights,u=<span class="hljs-number">0</span>;u&lt;m.length-<span class="hljs-number">1</span>&amp;&amp;!(g&lt;m[u]);u++);<span class="hljs-keyword">var</span> v=u?m[u-<span class="hljs-number">1</span>]:<span class="hljs-number">0</span>,b=m[u],y={left:(<span class="hljs-string">"right"</span>==c?r.right:r.left)-e.rect.left,right:(<span class="hljs-string">"left"</span>==c?r.left:r.right)-e.rect.left,top:v,bottom:b};<span class="hljs-keyword">return</span> r.left||r.right||(y.bogus=!<span class="hljs-number">0</span>),t.options.singleCursorHeightPerLine||(y.rtop=f,y.rbottom=p),y}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">re</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(!<span class="hljs-built_in">window</span>.screen||<span class="hljs-literal">null</span>==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Qr(t))<span class="hljs-keyword">return</span> e;<span class="hljs-keyword">var</span> i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;<span class="hljs-keyword">return</span>{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">se</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(t.measure&amp;&amp;(t.measure.cache={},t.measure.heights=<span class="hljs-literal">null</span>,t.rest))<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>;e&lt;t.rest.length;e++)t.measure.caches[e]={}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">oe</span>(<span class="hljs-params">t</span>)</span>{t.display.externalMeasure=<span class="hljs-literal">null</span>,Br(t.display.lineMeasure);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>;e&lt;t.display.view.length;e++)se(t.display.view[e])}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ae</span>(<span class="hljs-params">t</span>)</span>{oe(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=<span class="hljs-literal">null</span>,t.options.lineWrapping||(t.display.maxLineChanged=!<span class="hljs-number">0</span>),t.display.lineNumChars=<span class="hljs-literal">null</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">le</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.pageXOffset||(<span class="hljs-built_in">document</span>.documentElement||<span class="hljs-built_in">document</span>.body).scrollLeft}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ce</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.pageYOffset||(<span class="hljs-built_in">document</span>.documentElement||<span class="hljs-built_in">document</span>.body).scrollTop}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ue</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">if</span>(e.widgets)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=<span class="hljs-number">0</span>;r&lt;e.widgets.length;++r)<span class="hljs-keyword">if</span>(e.widgets[r].above){<span class="hljs-keyword">var</span> s=kn(e.widgets[r]);i.top+=s,i.bottom+=s}<span class="hljs-keyword">if</span>(<span class="hljs-string">"line"</span>==n)<span class="hljs-keyword">return</span> i;n||(n=<span class="hljs-string">"local"</span>);<span class="hljs-keyword">var</span> o=nr(e);<span class="hljs-keyword">if</span>(<span class="hljs-string">"local"</span>==n?o+=Bt(t.display):o-=t.display.viewOffset,<span class="hljs-string">"page"</span>==n||<span class="hljs-string">"window"</span>==n){<span class="hljs-keyword">var</span> a=t.display.lineSpace.getBoundingClientRect();o+=a.top+(<span class="hljs-string">"window"</span>==n?<span class="hljs-number">0</span>:ce());<span class="hljs-keyword">var</span> l=a.left+(<span class="hljs-string">"window"</span>==n?<span class="hljs-number">0</span>:le());i.left+=l,i.right+=l}<span class="hljs-keyword">return</span> i.top+=o,i.bottom+=o,i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">de</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-string">"div"</span>==i)<span class="hljs-keyword">return</span> e;<span class="hljs-keyword">var</span> n=e.left,r=e.top;<span class="hljs-keyword">if</span>(<span class="hljs-string">"page"</span>==i)n-=le(),r-=ce();<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">"local"</span>==i||!i){<span class="hljs-keyword">var</span> s=t.display.sizer.getBoundingClientRect();n+=s.left,r+=s.top}<span class="hljs-keyword">var</span> o=t.display.lineSpace.getBoundingClientRect();<span class="hljs-keyword">return</span>{left:n-o.left,top:r-o.top}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">he</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{<span class="hljs-keyword">return</span> n||(n=Yn(t.doc,e.line)),ue(t,n,Jt(t,n,e.ch,r),i)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fe</span>(<span class="hljs-params">t,e,i,n,r,s</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params">e,o</span>)</span>{<span class="hljs-keyword">var</span> a=ee(t,r,e,o?<span class="hljs-string">"right"</span>:<span class="hljs-string">"left"</span>,s);<span class="hljs-keyword">return</span> o?a.left=a.right:a.right=a.left,ue(t,n,a,i)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=l[e],n=i.level%<span class="hljs-number">2</span>;<span class="hljs-keyword">return</span> t==es(i)&amp;&amp;e&amp;&amp;i.level&lt;l[e-<span class="hljs-number">1</span>].level?(i=l[--e],t=is(i)-(i.level%<span class="hljs-number">2</span>?<span class="hljs-number">0</span>:<span class="hljs-number">1</span>),n=!<span class="hljs-number">0</span>):t==is(i)&amp;&amp;e&lt;l.length-<span class="hljs-number">1</span>&amp;&amp;i.level&lt;l[e+<span class="hljs-number">1</span>].level&amp;&amp;(i=l[++e],t=es(i)-i.level%<span class="hljs-number">2</span>,n=!<span class="hljs-number">1</span>),n&amp;&amp;t==i.to&amp;&amp;t&gt;i.from?o(t-<span class="hljs-number">1</span>):o(t,n)}n=n||Yn(t.doc,e.line),r||(r=te(t,n));<span class="hljs-keyword">var</span> l=rr(n),c=e.ch;<span class="hljs-keyword">if</span>(!l)<span class="hljs-keyword">return</span> o(c);<span class="hljs-keyword">var</span> u=cs(l,c),d=a(c,u);<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>!=oa&amp;&amp;(d.other=a(c,oa)),d}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pe</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,e=gt(t.doc,e);t.options.lineWrapping||(i=ye(t.display)*e.ch);<span class="hljs-keyword">var</span> n=Yn(t.doc,e.line),r=nr(n)+Bt(t.display);<span class="hljs-keyword">return</span>{left:i,right:i,top:r,bottom:r+n.height}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ge</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=Es(t,e);<span class="hljs-keyword">return</span> r.xRel=n,i&amp;&amp;(r.outside=!<span class="hljs-number">0</span>),r}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">me</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t.doc;<span class="hljs-keyword">if</span>(i+=t.display.viewOffset,i&lt;<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> ge(n.first,<span class="hljs-number">0</span>,!<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>);<span class="hljs-keyword">var</span> r=ir(n,i),s=n.first+n.size-<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(r&gt;s)<span class="hljs-keyword">return</span> ge(n.first+n.size-<span class="hljs-number">1</span>,Yn(n,s).text.length,!<span class="hljs-number">0</span>,<span class="hljs-number">1</span>);e&lt;<span class="hljs-number">0</span>&amp;&amp;(e=<span class="hljs-number">0</span>);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o=Yn(n,r);;){<span class="hljs-keyword">var</span> a=ve(t,o,r,e,i),l=mn(o),c=l&amp;&amp;l.find(<span class="hljs-number">0</span>,!<span class="hljs-number">0</span>);<span class="hljs-keyword">if</span>(!l||!(a.ch&gt;c.from.ch||a.ch==c.from.ch&amp;&amp;a.xRel&gt;<span class="hljs-number">0</span>))<span class="hljs-keyword">return</span> a;r=er(o=c.to.line)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ve</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">n</span>)</span>{<span class="hljs-keyword">var</span> r=fe(t,Es(i,n),<span class="hljs-string">"line"</span>,e,c);<span class="hljs-keyword">return</span> a=!<span class="hljs-number">0</span>,o&gt;r.bottom?r.left-l:o&lt;r.top?r.left+l:(a=!<span class="hljs-number">1</span>,r.left)}<span class="hljs-keyword">var</span> o=r-nr(e),a=!<span class="hljs-number">1</span>,l=<span class="hljs-number">2</span>*t.display.wrapper.clientWidth,c=te(t,e),u=rr(e),d=e.text.length,h=ns(e),f=rs(e),p=s(h),g=a,m=s(f),v=a;<span class="hljs-keyword">if</span>(n&gt;m)<span class="hljs-keyword">return</span> ge(i,f,v,<span class="hljs-number">1</span>);<span class="hljs-keyword">for</span>(;;){<span class="hljs-keyword">if</span>(u?f==h||f==ds(e,h,<span class="hljs-number">1</span>):f-h&lt;=<span class="hljs-number">1</span>){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> b=n&lt;p||n-p&lt;=m-n?h:f,y=n-(b==h?p:m);jr(e.text.charAt(b));)++b;<span class="hljs-keyword">var</span> _=ge(i,b,b==h?g:v,y&lt;-<span class="hljs-number">1</span>?-<span class="hljs-number">1</span>:y&gt;<span class="hljs-number">1</span>?<span class="hljs-number">1</span>:<span class="hljs-number">0</span>);<span class="hljs-keyword">return</span> _}<span class="hljs-keyword">var</span> x=<span class="hljs-built_in">Math</span>.ceil(d/<span class="hljs-number">2</span>),w=h+x;<span class="hljs-keyword">if</span>(u){w=h;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> C=<span class="hljs-number">0</span>;C&lt;x;++C)w=ds(e,w,<span class="hljs-number">1</span>)}<span class="hljs-keyword">var</span> S=s(w);S&gt;n?(f=w,m=S,(v=a)&amp;&amp;(m+=<span class="hljs-number">1e3</span>),d=x):(h=w,p=S,g=a,d-=x)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">be</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=t.cachedTextHeight)<span class="hljs-keyword">return</span> t.cachedTextHeight;<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>==$s){$s=Rr(<span class="hljs-string">"pre"</span>);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>;e&lt;<span class="hljs-number">49</span>;++e)$s.appendChild(<span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">"x"</span>)),$s.appendChild(Rr(<span class="hljs-string">"br"</span>));$s.appendChild(<span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">"x"</span>))}qr(t.measure,$s);<span class="hljs-keyword">var</span> i=$s.offsetHeight/<span class="hljs-number">50</span>;<span class="hljs-keyword">return</span> i&gt;<span class="hljs-number">3</span>&amp;&amp;(t.cachedTextHeight=i),Br(t.measure),i||<span class="hljs-number">1</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ye</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=t.cachedCharWidth)<span class="hljs-keyword">return</span> t.cachedCharWidth;<span class="hljs-keyword">var</span> e=Rr(<span class="hljs-string">"span"</span>,<span class="hljs-string">"xxxxxxxxxx"</span>),i=Rr(<span class="hljs-string">"pre"</span>,[e]);qr(t.measure,i);<span class="hljs-keyword">var</span> n=e.getBoundingClientRect(),r=(n.right-n.left)/<span class="hljs-number">10</span>;<span class="hljs-keyword">return</span> r&gt;<span class="hljs-number">2</span>&amp;&amp;(t.cachedCharWidth=r),r||<span class="hljs-number">10</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_e</span>(<span class="hljs-params">t</span>)</span>{t.curOp={cm:t,viewChanged:!<span class="hljs-number">1</span>,startHeight:t.doc.height,forceUpdate:!<span class="hljs-number">1</span>,updateInput:<span class="hljs-literal">null</span>,typing:!<span class="hljs-number">1</span>,changeObjs:<span class="hljs-literal">null</span>,cursorActivityHandlers:<span class="hljs-literal">null</span>,cursorActivityCalled:<span class="hljs-number">0</span>,selectionChanged:!<span class="hljs-number">1</span>,updateMaxLine:!<span class="hljs-number">1</span>,scrollLeft:<span class="hljs-literal">null</span>,scrollTop:<span class="hljs-literal">null</span>,scrollToPos:<span class="hljs-literal">null</span>,focus:!<span class="hljs-number">1</span>,id:++Gs},qs?qs.ops.push(t.curOp):t.curOp.ownsGroup=qs={ops:[t.curOp],delayedCallbacks:[]}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">xe</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.delayedCallbacks,i=<span class="hljs-number">0</span>;<span class="hljs-keyword">do</span>{<span class="hljs-keyword">for</span>(;i&lt;e.length;i++)e[i].call(<span class="hljs-literal">null</span>);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">0</span>;n&lt;t.ops.length;n++){<span class="hljs-keyword">var</span> r=t.ops[n];<span class="hljs-keyword">if</span>(r.cursorActivityHandlers)<span class="hljs-keyword">for</span>(;r.cursorActivityCalled&lt;r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(<span class="hljs-literal">null</span>,r.cm)}}<span class="hljs-keyword">while</span>(i&lt;e.length)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">we</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.curOp,i=e.ownsGroup;<span class="hljs-keyword">if</span>(i)<span class="hljs-keyword">try</span>{xe(i)}<span class="hljs-keyword">finally</span>{qs=<span class="hljs-literal">null</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">0</span>;n&lt;i.ops.length;n++)i.ops[n].cm.curOp=<span class="hljs-literal">null</span>;Ce(i)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ce</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=t.ops,i=<span class="hljs-number">0</span>;i&lt;e.length;i++)Se(e[i]);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;e.length;i++)ke(e[i]);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;e.length;i++)Te(e[i]);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;e.length;i++)Le(e[i]);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;e.length;i++)Me(e[i])}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Se</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.cm,i=e.display;T(e),t.updateMaxLine&amp;&amp;h(e),t.mustUpdate=t.viewChanged||t.forceUpdate||<span class="hljs-literal">null</span>!=t.scrollTop||t.scrollToPos&amp;&amp;(t.scrollToPos.from.line&lt;i.viewFrom||t.scrollToPos.to.line&gt;=i.viewTo)||i.maxLineChanged&amp;&amp;e.options.lineWrapping,t.update=t.mustUpdate&amp;&amp;<span class="hljs-keyword">new</span> k(e,t.mustUpdate&amp;&amp;{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ke</span>(<span class="hljs-params">t</span>)</span>{t.updatedDisplay=t.mustUpdate&amp;&amp;L(t.cm,t.update)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Te</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.cm,i=e.display;t.updatedDisplay&amp;&amp;D(e),t.barMeasure=p(e),i.maxLineChanged&amp;&amp;!e.options.lineWrapping&amp;&amp;(t.adjustWidthTo=Jt(e,i.maxLine,i.maxLine.text.length).left+<span class="hljs-number">3</span>,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=<span class="hljs-built_in">Math</span>.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+Ut(e)+e.display.barWidth),t.maxScrollLeft=<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,i.sizer.offsetLeft+t.adjustWidthTo-Vt(e))),(t.updatedDisplay||t.selectionChanged)&amp;&amp;(t.preparedSelection=i.input.prepareSelection())}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Le</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.cm;<span class="hljs-literal">null</span>!=t.adjustWidthTo&amp;&amp;(e.display.sizer.style.minWidth=t.adjustWidthTo+<span class="hljs-string">"px"</span>,t.maxScrollLeft&lt;e.doc.scrollLeft&amp;&amp;ri(e,<span class="hljs-built_in">Math</span>.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!<span class="hljs-number">0</span>),e.display.maxLineChanged=!<span class="hljs-number">1</span>),t.preparedSelection&amp;&amp;e.display.input.showSelection(t.preparedSelection),(t.updatedDisplay||t.startHeight!=e.doc.height)&amp;&amp;b(e,t.barMeasure),t.updatedDisplay&amp;&amp;A(e,t.barMeasure),t.selectionChanged&amp;&amp;Pt(e),e.state.focused&amp;&amp;t.updateInput&amp;&amp;e.display.input.reset(t.typing),!t.focus||t.focus!=Gr()||<span class="hljs-built_in">document</span>.hasFocus&amp;&amp;!<span class="hljs-built_in">document</span>.hasFocus()||X(t.cm)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Me</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.cm,i=e.display,n=e.doc;<span class="hljs-keyword">if</span>(t.updatedDisplay&amp;&amp;M(e,t.update),<span class="hljs-literal">null</span>==i.wheelStartX||<span class="hljs-literal">null</span>==t.scrollTop&amp;&amp;<span class="hljs-literal">null</span>==t.scrollLeft&amp;&amp;!t.scrollToPos||(i.wheelStartX=i.wheelStartY=<span class="hljs-literal">null</span>),<span class="hljs-literal">null</span>==t.scrollTop||i.scroller.scrollTop==t.scrollTop&amp;&amp;!t.forceScroll||(n.scrollTop=<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,<span class="hljs-built_in">Math</span>.min(i.scroller.scrollHeight-i.scroller.clientHeight,t.scrollTop)),i.scrollbars.setScrollTop(n.scrollTop),i.scroller.scrollTop=n.scrollTop),<span class="hljs-literal">null</span>==t.scrollLeft||i.scroller.scrollLeft==t.scrollLeft&amp;&amp;!t.forceScroll||(n.scrollLeft=<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,<span class="hljs-built_in">Math</span>.min(i.scroller.scrollWidth-i.scroller.clientWidth,t.scrollLeft)),i.scrollbars.setScrollLeft(n.scrollLeft),i.scroller.scrollLeft=n.scrollLeft,x(e)),t.scrollToPos){<span class="hljs-keyword">var</span> r=Ni(e,gt(n,t.scrollToPos.from),gt(n,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&amp;&amp;e.state.focused&amp;&amp;Oi(e,r)}<span class="hljs-keyword">var</span> s=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;<span class="hljs-keyword">if</span>(s)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-number">0</span>;a&lt;s.length;++a)s[a].lines.length||No(s[a],<span class="hljs-string">"hide"</span>);<span class="hljs-keyword">if</span>(o)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-number">0</span>;a&lt;o.length;++a)o[a].lines.length&amp;&amp;No(o[a],<span class="hljs-string">"unhide"</span>);i.wrapper.offsetHeight&amp;&amp;(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&amp;&amp;No(e,<span class="hljs-string">"changes"</span>,e,t.changeObjs),t.update&amp;&amp;t.update.finish()}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Fe</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(t.curOp)<span class="hljs-keyword">return</span> e();_e(t);<span class="hljs-keyword">try</span>{<span class="hljs-keyword">return</span> e()}<span class="hljs-keyword">finally</span>{we(t)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ae</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">if</span>(t.curOp)<span class="hljs-keyword">return</span> e.apply(t,<span class="hljs-built_in">arguments</span>);_e(t);<span class="hljs-keyword">try</span>{<span class="hljs-keyword">return</span> e.apply(t,<span class="hljs-built_in">arguments</span>)}<span class="hljs-keyword">finally</span>{we(t)}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">De</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.curOp)<span class="hljs-keyword">return</span> t.apply(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">arguments</span>);_e(<span class="hljs-keyword">this</span>);<span class="hljs-keyword">try</span>{<span class="hljs-keyword">return</span> t.apply(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">arguments</span>)}<span class="hljs-keyword">finally</span>{we(<span class="hljs-keyword">this</span>)}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Oe</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.cm;<span class="hljs-keyword">if</span>(!e||e.curOp)<span class="hljs-keyword">return</span> t.apply(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">arguments</span>);_e(e);<span class="hljs-keyword">try</span>{<span class="hljs-keyword">return</span> t.apply(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">arguments</span>)}<span class="hljs-keyword">finally</span>{we(e)}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ne</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">this</span>.line=e,<span class="hljs-keyword">this</span>.rest=yn(e),<span class="hljs-keyword">this</span>.size=<span class="hljs-keyword">this</span>.rest?er(Or(<span class="hljs-keyword">this</span>.rest))-i+<span class="hljs-number">1</span>:<span class="hljs-number">1</span>,<span class="hljs-keyword">this</span>.node=<span class="hljs-keyword">this</span>.text=<span class="hljs-literal">null</span>,<span class="hljs-keyword">this</span>.hidden=wn(t,e)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">We</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n,r=[],s=e;s&lt;i;s=n){<span class="hljs-keyword">var</span> o=<span class="hljs-keyword">new</span> Ne(t.doc,Yn(t.doc,s),s);n=s+o.size,r.push(o)}<span class="hljs-keyword">return</span> r}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">He</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-literal">null</span>==e&amp;&amp;(e=t.doc.first),<span class="hljs-literal">null</span>==i&amp;&amp;(i=t.doc.first+t.doc.size),n||(n=<span class="hljs-number">0</span>);<span class="hljs-keyword">var</span> r=t.display;<span class="hljs-keyword">if</span>(n&amp;&amp;i&lt;r.viewTo&amp;&amp;(<span class="hljs-literal">null</span>==r.updateLineNumbers||r.updateLineNumbers&gt;e)&amp;&amp;(r.updateLineNumbers=e),t.curOp.viewChanged=!<span class="hljs-number">0</span>,e&gt;=r.viewTo)zs&amp;&amp;_n(t.doc,e)&lt;r.viewTo&amp;&amp;Ee(t);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i&lt;=r.viewFrom)zs&amp;&amp;xn(t.doc,i+n)&gt;r.viewFrom?Ee(t):(r.viewFrom+=n,r.viewTo+=n);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e&lt;=r.viewFrom&amp;&amp;i&gt;=r.viewTo)Ee(t);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e&lt;=r.viewFrom){<span class="hljs-keyword">var</span> s=Ie(t,i,i+n,<span class="hljs-number">1</span>);s?(r.view=r.view.slice(s.index),r.viewFrom=s.lineN,r.viewTo+=n):Ee(t)}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i&gt;=r.viewTo){<span class="hljs-keyword">var</span> s=Ie(t,e,e,-<span class="hljs-number">1</span>);s?(r.view=r.view.slice(<span class="hljs-number">0</span>,s.index),r.viewTo=s.lineN):Ee(t)}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> o=Ie(t,e,e,-<span class="hljs-number">1</span>),a=Ie(t,i,i+n,<span class="hljs-number">1</span>);o&amp;&amp;a?(r.view=r.view.slice(<span class="hljs-number">0</span>,o.index).concat(We(t,o.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=n):Ee(t)}<span class="hljs-keyword">var</span> l=r.externalMeasured;l&amp;&amp;(i&lt;l.lineN?l.lineN+=n:e&lt;l.lineN+l.size&amp;&amp;(r.externalMeasured=<span class="hljs-literal">null</span>))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ze</span>(<span class="hljs-params">t,e,i</span>)</span>{t.curOp.viewChanged=!<span class="hljs-number">0</span>;<span class="hljs-keyword">var</span> n=t.display,r=t.display.externalMeasured;<span class="hljs-keyword">if</span>(r&amp;&amp;e&gt;=r.lineN&amp;&amp;e&lt;r.lineN+r.size&amp;&amp;(n.externalMeasured=<span class="hljs-literal">null</span>),!(e&lt;n.viewFrom||e&gt;=n.viewTo)){<span class="hljs-keyword">var</span> s=n.view[Pe(t,e)];<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=s.node){<span class="hljs-keyword">var</span> o=s.changes||(s.changes=[]);Nr(o,i)==-<span class="hljs-number">1</span>&amp;&amp;o.push(i)}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ee</span>(<span class="hljs-params">t</span>)</span>{t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=<span class="hljs-number">0</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Pe</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(e&gt;=t.display.viewTo)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">if</span>(e-=t.display.viewFrom,e&lt;<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=t.display.view,n=<span class="hljs-number">0</span>;n&lt;i.length;n++)<span class="hljs-keyword">if</span>(e-=i[n].size,e&lt;<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> n}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ie</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r,s=Pe(t,e),o=t.display.view;<span class="hljs-keyword">if</span>(!zs||i==t.doc.first+t.doc.size)<span class="hljs-keyword">return</span>{index:s,lineN:i};<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-number">0</span>,l=t.display.viewFrom;a&lt;s;a++)l+=o[a].size;<span class="hljs-keyword">if</span>(l!=e){<span class="hljs-keyword">if</span>(n&gt;<span class="hljs-number">0</span>){<span class="hljs-keyword">if</span>(s==o.length-<span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;r=l+o[s].size-e,s++}<span class="hljs-keyword">else</span> r=l-e;e+=r,i+=r}<span class="hljs-keyword">for</span>(;_n(t.doc,i)!=i;){<span class="hljs-keyword">if</span>(s==(n&lt;<span class="hljs-number">0</span>?<span class="hljs-number">0</span>:o.length-<span class="hljs-number">1</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;i+=n*o[s-(n&lt;<span class="hljs-number">0</span>?<span class="hljs-number">1</span>:<span class="hljs-number">0</span>)].size,s+=n}<span class="hljs-keyword">return</span>{index:s,lineN:i}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">$e</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t.display,r=n.view;<span class="hljs-number">0</span>==r.length||e&gt;=n.viewTo||i&lt;=n.viewFrom?(n.view=We(t,e,i),n.viewFrom=e):(n.viewFrom&gt;e?n.view=We(t,e,n.viewFrom).concat(n.view):n.viewFrom&lt;e&amp;&amp;(n.view=n.view.slice(Pe(t,e))),n.viewFrom=e,n.viewTo&lt;i?n.view=n.view.concat(We(t,n.viewTo,i)):n.viewTo&gt;i&amp;&amp;(n.view=n.view.slice(<span class="hljs-number">0</span>,Pe(t,i)))),n.viewTo=i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">je</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=t.display.view,i=<span class="hljs-number">0</span>,n=<span class="hljs-number">0</span>;n&lt;e.length;n++){<span class="hljs-keyword">var</span> r=e[n];r.hidden||r.node&amp;&amp;!r.changes||++i}<span class="hljs-keyword">return</span> i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Re</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params"></span>)</span>{r.activeTouch&amp;&amp;(s=setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{r.activeTouch=<span class="hljs-literal">null</span>},<span class="hljs-number">1e3</span>),o=r.activeTouch,o.end=+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-number">1</span>!=t.touches.length)<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">var</span> e=t.touches[<span class="hljs-number">0</span>];<span class="hljs-keyword">return</span> e.radiusX&lt;=<span class="hljs-number">1</span>&amp;&amp;e.radiusY&lt;=<span class="hljs-number">1</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>==e.left)<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>;<span class="hljs-keyword">var</span> i=e.left-t.left,n=e.top-t.top;<span class="hljs-keyword">return</span> i*i+n*n&gt;<span class="hljs-number">400</span>}<span class="hljs-keyword">var</span> r=t.display;Ao(r.scroller,<span class="hljs-string">"mousedown"</span>,Ae(t,Ve)),bs&amp;&amp;ys&lt;<span class="hljs-number">11</span>?Ao(r.scroller,<span class="hljs-string">"dblclick"</span>,Ae(t,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">if</span>(!Tr(t,e)){<span class="hljs-keyword">var</span> i=Ue(t,e);<span class="hljs-keyword">if</span>(i&amp;&amp;!Je(t,e)&amp;&amp;!Ge(t.display,e)){Lo(e);<span class="hljs-keyword">var</span> n=t.findWordAt(i);_t(t.doc,n.anchor,n.head)}}})):Ao(r.scroller,<span class="hljs-string">"dblclick"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{Tr(t,e)||Lo(e)}),Ws||Ao(r.scroller,<span class="hljs-string">"contextmenu"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{bi(t,e)});<span class="hljs-keyword">var</span> s,o={end:<span class="hljs-number">0</span>};Ao(r.scroller,<span class="hljs-string">"touchstart"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">if</span>(!Tr(t,e)&amp;&amp;!i(e)){clearTimeout(s);<span class="hljs-keyword">var</span> n=+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>;r.activeTouch={start:n,moved:!<span class="hljs-number">1</span>,prev:n-o.end&lt;=<span class="hljs-number">300</span>?o:<span class="hljs-literal">null</span>},<span class="hljs-number">1</span>==e.touches.length&amp;&amp;(r.activeTouch.left=e.touches[<span class="hljs-number">0</span>].pageX,r.activeTouch.top=e.touches[<span class="hljs-number">0</span>].pageY)}}),Ao(r.scroller,<span class="hljs-string">"touchmove"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{r.activeTouch&amp;&amp;(r.activeTouch.moved=!<span class="hljs-number">0</span>)}),Ao(r.scroller,<span class="hljs-string">"touchend"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>)</span>{<span class="hljs-keyword">var</span> s=r.activeTouch;<span class="hljs-keyword">if</span>(s&amp;&amp;!Ge(r,i)&amp;&amp;<span class="hljs-literal">null</span>!=s.left&amp;&amp;!s.moved&amp;&amp;<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>-s.start&lt;<span class="hljs-number">300</span>){<span class="hljs-keyword">var</span> o,a=t.coordsChar(r.activeTouch,<span class="hljs-string">"page"</span>);o=!s.prev||n(s,s.prev)?<span class="hljs-keyword">new</span> dt(a,a):!s.prev.prev||n(s,s.prev.prev)?t.findWordAt(a):<span class="hljs-keyword">new</span> dt(Es(a.line,<span class="hljs-number">0</span>),gt(t.doc,Es(a.line+<span class="hljs-number">1</span>,<span class="hljs-number">0</span>))),t.setSelection(o.anchor,o.head),t.focus(),Lo(i)}e()}),Ao(r.scroller,<span class="hljs-string">"touchcancel"</span>,e),Ao(r.scroller,<span class="hljs-string">"scroll"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{r.scroller.clientHeight&amp;&amp;(ni(t,r.scroller.scrollTop),ri(t,r.scroller.scrollLeft,!<span class="hljs-number">0</span>),No(t,<span class="hljs-string">"scroll"</span>,t))}),Ao(r.scroller,<span class="hljs-string">"mousewheel"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{si(t,e)}),Ao(r.scroller,<span class="hljs-string">"DOMMouseScroll"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{si(t,e)}),Ao(r.wrapper,<span class="hljs-string">"scroll"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{r.wrapper.scrollTop=r.wrapper.scrollLeft=<span class="hljs-number">0</span>}),r.dragFunctions={enter:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{Tr(t,e)||Fo(e)},over:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{Tr(t,e)||(ei(t,e),Fo(e))},start:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{ti(t,e)},drop:Ae(t,Qe),leave:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{Tr(t,e)||ii(t)}};<span class="hljs-keyword">var</span> a=r.input.getField();Ao(a,<span class="hljs-string">"keyup"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{fi.call(t,e)}),Ao(a,<span class="hljs-string">"keydown"</span>,Ae(t,di)),Ao(a,<span class="hljs-string">"keypress"</span>,Ae(t,pi)),Ao(a,<span class="hljs-string">"focus"</span>,Pr(mi,t)),Ao(a,<span class="hljs-string">"blur"</span>,Pr(vi,t))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Be</span>(<span class="hljs-params">e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=n&amp;&amp;n!=t.Init;<span class="hljs-keyword">if</span>(!i!=!r){<span class="hljs-keyword">var</span> s=e.display.dragFunctions,o=i?Ao:Oo;o(e.display.scroller,<span class="hljs-string">"dragstart"</span>,s.start),o(e.display.scroller,<span class="hljs-string">"dragenter"</span>,s.enter),o(e.display.scroller,<span class="hljs-string">"dragover"</span>,s.over),o(e.display.scroller,<span class="hljs-string">"dragleave"</span>,s.leave),o(e.display.scroller,<span class="hljs-string">"drop"</span>,s.drop)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">qe</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&amp;&amp;e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=<span class="hljs-literal">null</span>,e.scrollbarsClipped=!<span class="hljs-number">1</span>,t.setSize())}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ge</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=xr(e);i!=t.wrapper;i=i.parentNode)<span class="hljs-keyword">if</span>(!i||<span class="hljs-number">1</span>==i.nodeType&amp;&amp;<span class="hljs-string">"true"</span>==i.getAttribute(<span class="hljs-string">"cm-ignore-events"</span>)||i.parentNode==t.sizer&amp;&amp;i!=t.mover)<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ue</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=t.display;<span class="hljs-keyword">if</span>(!i&amp;&amp;<span class="hljs-string">"true"</span>==xr(e).getAttribute(<span class="hljs-string">"cm-not-content"</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">var</span> s,o,a=r.lineSpace.getBoundingClientRect();<span class="hljs-keyword">try</span>{s=e.clientX-a.left,o=e.clientY-a.top}<span class="hljs-keyword">catch</span>(e){<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>}<span class="hljs-keyword">var</span> l,c=me(t,s,o);<span class="hljs-keyword">if</span>(n&amp;&amp;<span class="hljs-number">1</span>==c.xRel&amp;&amp;(l=Yn(t.doc,c.line).text).length==c.ch){<span class="hljs-keyword">var</span> u=$o(l,l.length,t.options.tabSize)-l.length;c=Es(c.line,<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,<span class="hljs-built_in">Math</span>.round((s-Gt(t.display).left)/ye(t.display))-u))}<span class="hljs-keyword">return</span> c}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ve</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>,i=e.display;<span class="hljs-keyword">if</span>(!(Tr(e,t)||i.activeTouch&amp;&amp;i.input.supportsTouch())){<span class="hljs-keyword">if</span>(i.shift=t.shiftKey,Ge(i,t))<span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span>(_s||(i.scroller.draggable=!<span class="hljs-number">1</span>,setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{i.scroller.draggable=!<span class="hljs-number">0</span>},<span class="hljs-number">100</span>)));<span class="hljs-keyword">if</span>(!Je(e,t)){<span class="hljs-keyword">var</span> n=Ue(e,t);<span class="hljs-keyword">switch</span>(<span class="hljs-built_in">window</span>.focus(),wr(t)){<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:e.state.selectingText?e.state.selectingText(t):n?Ze(e,t,n):xr(t)==i.scroller&amp;&amp;Lo(t);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:_s&amp;&amp;(e.state.lastMiddleDown=+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>),n&amp;&amp;_t(e.doc,n),setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{i.input.focus()},<span class="hljs-number">20</span>),Lo(t);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:Ws?bi(e,t):gi(e)}}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ze</span>(<span class="hljs-params">t,e,i</span>)</span>{bs?setTimeout(Pr(X,t),<span class="hljs-number">0</span>):t.curOp.focus=Gr();<span class="hljs-keyword">var</span> n,r=+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>;Rs&amp;&amp;Rs.time&gt;r-<span class="hljs-number">400</span>&amp;&amp;<span class="hljs-number">0</span>==Ps(Rs.pos,i)?n=<span class="hljs-string">"triple"</span>:js&amp;&amp;js.time&gt;r-<span class="hljs-number">400</span>&amp;&amp;<span class="hljs-number">0</span>==Ps(js.pos,i)?(n=<span class="hljs-string">"double"</span>,Rs={time:r,pos:i}):(n=<span class="hljs-string">"single"</span>,js={time:r,pos:i});<span class="hljs-keyword">var</span> s,o=t.doc.sel,a=Fs?e.metaKey:e.ctrlKey;t.options.dragDrop&amp;&amp;ta&amp;&amp;!t.isReadOnly()&amp;&amp;<span class="hljs-string">"single"</span>==n&amp;&amp;(s=o.contains(i))&gt;-<span class="hljs-number">1</span>&amp;&amp;(Ps((s=o.ranges[s]).from(),i)&lt;<span class="hljs-number">0</span>||i.xRel&gt;<span class="hljs-number">0</span>)&amp;&amp;(Ps(s.to(),i)&gt;<span class="hljs-number">0</span>||i.xRel&lt;<span class="hljs-number">0</span>)?Ke(t,e,i,a):Xe(t,e,i,n,a)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ke</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=t.display,s=+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>,o=Ae(t,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)</span>{_s&amp;&amp;(r.scroller.draggable=!<span class="hljs-number">1</span>),t.state.draggingText=!<span class="hljs-number">1</span>,Oo(<span class="hljs-built_in">document</span>,<span class="hljs-string">"mouseup"</span>,o),Oo(r.scroller,<span class="hljs-string">"drop"</span>,o),<span class="hljs-built_in">Math</span>.abs(e.clientX-a.clientX)+<span class="hljs-built_in">Math</span>.abs(e.clientY-a.clientY)&lt;<span class="hljs-number">10</span>&amp;&amp;(Lo(a),!n&amp;&amp;+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>-<span class="hljs-number">200</span>&lt;s&amp;&amp;_t(t.doc,i),_s||bs&amp;&amp;<span class="hljs-number">9</span>==ys?setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-built_in">document</span>.body.focus(),r.input.focus()},<span class="hljs-number">20</span>):r.input.focus())});_s&amp;&amp;(r.scroller.draggable=!<span class="hljs-number">0</span>),t.state.draggingText=o,r.scroller.dragDrop&amp;&amp;r.scroller.dragDrop(),Ao(<span class="hljs-built_in">document</span>,<span class="hljs-string">"mouseup"</span>,o),Ao(r.scroller,<span class="hljs-string">"drop"</span>,o)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Xe</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-number">0</span>!=Ps(m,e))<span class="hljs-keyword">if</span>(m=e,<span class="hljs-string">"rect"</span>==n){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=[],s=t.options.tabSize,o=$o(Yn(c,i.line).text,i.ch,s),a=$o(Yn(c,e.line).text,e.ch,s),l=<span class="hljs-built_in">Math</span>.min(o,a),f=<span class="hljs-built_in">Math</span>.max(o,a),p=<span class="hljs-built_in">Math</span>.min(i.line,e.line),g=<span class="hljs-built_in">Math</span>.min(t.lastLine(),<span class="hljs-built_in">Math</span>.max(i.line,e.line));p&lt;=g;p++){<span class="hljs-keyword">var</span> v=Yn(c,p).text,b=jo(v,l,s);l==f?r.push(<span class="hljs-keyword">new</span> dt(Es(p,b),Es(p,b))):v.length&gt;b&amp;&amp;r.push(<span class="hljs-keyword">new</span> dt(Es(p,b),Es(p,jo(v,f,s))))}r.length||r.push(<span class="hljs-keyword">new</span> dt(i,i)),Tt(c,ht(h.ranges.slice(<span class="hljs-number">0</span>,d).concat(r),d),{origin:<span class="hljs-string">"*mouse"</span>,scroll:!<span class="hljs-number">1</span>}),t.scrollIntoView(e)}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> y=u,_=y.anchor,x=e;<span class="hljs-keyword">if</span>(<span class="hljs-string">"single"</span>!=n){<span class="hljs-keyword">if</span>(<span class="hljs-string">"double"</span>==n)<span class="hljs-keyword">var</span> w=t.findWordAt(e);<span class="hljs-keyword">else</span> <span class="hljs-keyword">var</span> w=<span class="hljs-keyword">new</span> dt(Es(e.line,<span class="hljs-number">0</span>),gt(c,Es(e.line+<span class="hljs-number">1</span>,<span class="hljs-number">0</span>)));Ps(w.anchor,_)&gt;<span class="hljs-number">0</span>?(x=w.head,_=K(y.from(),w.anchor)):(x=w.anchor,_=Z(y.to(),w.head))}<span class="hljs-keyword">var</span> r=h.ranges.slice(<span class="hljs-number">0</span>);r[d]=<span class="hljs-keyword">new</span> dt(gt(c,_),x),Tt(c,ht(r,d),Po)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=++b,r=Ue(t,e,!<span class="hljs-number">0</span>,<span class="hljs-string">"rect"</span>==n);<span class="hljs-keyword">if</span>(r)<span class="hljs-keyword">if</span>(<span class="hljs-number">0</span>!=Ps(r,m)){t.curOp.focus=Gr(),s(r);<span class="hljs-keyword">var</span> a=_(l,c);(r.line&gt;=a.to||r.line&lt;a.from)&amp;&amp;setTimeout(Ae(t,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{b==i&amp;&amp;o(e)}),<span class="hljs-number">150</span>)}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> u=e.clientY&lt;v.top?-<span class="hljs-number">20</span>:e.clientY&gt;v.bottom?<span class="hljs-number">20</span>:<span class="hljs-number">0</span>;u&amp;&amp;setTimeout(Ae(t,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{b==i&amp;&amp;(l.scroller.scrollTop+=u,o(e))}),<span class="hljs-number">50</span>)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">e</span>)</span>{t.state.selectingText=!<span class="hljs-number">1</span>,b=<span class="hljs-number">1</span>/<span class="hljs-number">0</span>,Lo(e),l.input.focus(),Oo(<span class="hljs-built_in">document</span>,<span class="hljs-string">"mousemove"</span>,y),Oo(<span class="hljs-built_in">document</span>,<span class="hljs-string">"mouseup"</span>,x),c.history.lastSelOrigin=<span class="hljs-literal">null</span>}<span class="hljs-keyword">var</span> l=t.display,c=t.doc;Lo(e);<span class="hljs-keyword">var</span> u,d,h=c.sel,f=h.ranges;<span class="hljs-keyword">if</span>(r&amp;&amp;!e.shiftKey?(d=c.sel.contains(i),u=d&gt;-<span class="hljs-number">1</span>?f[d]:<span class="hljs-keyword">new</span> dt(i,i)):(u=c.sel.primary(),d=c.sel.primIndex),As?e.shiftKey&amp;&amp;e.metaKey:e.altKey)n=<span class="hljs-string">"rect"</span>,r||(u=<span class="hljs-keyword">new</span> dt(i,i)),i=Ue(t,e,!<span class="hljs-number">0</span>,!<span class="hljs-number">0</span>),d=-<span class="hljs-number">1</span>;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">"double"</span>==n){<span class="hljs-keyword">var</span> p=t.findWordAt(i);u=t.display.shift||c.extend?yt(c,u,p.anchor,p.head):p}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">"triple"</span>==n){<span class="hljs-keyword">var</span> g=<span class="hljs-keyword">new</span> dt(Es(i.line,<span class="hljs-number">0</span>),gt(c,Es(i.line+<span class="hljs-number">1</span>,<span class="hljs-number">0</span>)));u=t.display.shift||c.extend?yt(c,u,g.anchor,g.head):g}<span class="hljs-keyword">else</span> u=yt(c,u,i);r?d==-<span class="hljs-number">1</span>?(d=f.length,Tt(c,ht(f.concat([u]),d),{scroll:!<span class="hljs-number">1</span>,origin:<span class="hljs-string">"*mouse"</span>})):f.length&gt;<span class="hljs-number">1</span>&amp;&amp;f[d].empty()&amp;&amp;<span class="hljs-string">"single"</span>==n&amp;&amp;!e.shiftKey?(Tt(c,ht(f.slice(<span class="hljs-number">0</span>,d).concat(f.slice(d+<span class="hljs-number">1</span>)),<span class="hljs-number">0</span>),{scroll:!<span class="hljs-number">1</span>,origin:<span class="hljs-string">"*mouse"</span>}),h=c.sel):wt(c,d,u,Po):(d=<span class="hljs-number">0</span>,Tt(c,<span class="hljs-keyword">new</span> ut([u],<span class="hljs-number">0</span>),Po),h=c.sel);<span class="hljs-keyword">var</span> m=i,v=l.wrapper.getBoundingClientRect(),b=<span class="hljs-number">0</span>,y=Ae(t,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{wr(t)?o(t):a(t)}),x=Ae(t,a);t.state.selectingText=x,Ao(<span class="hljs-built_in">document</span>,<span class="hljs-string">"mousemove"</span>,y),Ao(<span class="hljs-built_in">document</span>,<span class="hljs-string">"mouseup"</span>,x)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ye</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">try</span>{<span class="hljs-keyword">var</span> r=e.clientX,s=e.clientY}<span class="hljs-keyword">catch</span>(e){<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>}<span class="hljs-keyword">if</span>(r&gt;=<span class="hljs-built_in">Math</span>.floor(t.display.gutters.getBoundingClientRect().right))<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;n&amp;&amp;Lo(e);<span class="hljs-keyword">var</span> o=t.display,a=o.lineDiv.getBoundingClientRect();<span class="hljs-keyword">if</span>(s&gt;a.bottom||!Mr(t,i))<span class="hljs-keyword">return</span> _r(e);s-=a.top-o.viewOffset;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> l=<span class="hljs-number">0</span>;l&lt;t.options.gutters.length;++l){<span class="hljs-keyword">var</span> c=o.gutters.childNodes[l];<span class="hljs-keyword">if</span>(c&amp;&amp;c.getBoundingClientRect().right&gt;=r){<span class="hljs-keyword">var</span> u=ir(t.doc,s),d=t.options.gutters[l];<span class="hljs-keyword">return</span> No(t,i,t,u,d,e),_r(e)}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Je</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> Ye(t,e,<span class="hljs-string">"gutterClick"</span>,!<span class="hljs-number">0</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Qe</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">if</span>(ii(e),!Tr(e,t)&amp;&amp;!Ge(e.display,t)){Lo(t),bs&amp;&amp;(Us=+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>);<span class="hljs-keyword">var</span> i=Ue(e,t,!<span class="hljs-number">0</span>),n=t.dataTransfer.files;<span class="hljs-keyword">if</span>(i&amp;&amp;!e.isReadOnly())<span class="hljs-keyword">if</span>(n&amp;&amp;n.length&amp;&amp;<span class="hljs-built_in">window</span>.FileReader&amp;&amp;<span class="hljs-built_in">window</span>.File)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=n.length,s=<span class="hljs-built_in">Array</span>(r),o=<span class="hljs-number">0</span>,a=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,n</span>)</span>{<span class="hljs-keyword">if</span>(!e.options.allowDropFileTypes||Nr(e.options.allowDropFileTypes,t.type)!=-<span class="hljs-number">1</span>){<span class="hljs-keyword">var</span> a=<span class="hljs-keyword">new</span> FileReader;a.onload=Ae(e,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=a.result;<span class="hljs-keyword">if</span>(<span class="hljs-regexp">/[\x00-\x08\x0e-\x1f]{2}/</span>.test(t)&amp;&amp;(t=<span class="hljs-string">""</span>),s[n]=t,++o==r){i=gt(e.doc,i);<span class="hljs-keyword">var</span> l={from:i,to:i,text:e.doc.splitLines(s.join(e.doc.lineSeparator())),origin:<span class="hljs-string">"paste"</span>};ki(e.doc,l),kt(e.doc,ft(i,Js(l)))}}),a.readAsText(t)}},l=<span class="hljs-number">0</span>;l&lt;r;++l)a(n[l],l);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">if</span>(e.state.draggingText&amp;&amp;e.doc.sel.contains(i)&gt;-<span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> e.state.draggingText(t),<span class="hljs-keyword">void</span> setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{e.display.input.focus()},<span class="hljs-number">20</span>);<span class="hljs-keyword">try</span>{<span class="hljs-keyword">var</span> s=t.dataTransfer.getData(<span class="hljs-string">"Text"</span>);<span class="hljs-keyword">if</span>(s){<span class="hljs-keyword">if</span>(e.state.draggingText&amp;&amp;!(Fs?t.altKey:t.ctrlKey))<span class="hljs-keyword">var</span> c=e.listSelections();<span class="hljs-keyword">if</span>(Lt(e.doc,ft(i,i)),c)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> l=<span class="hljs-number">0</span>;l&lt;c.length;++l)Di(e.doc,<span class="hljs-string">""</span>,c[l].anchor,c[l].head,<span class="hljs-string">"drag"</span>);e.replaceSelection(s,<span class="hljs-string">"around"</span>,<span class="hljs-string">"paste"</span>),e.display.input.focus()}}<span class="hljs-keyword">catch</span>(t){}}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ti</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(bs&amp;&amp;(!t.state.draggingText||+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>-Us&lt;<span class="hljs-number">100</span>))<span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> Fo(e);<span class="hljs-keyword">if</span>(!Tr(t,e)&amp;&amp;!Ge(t.display,e)&amp;&amp;(e.dataTransfer.setData(<span class="hljs-string">"Text"</span>,t.getSelection()),e.dataTransfer.effectAllowed=<span class="hljs-string">"copyMove"</span>,e.dataTransfer.setDragImage&amp;&amp;!Ss)){<span class="hljs-keyword">var</span> i=Rr(<span class="hljs-string">"img"</span>,<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"position: fixed; left: 0; top: 0;"</span>);i.src=<span class="hljs-string">"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="</span>,Cs&amp;&amp;(i.width=i.height=<span class="hljs-number">1</span>,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>),Cs&amp;&amp;i.parentNode.removeChild(i)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ei</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=Ue(t,e);<span class="hljs-keyword">if</span>(i){<span class="hljs-keyword">var</span> n=<span class="hljs-built_in">document</span>.createDocumentFragment();zt(t,i,n),t.display.dragCursor||(t.display.dragCursor=Rr(<span class="hljs-string">"div"</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"CodeMirror-cursors CodeMirror-dragcursors"</span>),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),qr(t.display.dragCursor,n)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ii</span>(<span class="hljs-params">t</span>)</span>{t.display.dragCursor&amp;&amp;(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=<span class="hljs-literal">null</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ni</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-built_in">Math</span>.abs(t.doc.scrollTop-e)&lt;<span class="hljs-number">2</span>||(t.doc.scrollTop=e,gs||F(t,{top:e}),t.display.scroller.scrollTop!=e&amp;&amp;(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),gs&amp;&amp;F(t),It(t,<span class="hljs-number">100</span>))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ri</span>(<span class="hljs-params">t,e,i</span>)</span>{(i?e==t.doc.scrollLeft:<span class="hljs-built_in">Math</span>.abs(t.doc.scrollLeft-e)&lt;<span class="hljs-number">2</span>)||(e=<span class="hljs-built_in">Math</span>.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,x(t),t.display.scroller.scrollLeft!=e&amp;&amp;(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">si</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=Ks(e),n=i.x,r=i.y,s=t.display,o=s.scroller,a=o.scrollWidth&gt;o.clientWidth,l=o.scrollHeight&gt;o.clientHeight;<span class="hljs-keyword">if</span>(n&amp;&amp;a||r&amp;&amp;l){<span class="hljs-keyword">if</span>(r&amp;&amp;Fs&amp;&amp;_s)t:<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=e.target,u=s.view;c!=o;c=c.parentNode)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d=<span class="hljs-number">0</span>;d&lt;u.length;d++)<span class="hljs-keyword">if</span>(u[d].node==c){t.display.currentWheelTarget=c;<span class="hljs-keyword">break</span> t}<span class="hljs-keyword">if</span>(n&amp;&amp;!gs&amp;&amp;!Cs&amp;&amp;<span class="hljs-literal">null</span>!=Zs)<span class="hljs-keyword">return</span> r&amp;&amp;l&amp;&amp;ni(t,<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,<span class="hljs-built_in">Math</span>.min(o.scrollTop+r*Zs,o.scrollHeight-o.clientHeight))),ri(t,<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,<span class="hljs-built_in">Math</span>.min(o.scrollLeft+n*Zs,o.scrollWidth-o.clientWidth))),(!r||r&amp;&amp;l)&amp;&amp;Lo(e),<span class="hljs-keyword">void</span>(s.wheelStartX=<span class="hljs-literal">null</span>);<span class="hljs-keyword">if</span>(r&amp;&amp;<span class="hljs-literal">null</span>!=Zs){<span class="hljs-keyword">var</span> h=r*Zs,f=t.doc.scrollTop,p=f+s.wrapper.clientHeight;h&lt;<span class="hljs-number">0</span>?f=<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,f+h-<span class="hljs-number">50</span>):p=<span class="hljs-built_in">Math</span>.min(t.doc.height,p+h+<span class="hljs-number">50</span>),F(t,{top:f,bottom:p})}Vs&lt;<span class="hljs-number">20</span>&amp;&amp;(<span class="hljs-literal">null</span>==s.wheelStartX?(s.wheelStartX=o.scrollLeft,s.wheelStartY=o.scrollTop,s.wheelDX=n,s.wheelDY=r,setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=s.wheelStartX){<span class="hljs-keyword">var</span> t=o.scrollLeft-s.wheelStartX,e=o.scrollTop-s.wheelStartY,i=e&amp;&amp;s.wheelDY&amp;&amp;e/s.wheelDY||t&amp;&amp;s.wheelDX&amp;&amp;t/s.wheelDX;s.wheelStartX=s.wheelStartY=<span class="hljs-literal">null</span>,i&amp;&amp;(Zs=(Zs*Vs+i)/(Vs+<span class="hljs-number">1</span>),++Vs)}},<span class="hljs-number">200</span>)):(s.wheelDX+=n,s.wheelDY+=r))}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">oi</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;(e=co[e],!e))<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;t.display.input.ensurePolled();<span class="hljs-keyword">var</span> n=t.display.shift,r=!<span class="hljs-number">1</span>;<span class="hljs-keyword">try</span>{t.isReadOnly()&amp;&amp;(t.state.suppressEdits=!<span class="hljs-number">0</span>),i&amp;&amp;(t.display.shift=!<span class="hljs-number">1</span>),r=e(t)!=zo}<span class="hljs-keyword">finally</span>{t.display.shift=n,t.state.suppressEdits=!<span class="hljs-number">1</span>}<span class="hljs-keyword">return</span> r}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ai</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">0</span>;n&lt;t.state.keyMaps.length;n++){<span class="hljs-keyword">var</span> r=ho(e,t.state.keyMaps[n],i,t);<span class="hljs-keyword">if</span>(r)<span class="hljs-keyword">return</span> r}<span class="hljs-keyword">return</span> t.options.extraKeys&amp;&amp;ho(e,t.options.extraKeys,i,t)||ho(e,t.options.keyMap,i,t)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">li</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=t.state.keySeq;<span class="hljs-keyword">if</span>(r){<span class="hljs-keyword">if</span>(fo(e))<span class="hljs-keyword">return</span><span class="hljs-string">"handled"</span>;Xs.set(<span class="hljs-number">50</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t.state.keySeq==r&amp;&amp;(t.state.keySeq=<span class="hljs-literal">null</span>,t.display.input.reset())}),e=r+<span class="hljs-string">" "</span>+e}<span class="hljs-keyword">var</span> s=ai(t,e,n);<span class="hljs-keyword">return</span><span class="hljs-string">"multi"</span>==s&amp;&amp;(t.state.keySeq=e),<span class="hljs-string">"handled"</span>==s&amp;&amp;Sr(t,<span class="hljs-string">"keyHandled"</span>,t,e,i),<span class="hljs-string">"handled"</span>!=s&amp;&amp;<span class="hljs-string">"multi"</span>!=s||(Lo(i),Pt(t)),r&amp;&amp;!s&amp;&amp;<span class="hljs-regexp">/\'$/</span>.test(e)?(Lo(i),!<span class="hljs-number">0</span>):!!s}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ci</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=po(e,!<span class="hljs-number">0</span>);<span class="hljs-keyword">return</span>!!i&amp;&amp;(e.shiftKey&amp;&amp;!t.state.keySeq?li(t,<span class="hljs-string">"Shift-"</span>+i,e,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">return</span> oi(t,e,!<span class="hljs-number">0</span>)})||li(t,i,e,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e?<span class="hljs-regexp">/^go[A-Z]/</span>.test(e):e.motion)<span class="hljs-keyword">return</span> oi(t,e)}):li(t,i,e,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">return</span> oi(t,e)}))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ui</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">return</span> li(t,<span class="hljs-string">"'"</span>+i+<span class="hljs-string">"'"</span>,e,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">return</span> oi(t,e,!<span class="hljs-number">0</span>)})}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">di</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">if</span>(e.curOp.focus=Gr(),!Tr(e,t)){bs&amp;&amp;ys&lt;<span class="hljs-number">11</span>&amp;&amp;<span class="hljs-number">27</span>==t.keyCode&amp;&amp;(t.returnValue=!<span class="hljs-number">1</span>);<span class="hljs-keyword">var</span> i=t.keyCode;e.display.shift=<span class="hljs-number">16</span>==i||t.shiftKey;<span class="hljs-keyword">var</span> n=ci(e,t);Cs&amp;&amp;(Ys=n?i:<span class="hljs-literal">null</span>,!n&amp;&amp;<span class="hljs-number">88</span>==i&amp;&amp;!na&amp;&amp;(Fs?t.metaKey:t.ctrlKey)&amp;&amp;e.replaceSelection(<span class="hljs-string">""</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"cut"</span>)),<span class="hljs-number">18</span>!=i||<span class="hljs-regexp">/\bCodeMirror-crosshair\b/</span>.test(e.display.lineDiv.className)||hi(e)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hi</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-number">18</span>!=t.keyCode&amp;&amp;t.altKey||(Yo(i,<span class="hljs-string">"CodeMirror-crosshair"</span>),Oo(<span class="hljs-built_in">document</span>,<span class="hljs-string">"keyup"</span>,e),Oo(<span class="hljs-built_in">document</span>,<span class="hljs-string">"mouseover"</span>,e))}<span class="hljs-keyword">var</span> i=t.display.lineDiv;Jo(i,<span class="hljs-string">"CodeMirror-crosshair"</span>),Ao(<span class="hljs-built_in">document</span>,<span class="hljs-string">"keyup"</span>,e),Ao(<span class="hljs-built_in">document</span>,<span class="hljs-string">"mouseover"</span>,e)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fi</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-number">16</span>==t.keyCode&amp;&amp;(<span class="hljs-keyword">this</span>.doc.sel.shift=!<span class="hljs-number">1</span>),Tr(<span class="hljs-keyword">this</span>,t)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pi</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">if</span>(!(Ge(e.display,t)||Tr(e,t)||t.ctrlKey&amp;&amp;!t.altKey||Fs&amp;&amp;t.metaKey)){<span class="hljs-keyword">var</span> i=t.keyCode,n=t.charCode;<span class="hljs-keyword">if</span>(Cs&amp;&amp;i==Ys)<span class="hljs-keyword">return</span> Ys=<span class="hljs-literal">null</span>,<span class="hljs-keyword">void</span> Lo(t);<span class="hljs-keyword">if</span>(!Cs||t.which&amp;&amp;!(t.which&lt;<span class="hljs-number">10</span>)||!ci(e,t)){<span class="hljs-keyword">var</span> r=<span class="hljs-built_in">String</span>.fromCharCode(<span class="hljs-literal">null</span>==n?i:n);ui(e,t,r)||e.display.input.onKeyPress(t)}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">gi</span>(<span class="hljs-params">t</span>)</span>{t.state.delayingBlurEvent=!<span class="hljs-number">0</span>,setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t.state.delayingBlurEvent&amp;&amp;(t.state.delayingBlurEvent=!<span class="hljs-number">1</span>,vi(t))},<span class="hljs-number">100</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mi</span>(<span class="hljs-params">t</span>)</span>{t.state.delayingBlurEvent&amp;&amp;(t.state.delayingBlurEvent=!<span class="hljs-number">1</span>),<span class="hljs-string">"nocursor"</span>!=t.options.readOnly&amp;&amp;(t.state.focused||(No(t,<span class="hljs-string">"focus"</span>,t),t.state.focused=!<span class="hljs-number">0</span>,Jo(t.display.wrapper,<span class="hljs-string">"CodeMirror-focused"</span>),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),_s&amp;&amp;setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t.display.input.reset(!<span class="hljs-number">0</span>)},<span class="hljs-number">20</span>)),t.display.input.receivedFocus()),Pt(t))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">vi</span>(<span class="hljs-params">t</span>)</span>{t.state.delayingBlurEvent||(t.state.focused&amp;&amp;(No(t,<span class="hljs-string">"blur"</span>,t),t.state.focused=!<span class="hljs-number">1</span>,Yo(t.display.wrapper,<span class="hljs-string">"CodeMirror-focused"</span>)),clearInterval(t.display.blinker),setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t.state.focused||(t.display.shift=!<span class="hljs-number">1</span>)},<span class="hljs-number">150</span>))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bi</span>(<span class="hljs-params">t,e</span>)</span>{Ge(t.display,e)||yi(t,e)||Tr(t,e,<span class="hljs-string">"contextmenu"</span>)||t.display.input.onContextMenu(e)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">yi</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span>!!Mr(t,<span class="hljs-string">"gutterContextMenu"</span>)&amp;&amp;Ye(t,e,<span class="hljs-string">"gutterContextMenu"</span>,!<span class="hljs-number">1</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_i</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(Ps(t,e.from)&lt;<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> t;<span class="hljs-keyword">if</span>(Ps(t,e.to)&lt;=<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> Js(e);<span class="hljs-keyword">var</span> i=t.line+e.text.length-(e.to.line-e.from.line)-<span class="hljs-number">1</span>,n=t.ch;<span class="hljs-keyword">return</span> t.line==e.to.line&amp;&amp;(n+=Js(e).ch-e.to.ch),Es(i,n)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">xi</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=[],n=<span class="hljs-number">0</span>;n&lt;t.sel.ranges.length;n++){<span class="hljs-keyword">var</span> r=t.sel.ranges[n];i.push(<span class="hljs-keyword">new</span> dt(_i(r.anchor,e),_i(r.head,e)))}<span class="hljs-keyword">return</span> ht(i,t.sel.primIndex)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">wi</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">return</span> t.line==e.line?Es(i.line,t.ch-e.ch+i.ch):Es(i.line+(t.line-e.line),t.ch)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ci</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=[],r=Es(t.first,<span class="hljs-number">0</span>),s=r,o=<span class="hljs-number">0</span>;o&lt;e.length;o++){<span class="hljs-keyword">var</span> a=e[o],l=wi(a.from,r,s),c=wi(Js(a),r,s);<span class="hljs-keyword">if</span>(r=a.to,s=c,<span class="hljs-string">"around"</span>==i){<span class="hljs-keyword">var</span> u=t.sel.ranges[o],d=Ps(u.head,u.anchor)&lt;<span class="hljs-number">0</span>;n[o]=<span class="hljs-keyword">new</span> dt(d?c:l,d?l:c)}<span class="hljs-keyword">else</span> n[o]=<span class="hljs-keyword">new</span> dt(l,l)}<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ut(n,t.sel.primIndex)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Si</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n={canceled:!<span class="hljs-number">1</span>,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.canceled=!<span class="hljs-number">0</span>}};<span class="hljs-keyword">return</span> i&amp;&amp;(n.update=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e,i,n,r</span>)</span>{e&amp;&amp;(<span class="hljs-keyword">this</span>.from=gt(t,e)),i&amp;&amp;(<span class="hljs-keyword">this</span>.to=gt(t,i)),n&amp;&amp;(<span class="hljs-keyword">this</span>.text=n),<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>!==r&amp;&amp;(<span class="hljs-keyword">this</span>.origin=r)}),No(t,<span class="hljs-string">"beforeChange"</span>,t,n),t.cm&amp;&amp;No(t.cm,<span class="hljs-string">"beforeChange"</span>,t.cm,n),n.canceled?<span class="hljs-literal">null</span>:{from:n.from,to:n.to,text:n.text,origin:n.origin}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ki</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">if</span>(t.cm){<span class="hljs-keyword">if</span>(!t.cm.curOp)<span class="hljs-keyword">return</span> Ae(t.cm,ki)(t,e,i);<span class="hljs-keyword">if</span>(t.cm.state.suppressEdits)<span class="hljs-keyword">return</span>}<span class="hljs-keyword">if</span>(!(Mr(t,<span class="hljs-string">"beforeChange"</span>)||t.cm&amp;&amp;Mr(t.cm,<span class="hljs-string">"beforeChange"</span>))||(e=Si(t,e,!<span class="hljs-number">0</span>))){<span class="hljs-keyword">var</span> n=Hs&amp;&amp;!i&amp;&amp;ln(t,e.from,e.to);<span class="hljs-keyword">if</span>(n)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=n.length-<span class="hljs-number">1</span>;r&gt;=<span class="hljs-number">0</span>;--r)Ti(t,{from:n[r].from,to:n[r].to,text:r?[<span class="hljs-string">""</span>]:e.text});<span class="hljs-keyword">else</span> Ti(t,e)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ti</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-number">1</span>!=e.text.length||<span class="hljs-string">""</span>!=e.text[<span class="hljs-number">0</span>]||<span class="hljs-number">0</span>!=Ps(e.from,e.to)){<span class="hljs-keyword">var</span> i=xi(t,e);cr(t,e,i,t.cm?t.cm.curOp.id:<span class="hljs-literal">NaN</span>),Fi(t,e,i,sn(t,e));<span class="hljs-keyword">var</span> n=[];Kn(t,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,i</span>)</span>{i||Nr(n,t.history)!=-<span class="hljs-number">1</span>||(yr(t.history,e),n.push(t.history)),Fi(t,e,<span class="hljs-literal">null</span>,sn(t,e))})}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Li</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">if</span>(!t.cm||!t.cm.state.suppressEdits){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n,r=t.history,s=t.sel,o=<span class="hljs-string">"undo"</span>==e?r.done:r.undone,a=<span class="hljs-string">"undo"</span>==e?r.undone:r.done,l=<span class="hljs-number">0</span>;l&lt;o.length&amp;&amp;(n=o[l],i?!n.ranges||n.equals(t.sel):n.ranges);l++);<span class="hljs-keyword">if</span>(l!=o.length){<span class="hljs-keyword">for</span>(r.lastOrigin=r.lastSelOrigin=<span class="hljs-literal">null</span>;n=o.pop(),n.ranges;){<span class="hljs-keyword">if</span>(hr(n,a),i&amp;&amp;!n.equals(t.sel))<span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> Tt(t,n,{clearRedo:!<span class="hljs-number">1</span>});s=n}<span class="hljs-keyword">var</span> c=[];hr(s,a),a.push({changes:c,generation:r.generation}),r.generation=n.generation||++r.maxGeneration;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> u=Mr(t,<span class="hljs-string">"beforeChange"</span>)||t.cm&amp;&amp;Mr(t.cm,<span class="hljs-string">"beforeChange"</span>),l=n.changes.length-<span class="hljs-number">1</span>;l&gt;=<span class="hljs-number">0</span>;--l){<span class="hljs-keyword">var</span> d=n.changes[l];<span class="hljs-keyword">if</span>(d.origin=e,u&amp;&amp;!Si(t,d,!<span class="hljs-number">1</span>))<span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span>(o.length=<span class="hljs-number">0</span>);c.push(or(t,d));<span class="hljs-keyword">var</span> h=l?xi(t,d):Or(o);Fi(t,d,h,an(t,d)),!l&amp;&amp;t.cm&amp;&amp;t.cm.scrollIntoView({from:d.from,to:Js(d)});<span class="hljs-keyword">var</span> f=[];Kn(t,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{e||Nr(f,t.history)!=-<span class="hljs-number">1</span>||(yr(t.history,d),f.push(t.history)),Fi(t,d,<span class="hljs-literal">null</span>,an(t,d))})}}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Mi</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-number">0</span>!=e&amp;&amp;(t.first+=e,t.sel=<span class="hljs-keyword">new</span> ut(Wr(t.sel.ranges,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> dt(Es(t.anchor.line+e,t.anchor.ch),Es(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){He(t.cm,t.first,t.first-e,e);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=t.cm.display,n=i.viewFrom;n&lt;i.viewTo;n++)ze(t.cm,n,<span class="hljs-string">"gutter"</span>)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Fi</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">if</span>(t.cm&amp;&amp;!t.cm.curOp)<span class="hljs-keyword">return</span> Ae(t.cm,Fi)(t,e,i,n);<span class="hljs-keyword">if</span>(e.to.line&lt;t.first)<span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> Mi(t,e.text.length-<span class="hljs-number">1</span>-(e.to.line-e.from.line));<span class="hljs-keyword">if</span>(!(e.from.line&gt;t.lastLine())){
<span class="hljs-keyword">if</span>(e.from.line&lt;t.first){<span class="hljs-keyword">var</span> r=e.text.length-<span class="hljs-number">1</span>-(t.first-e.from.line);Mi(t,r),e={from:Es(t.first,<span class="hljs-number">0</span>),to:Es(e.to.line+r,e.to.ch),text:[Or(e.text)],origin:e.origin}}<span class="hljs-keyword">var</span> s=t.lastLine();e.to.line&gt;s&amp;&amp;(e={from:e.from,to:Es(s,Yn(t,s).text.length),text:[e.text[<span class="hljs-number">0</span>]],origin:e.origin}),e.removed=Jn(t,e.from,e.to),i||(i=xi(t,e)),t.cm?Ai(t.cm,e,n):Un(t,e,n),Lt(t,i,Eo)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ai</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t.doc,r=t.display,o=e.from,a=e.to,l=!<span class="hljs-number">1</span>,c=o.line;t.options.lineWrapping||(c=er(bn(Yn(n,o.line))),n.iter(c,a.line+<span class="hljs-number">1</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(t==r.maxLine)<span class="hljs-keyword">return</span> l=!<span class="hljs-number">0</span>,!<span class="hljs-number">0</span>})),n.sel.contains(e.from,e.to)&gt;-<span class="hljs-number">1</span>&amp;&amp;Lr(t),Un(n,e,i,s(t)),t.options.lineWrapping||(n.iter(c,o.line+e.text.length,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=d(t);e&gt;r.maxLineLength&amp;&amp;(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!<span class="hljs-number">0</span>,l=!<span class="hljs-number">1</span>)}),l&amp;&amp;(t.curOp.updateMaxLine=!<span class="hljs-number">0</span>)),n.frontier=<span class="hljs-built_in">Math</span>.min(n.frontier,o.line),It(t,<span class="hljs-number">400</span>);<span class="hljs-keyword">var</span> u=e.text.length-(a.line-o.line)-<span class="hljs-number">1</span>;e.full?He(t):o.line!=a.line||<span class="hljs-number">1</span>!=e.text.length||Gn(t.doc,e)?He(t,o.line,a.line+<span class="hljs-number">1</span>,u):ze(t,o.line,<span class="hljs-string">"text"</span>);<span class="hljs-keyword">var</span> h=Mr(t,<span class="hljs-string">"changes"</span>),f=Mr(t,<span class="hljs-string">"change"</span>);<span class="hljs-keyword">if</span>(f||h){<span class="hljs-keyword">var</span> p={from:o,to:a,text:e.text,removed:e.removed,origin:e.origin};f&amp;&amp;Sr(t,<span class="hljs-string">"change"</span>,t,p),h&amp;&amp;(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(p)}t.display.selForContextMenu=<span class="hljs-literal">null</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Di</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{<span class="hljs-keyword">if</span>(n||(n=i),Ps(n,i)&lt;<span class="hljs-number">0</span>){<span class="hljs-keyword">var</span> s=n;n=i,i=s}<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;(e=t.splitLines(e)),ki(t,{from:i,to:n,text:e,origin:r})}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Oi</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(!Tr(t,<span class="hljs-string">"scrollCursorIntoView"</span>)){<span class="hljs-keyword">var</span> i=t.display,n=i.sizer.getBoundingClientRect(),r=<span class="hljs-literal">null</span>;<span class="hljs-keyword">if</span>(e.top+n.top&lt;<span class="hljs-number">0</span>?r=!<span class="hljs-number">0</span>:e.bottom+n.top&gt;(<span class="hljs-built_in">window</span>.innerHeight||<span class="hljs-built_in">document</span>.documentElement.clientHeight)&amp;&amp;(r=!<span class="hljs-number">1</span>),<span class="hljs-literal">null</span>!=r&amp;&amp;!Ts){<span class="hljs-keyword">var</span> s=Rr(<span class="hljs-string">"div"</span>,<span class="hljs-string">"​"</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"position: absolute; top: "</span>+(e.top-i.viewOffset-Bt(t.display))+<span class="hljs-string">"px; height: "</span>+(e.bottom-e.top+Ut(t)+i.barHeight)+<span class="hljs-string">"px; left: "</span>+e.left+<span class="hljs-string">"px; width: 2px;"</span>);t.display.lineSpace.appendChild(s),s.scrollIntoView(r),t.display.lineSpace.removeChild(s)}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ni</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-literal">null</span>==n&amp;&amp;(n=<span class="hljs-number">0</span>);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=<span class="hljs-number">0</span>;r&lt;<span class="hljs-number">5</span>;r++){<span class="hljs-keyword">var</span> s=!<span class="hljs-number">1</span>,o=fe(t,e),a=i&amp;&amp;i!=e?fe(t,i):o,l=Hi(t,<span class="hljs-built_in">Math</span>.min(o.left,a.left),<span class="hljs-built_in">Math</span>.min(o.top,a.top)-n,<span class="hljs-built_in">Math</span>.max(o.left,a.left),<span class="hljs-built_in">Math</span>.max(o.bottom,a.bottom)+n),c=t.doc.scrollTop,u=t.doc.scrollLeft;<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=l.scrollTop&amp;&amp;(ni(t,l.scrollTop),<span class="hljs-built_in">Math</span>.abs(t.doc.scrollTop-c)&gt;<span class="hljs-number">1</span>&amp;&amp;(s=!<span class="hljs-number">0</span>)),<span class="hljs-literal">null</span>!=l.scrollLeft&amp;&amp;(ri(t,l.scrollLeft),<span class="hljs-built_in">Math</span>.abs(t.doc.scrollLeft-u)&gt;<span class="hljs-number">1</span>&amp;&amp;(s=!<span class="hljs-number">0</span>)),!s)<span class="hljs-keyword">break</span>}<span class="hljs-keyword">return</span> o}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Wi</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{<span class="hljs-keyword">var</span> s=Hi(t,e,i,n,r);<span class="hljs-literal">null</span>!=s.scrollTop&amp;&amp;ni(t,s.scrollTop),<span class="hljs-literal">null</span>!=s.scrollLeft&amp;&amp;ri(t,s.scrollLeft)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Hi</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{<span class="hljs-keyword">var</span> s=t.display,o=be(t.display);i&lt;<span class="hljs-number">0</span>&amp;&amp;(i=<span class="hljs-number">0</span>);<span class="hljs-keyword">var</span> a=t.curOp&amp;&amp;<span class="hljs-literal">null</span>!=t.curOp.scrollTop?t.curOp.scrollTop:s.scroller.scrollTop,l=Zt(t),c={};r-i&gt;l&amp;&amp;(r=i+l);<span class="hljs-keyword">var</span> u=t.doc.height+qt(s),d=i&lt;o,h=r&gt;u-o;<span class="hljs-keyword">if</span>(i&lt;a)c.scrollTop=d?<span class="hljs-number">0</span>:i;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(r&gt;a+l){<span class="hljs-keyword">var</span> f=<span class="hljs-built_in">Math</span>.min(i,(h?u:r)-l);f!=a&amp;&amp;(c.scrollTop=f)}<span class="hljs-keyword">var</span> p=t.curOp&amp;&amp;<span class="hljs-literal">null</span>!=t.curOp.scrollLeft?t.curOp.scrollLeft:s.scroller.scrollLeft,g=Vt(t)-(t.options.fixedGutter?s.gutters.offsetWidth:<span class="hljs-number">0</span>),m=n-e&gt;g;<span class="hljs-keyword">return</span> m&amp;&amp;(n=e+g),e&lt;<span class="hljs-number">10</span>?c.scrollLeft=<span class="hljs-number">0</span>:e&lt;p?c.scrollLeft=<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,e-(m?<span class="hljs-number">0</span>:<span class="hljs-number">10</span>)):n&gt;g+p-<span class="hljs-number">3</span>&amp;&amp;(c.scrollLeft=n+(m?<span class="hljs-number">0</span>:<span class="hljs-number">10</span>)-g),c}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">zi</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-literal">null</span>==e&amp;&amp;<span class="hljs-literal">null</span>==i||Pi(t),<span class="hljs-literal">null</span>!=e&amp;&amp;(t.curOp.scrollLeft=(<span class="hljs-literal">null</span>==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),<span class="hljs-literal">null</span>!=i&amp;&amp;(t.curOp.scrollTop=(<span class="hljs-literal">null</span>==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+i)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ei</span>(<span class="hljs-params">t</span>)</span>{Pi(t);<span class="hljs-keyword">var</span> e=t.getCursor(),i=e,n=e;t.options.lineWrapping||(i=e.ch?Es(e.line,e.ch-<span class="hljs-number">1</span>):e,n=Es(e.line,e.ch+<span class="hljs-number">1</span>)),t.curOp.scrollToPos={from:i,to:n,margin:t.options.cursorScrollMargin,isCursor:!<span class="hljs-number">0</span>}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Pi</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.curOp.scrollToPos;<span class="hljs-keyword">if</span>(e){t.curOp.scrollToPos=<span class="hljs-literal">null</span>;<span class="hljs-keyword">var</span> i=pe(t,e.from),n=pe(t,e.to),r=Hi(t,<span class="hljs-built_in">Math</span>.min(i.left,n.left),<span class="hljs-built_in">Math</span>.min(i.top,n.top)-e.margin,<span class="hljs-built_in">Math</span>.max(i.right,n.right),<span class="hljs-built_in">Math</span>.max(i.bottom,n.bottom)+e.margin);t.scrollTo(r.scrollLeft,r.scrollTop)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ii</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r,s=t.doc;<span class="hljs-literal">null</span>==i&amp;&amp;(i=<span class="hljs-string">"add"</span>),<span class="hljs-string">"smart"</span>==i&amp;&amp;(s.mode.indent?r=Rt(t,e):i=<span class="hljs-string">"prev"</span>);<span class="hljs-keyword">var</span> o=t.options.tabSize,a=Yn(s,e),l=$o(a.text,<span class="hljs-literal">null</span>,o);a.stateAfter&amp;&amp;(a.stateAfter=<span class="hljs-literal">null</span>);<span class="hljs-keyword">var</span> c,u=a.text.match(<span class="hljs-regexp">/^\s*/</span>)[<span class="hljs-number">0</span>];<span class="hljs-keyword">if</span>(n||<span class="hljs-regexp">/\S/</span>.test(a.text)){<span class="hljs-keyword">if</span>(<span class="hljs-string">"smart"</span>==i&amp;&amp;(c=s.mode.indent(r,a.text.slice(u.length),a.text),c==zo||c&gt;<span class="hljs-number">150</span>)){<span class="hljs-keyword">if</span>(!n)<span class="hljs-keyword">return</span>;i=<span class="hljs-string">"prev"</span>}}<span class="hljs-keyword">else</span> c=<span class="hljs-number">0</span>,i=<span class="hljs-string">"not"</span>;<span class="hljs-string">"prev"</span>==i?c=e&gt;s.first?$o(Yn(s,e-<span class="hljs-number">1</span>).text,<span class="hljs-literal">null</span>,o):<span class="hljs-number">0</span>:<span class="hljs-string">"add"</span>==i?c=l+t.options.indentUnit:<span class="hljs-string">"subtract"</span>==i?c=l-t.options.indentUnit:<span class="hljs-string">"number"</span>==<span class="hljs-keyword">typeof</span> i&amp;&amp;(c=l+i),c=<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,c);<span class="hljs-keyword">var</span> d=<span class="hljs-string">""</span>,h=<span class="hljs-number">0</span>;<span class="hljs-keyword">if</span>(t.options.indentWithTabs)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> f=<span class="hljs-built_in">Math</span>.floor(c/o);f;--f)h+=o,d+=<span class="hljs-string">"\t"</span>;<span class="hljs-keyword">if</span>(h&lt;c&amp;&amp;(d+=Dr(c-h)),d!=u)<span class="hljs-keyword">return</span> Di(s,d,Es(e,<span class="hljs-number">0</span>),Es(e,u.length),<span class="hljs-string">"+input"</span>),a.stateAfter=<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> f=<span class="hljs-number">0</span>;f&lt;s.sel.ranges.length;f++){<span class="hljs-keyword">var</span> p=s.sel.ranges[f];<span class="hljs-keyword">if</span>(p.head.line==e&amp;&amp;p.head.ch&lt;u.length){<span class="hljs-keyword">var</span> h=Es(e,u.length);wt(s,f,<span class="hljs-keyword">new</span> dt(h,h));<span class="hljs-keyword">break</span>}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">$i</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=e,s=e;<span class="hljs-keyword">return</span><span class="hljs-string">"number"</span>==<span class="hljs-keyword">typeof</span> e?s=Yn(t,pt(t,e)):r=er(e),<span class="hljs-literal">null</span>==r?<span class="hljs-literal">null</span>:(n(s,r)&amp;&amp;t.cm&amp;&amp;ze(t.cm,r,i),s)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ji</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=t.doc.sel.ranges,n=[],r=<span class="hljs-number">0</span>;r&lt;i.length;r++){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> s=e(i[r]);n.length&amp;&amp;Ps(s.from,Or(n).to)&lt;=<span class="hljs-number">0</span>;){<span class="hljs-keyword">var</span> o=n.pop();<span class="hljs-keyword">if</span>(Ps(o.from,s.from)&lt;<span class="hljs-number">0</span>){s.from=o.from;<span class="hljs-keyword">break</span>}}n.push(s)}Fe(t,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=n.length-<span class="hljs-number">1</span>;e&gt;=<span class="hljs-number">0</span>;e--)Di(t.doc,<span class="hljs-string">""</span>,n[e].from,n[e].to,<span class="hljs-string">"+delete"</span>);Ei(t)})}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ri</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> e=a+i;<span class="hljs-keyword">return</span>!(e&lt;t.first||e&gt;=t.first+t.size)&amp;&amp;(a=e,u=Yn(t,e))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=(r?ds:hs)(u,l,i,!<span class="hljs-number">0</span>);<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>==e){<span class="hljs-keyword">if</span>(t||!s())<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;l=r?(i&lt;<span class="hljs-number">0</span>?rs:ns)(u):i&lt;<span class="hljs-number">0</span>?u.text.length:<span class="hljs-number">0</span>}<span class="hljs-keyword">else</span> l=e;<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>}<span class="hljs-keyword">var</span> a=e.line,l=e.ch,c=i,u=Yn(t,a);<span class="hljs-keyword">if</span>(<span class="hljs-string">"char"</span>==n)o();<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">"column"</span>==n)o(!<span class="hljs-number">0</span>);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">"word"</span>==n||<span class="hljs-string">"group"</span>==n)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d=<span class="hljs-literal">null</span>,h=<span class="hljs-string">"group"</span>==n,f=t.cm&amp;&amp;t.cm.getHelper(e,<span class="hljs-string">"wordChars"</span>),p=!<span class="hljs-number">0</span>;!(i&lt;<span class="hljs-number">0</span>)||o(!p);p=!<span class="hljs-number">1</span>){<span class="hljs-keyword">var</span> g=u.text.charAt(l)||<span class="hljs-string">"\n"</span>,m=Ir(g,f)?<span class="hljs-string">"w"</span>:h&amp;&amp;<span class="hljs-string">"\n"</span>==g?<span class="hljs-string">"n"</span>:!h||<span class="hljs-regexp">/\s/</span>.test(g)?<span class="hljs-literal">null</span>:<span class="hljs-string">"p"</span>;<span class="hljs-keyword">if</span>(!h||p||m||(m=<span class="hljs-string">"s"</span>),d&amp;&amp;d!=m){i&lt;<span class="hljs-number">0</span>&amp;&amp;(i=<span class="hljs-number">1</span>,o());<span class="hljs-keyword">break</span>}<span class="hljs-keyword">if</span>(m&amp;&amp;(d=m),i&gt;<span class="hljs-number">0</span>&amp;&amp;!o(!p))<span class="hljs-keyword">break</span>}<span class="hljs-keyword">var</span> v=Ot(t,Es(a,l),e,c,!<span class="hljs-number">0</span>);<span class="hljs-keyword">return</span> Ps(e,v)||(v.hitSide=!<span class="hljs-number">0</span>),v}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Bi</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r,s=t.doc,o=e.left;<span class="hljs-keyword">if</span>(<span class="hljs-string">"page"</span>==n){<span class="hljs-keyword">var</span> a=<span class="hljs-built_in">Math</span>.min(t.display.wrapper.clientHeight,<span class="hljs-built_in">window</span>.innerHeight||<span class="hljs-built_in">document</span>.documentElement.clientHeight);r=e.top+i*(a-(i&lt;<span class="hljs-number">0</span>?<span class="hljs-number">1.5</span>:<span class="hljs-number">.5</span>)*be(t.display))}<span class="hljs-keyword">else</span><span class="hljs-string">"line"</span>==n&amp;&amp;(r=i&gt;<span class="hljs-number">0</span>?e.bottom+<span class="hljs-number">3</span>:e.top-<span class="hljs-number">3</span>);<span class="hljs-keyword">for</span>(;;){<span class="hljs-keyword">var</span> l=me(t,o,r);<span class="hljs-keyword">if</span>(!l.outside)<span class="hljs-keyword">break</span>;<span class="hljs-keyword">if</span>(i&lt;<span class="hljs-number">0</span>?r&lt;=<span class="hljs-number">0</span>:r&gt;=s.height){l.hitSide=!<span class="hljs-number">0</span>;<span class="hljs-keyword">break</span>}r+=<span class="hljs-number">5</span>*i}<span class="hljs-keyword">return</span> l}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">qi</span>(<span class="hljs-params">e,i,n,r</span>)</span>{t.defaults[e]=i,n&amp;&amp;(to[e]=r?<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e,i</span>)</span>{i!=eo&amp;&amp;n(t,e,i)}:n)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Gi</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e,i,n,r,s=t.split(<span class="hljs-regexp">/-(?!$)/</span>),t=s[s.length-<span class="hljs-number">1</span>],o=<span class="hljs-number">0</span>;o&lt;s.length-<span class="hljs-number">1</span>;o++){<span class="hljs-keyword">var</span> a=s[o];<span class="hljs-keyword">if</span>(<span class="hljs-regexp">/^(cmd|meta|m)$/i</span>.test(a))r=!<span class="hljs-number">0</span>;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-regexp">/^a(lt)?$/i</span>.test(a))e=!<span class="hljs-number">0</span>;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-regexp">/^(c|ctrl|control)$/i</span>.test(a))i=!<span class="hljs-number">0</span>;<span class="hljs-keyword">else</span>{<span class="hljs-keyword">if</span>(!<span class="hljs-regexp">/^s(hift)$/i</span>.test(a))<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Unrecognized modifier name: "</span>+a);n=!<span class="hljs-number">0</span>}}<span class="hljs-keyword">return</span> e&amp;&amp;(t=<span class="hljs-string">"Alt-"</span>+t),i&amp;&amp;(t=<span class="hljs-string">"Ctrl-"</span>+t),r&amp;&amp;(t=<span class="hljs-string">"Cmd-"</span>+t),n&amp;&amp;(t=<span class="hljs-string">"Shift-"</span>+t),t}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ui</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> t?uo[t]:t}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Vi</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{<span class="hljs-keyword">if</span>(n&amp;&amp;n.shared)<span class="hljs-keyword">return</span> Zi(t,e,i,n,r);<span class="hljs-keyword">if</span>(t.cm&amp;&amp;!t.cm.curOp)<span class="hljs-keyword">return</span> Ae(t.cm,Vi)(t,e,i,n,r);<span class="hljs-keyword">var</span> s=<span class="hljs-keyword">new</span> vo(t,r),o=Ps(e,i);<span class="hljs-keyword">if</span>(n&amp;&amp;Er(n,s,!<span class="hljs-number">1</span>),o&gt;<span class="hljs-number">0</span>||<span class="hljs-number">0</span>==o&amp;&amp;s.clearWhenEmpty!==!<span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> s;<span class="hljs-keyword">if</span>(s.replacedWith&amp;&amp;(s.collapsed=!<span class="hljs-number">0</span>,s.widgetNode=Rr(<span class="hljs-string">"span"</span>,[s.replacedWith],<span class="hljs-string">"CodeMirror-widget"</span>),n.handleMouseEvents||s.widgetNode.setAttribute(<span class="hljs-string">"cm-ignore-events"</span>,<span class="hljs-string">"true"</span>),n.insertLeft&amp;&amp;(s.widgetNode.insertLeft=!<span class="hljs-number">0</span>)),s.collapsed){<span class="hljs-keyword">if</span>(vn(t,e.line,e,i,s)||e.line!=i.line&amp;&amp;vn(t,i.line,e,i,s))<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Inserting collapsed marker partially overlapping an existing one"</span>);zs=!<span class="hljs-number">0</span>}s.addToHistory&amp;&amp;cr(t,{from:e,to:i,origin:<span class="hljs-string">"markText"</span>},t.sel,<span class="hljs-literal">NaN</span>);<span class="hljs-keyword">var</span> a,l=e.line,c=t.cm;<span class="hljs-keyword">if</span>(t.iter(l,i.line+<span class="hljs-number">1</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{c&amp;&amp;s.collapsed&amp;&amp;!c.options.lineWrapping&amp;&amp;bn(t)==c.display.maxLine&amp;&amp;(a=!<span class="hljs-number">0</span>),s.collapsed&amp;&amp;l!=e.line&amp;&amp;tr(t,<span class="hljs-number">0</span>),en(t,<span class="hljs-keyword">new</span> Ji(s,l==e.line?e.ch:<span class="hljs-literal">null</span>,l==i.line?i.ch:<span class="hljs-literal">null</span>)),++l}),s.collapsed&amp;&amp;t.iter(e.line,i.line+<span class="hljs-number">1</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{wn(t,e)&amp;&amp;tr(e,<span class="hljs-number">0</span>)}),s.clearOnEnter&amp;&amp;Ao(s,<span class="hljs-string">"beforeCursorEnter"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{s.clear()}),s.readOnly&amp;&amp;(Hs=!<span class="hljs-number">0</span>,(t.history.done.length||t.history.undone.length)&amp;&amp;t.clearHistory()),s.collapsed&amp;&amp;(s.id=++mo,s.atomic=!<span class="hljs-number">0</span>),c){<span class="hljs-keyword">if</span>(a&amp;&amp;(c.curOp.updateMaxLine=!<span class="hljs-number">0</span>),s.collapsed)He(c,e.line,i.line+<span class="hljs-number">1</span>);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s.className||s.title||s.startStyle||s.endStyle||s.css)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> u=e.line;u&lt;=i.line;u++)ze(c,u,<span class="hljs-string">"text"</span>);s.atomic&amp;&amp;Ft(c.doc),Sr(c,<span class="hljs-string">"markerAdded"</span>,c,s)}<span class="hljs-keyword">return</span> s}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Zi</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{n=Er(n),n.shared=!<span class="hljs-number">1</span>;<span class="hljs-keyword">var</span> s=[Vi(t,e,i,n,r)],o=s[<span class="hljs-number">0</span>],a=n.widgetNode;<span class="hljs-keyword">return</span> Kn(t,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{a&amp;&amp;(n.widgetNode=a.cloneNode(!<span class="hljs-number">0</span>)),s.push(Vi(t,gt(t,e),gt(t,i),n,r));<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> l=<span class="hljs-number">0</span>;l&lt;t.linked.length;++l)<span class="hljs-keyword">if</span>(t.linked[l].isParent)<span class="hljs-keyword">return</span>;o=Or(s)}),<span class="hljs-keyword">new</span> bo(s,o)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ki</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.findMarks(Es(t.first,<span class="hljs-number">0</span>),t.clipPos(Es(t.lastLine())),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.parent})}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Xi</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;e.length;i++){<span class="hljs-keyword">var</span> n=e[i],r=n.find(),s=t.clipPos(r.from),o=t.clipPos(r.to);<span class="hljs-keyword">if</span>(Ps(s,o)){<span class="hljs-keyword">var</span> a=Vi(t,s,o,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Yi</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>;e&lt;t.length;e++){<span class="hljs-keyword">var</span> i=t[e],n=[i.primary.doc];Kn(i.primary.doc,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{n.push(t)});<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=<span class="hljs-number">0</span>;r&lt;i.markers.length;r++){<span class="hljs-keyword">var</span> s=i.markers[r];Nr(n,s.doc)==-<span class="hljs-number">1</span>&amp;&amp;(s.parent=<span class="hljs-literal">null</span>,i.markers.splice(r--,<span class="hljs-number">1</span>))}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ji</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">this</span>.marker=t,<span class="hljs-keyword">this</span>.from=e,<span class="hljs-keyword">this</span>.to=i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Qi</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(t)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;t.length;++i){<span class="hljs-keyword">var</span> n=t[i];<span class="hljs-keyword">if</span>(n.marker==e)<span class="hljs-keyword">return</span> n}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tn</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i,n=<span class="hljs-number">0</span>;n&lt;t.length;++n)t[n]!=e&amp;&amp;(i||(i=[])).push(t[n]);<span class="hljs-keyword">return</span> i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">en</span>(<span class="hljs-params">t,e</span>)</span>{t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nn</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">if</span>(t)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n,r=<span class="hljs-number">0</span>;r&lt;t.length;++r){<span class="hljs-keyword">var</span> s=t[r],o=s.marker,a=<span class="hljs-literal">null</span>==s.from||(o.inclusiveLeft?s.from&lt;=e:s.from&lt;e);<span class="hljs-keyword">if</span>(a||s.from==e&amp;&amp;<span class="hljs-string">"bookmark"</span>==o.type&amp;&amp;(!i||!s.marker.insertLeft)){<span class="hljs-keyword">var</span> l=<span class="hljs-literal">null</span>==s.to||(o.inclusiveRight?s.to&gt;=e:s.to&gt;e);(n||(n=[])).push(<span class="hljs-keyword">new</span> Ji(o,s.from,l?<span class="hljs-literal">null</span>:s.to))}}<span class="hljs-keyword">return</span> n}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rn</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">if</span>(t)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n,r=<span class="hljs-number">0</span>;r&lt;t.length;++r){<span class="hljs-keyword">var</span> s=t[r],o=s.marker,a=<span class="hljs-literal">null</span>==s.to||(o.inclusiveRight?s.to&gt;=e:s.to&gt;e);<span class="hljs-keyword">if</span>(a||s.from==e&amp;&amp;<span class="hljs-string">"bookmark"</span>==o.type&amp;&amp;(!i||s.marker.insertLeft)){<span class="hljs-keyword">var</span> l=<span class="hljs-literal">null</span>==s.from||(o.inclusiveLeft?s.from&lt;=e:s.from&lt;e);(n||(n=[])).push(<span class="hljs-keyword">new</span> Ji(o,l?<span class="hljs-literal">null</span>:s.from-e,<span class="hljs-literal">null</span>==s.to?<span class="hljs-literal">null</span>:s.to-e))}}<span class="hljs-keyword">return</span> n}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sn</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(e.full)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">var</span> i=vt(t,e.from.line)&amp;&amp;Yn(t,e.from.line).markedSpans,n=vt(t,e.to.line)&amp;&amp;Yn(t,e.to.line).markedSpans;<span class="hljs-keyword">if</span>(!i&amp;&amp;!n)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">var</span> r=e.from.ch,s=e.to.ch,o=<span class="hljs-number">0</span>==Ps(e.from,e.to),a=nn(i,r,o),l=rn(n,s,o),c=<span class="hljs-number">1</span>==e.text.length,u=Or(e.text).length+(c?r:<span class="hljs-number">0</span>);<span class="hljs-keyword">if</span>(a)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d=<span class="hljs-number">0</span>;d&lt;a.length;++d){<span class="hljs-keyword">var</span> h=a[d];<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>==h.to){<span class="hljs-keyword">var</span> f=Qi(l,h.marker);f?c&amp;&amp;(h.to=<span class="hljs-literal">null</span>==f.to?<span class="hljs-literal">null</span>:f.to+u):h.to=r}}<span class="hljs-keyword">if</span>(l)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d=<span class="hljs-number">0</span>;d&lt;l.length;++d){<span class="hljs-keyword">var</span> h=l[d];<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=h.to&amp;&amp;(h.to+=u),<span class="hljs-literal">null</span>==h.from){<span class="hljs-keyword">var</span> f=Qi(a,h.marker);f||(h.from=u,c&amp;&amp;(a||(a=[])).push(h))}<span class="hljs-keyword">else</span> h.from+=u,c&amp;&amp;(a||(a=[])).push(h)}a&amp;&amp;(a=on(a)),l&amp;&amp;l!=a&amp;&amp;(l=on(l));<span class="hljs-keyword">var</span> p=[a];<span class="hljs-keyword">if</span>(!c){<span class="hljs-keyword">var</span> g,m=e.text.length-<span class="hljs-number">2</span>;<span class="hljs-keyword">if</span>(m&gt;<span class="hljs-number">0</span>&amp;&amp;a)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d=<span class="hljs-number">0</span>;d&lt;a.length;++d)<span class="hljs-literal">null</span>==a[d].to&amp;&amp;(g||(g=[])).push(<span class="hljs-keyword">new</span> Ji(a[d].marker,<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>));<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d=<span class="hljs-number">0</span>;d&lt;m;++d)p.push(g);p.push(l)}<span class="hljs-keyword">return</span> p}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">on</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>;e&lt;t.length;++e){<span class="hljs-keyword">var</span> i=t[e];<span class="hljs-literal">null</span>!=i.from&amp;&amp;i.from==i.to&amp;&amp;i.marker.clearWhenEmpty!==!<span class="hljs-number">1</span>&amp;&amp;t.splice(e--,<span class="hljs-number">1</span>)}<span class="hljs-keyword">return</span> t.length?t:<span class="hljs-literal">null</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">an</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=gr(t,e),n=sn(t,e);<span class="hljs-keyword">if</span>(!i)<span class="hljs-keyword">return</span> n;<span class="hljs-keyword">if</span>(!n)<span class="hljs-keyword">return</span> i;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=<span class="hljs-number">0</span>;r&lt;i.length;++r){<span class="hljs-keyword">var</span> s=i[r],o=n[r];<span class="hljs-keyword">if</span>(s&amp;&amp;o)t:<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-number">0</span>;a&lt;o.length;++a){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> l=o[a],c=<span class="hljs-number">0</span>;c&lt;s.length;++c)<span class="hljs-keyword">if</span>(s[c].marker==l.marker)<span class="hljs-keyword">continue</span> t;s.push(l)}<span class="hljs-keyword">else</span> o&amp;&amp;(i[r]=o)}<span class="hljs-keyword">return</span> i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ln</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=<span class="hljs-literal">null</span>;<span class="hljs-keyword">if</span>(t.iter(e.line,i.line+<span class="hljs-number">1</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(t.markedSpans)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>;e&lt;t.markedSpans.length;++e){<span class="hljs-keyword">var</span> i=t.markedSpans[e].marker;!i.readOnly||n&amp;&amp;Nr(n,i)!=-<span class="hljs-number">1</span>||(n||(n=[])).push(i)}}),!n)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=[{from:e,to:i}],s=<span class="hljs-number">0</span>;s&lt;n.length;++s)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o=n[s],a=o.find(<span class="hljs-number">0</span>),l=<span class="hljs-number">0</span>;l&lt;r.length;++l){<span class="hljs-keyword">var</span> c=r[l];<span class="hljs-keyword">if</span>(!(Ps(c.to,a.from)&lt;<span class="hljs-number">0</span>||Ps(c.from,a.to)&gt;<span class="hljs-number">0</span>)){<span class="hljs-keyword">var</span> u=[l,<span class="hljs-number">1</span>],d=Ps(c.from,a.from),h=Ps(c.to,a.to);(d&lt;<span class="hljs-number">0</span>||!o.inclusiveLeft&amp;&amp;!d)&amp;&amp;u.push({from:c.from,to:a.from}),(h&gt;<span class="hljs-number">0</span>||!o.inclusiveRight&amp;&amp;!h)&amp;&amp;u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-<span class="hljs-number">1</span>}}<span class="hljs-keyword">return</span> r}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cn</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.markedSpans;<span class="hljs-keyword">if</span>(e){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;e.length;++i)e[i].marker.detachLine(t);t.markedSpans=<span class="hljs-literal">null</span>}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">un</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(e){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dn</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.inclusiveLeft?-<span class="hljs-number">1</span>:<span class="hljs-number">0</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hn</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.inclusiveRight?<span class="hljs-number">1</span>:<span class="hljs-number">0</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=t.lines.length-e.lines.length;<span class="hljs-keyword">if</span>(<span class="hljs-number">0</span>!=i)<span class="hljs-keyword">return</span> i;<span class="hljs-keyword">var</span> n=t.find(),r=e.find(),s=Ps(n.from,r.from)||dn(t)-dn(e);<span class="hljs-keyword">if</span>(s)<span class="hljs-keyword">return</span>-s;<span class="hljs-keyword">var</span> o=Ps(n.to,r.to)||hn(t)-hn(e);<span class="hljs-keyword">return</span> o?o:e.id-t.id}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pn</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i,n=zs&amp;&amp;t.markedSpans;<span class="hljs-keyword">if</span>(n)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r,s=<span class="hljs-number">0</span>;s&lt;n.length;++s)r=n[s],r.marker.collapsed&amp;&amp;<span class="hljs-literal">null</span>==(e?r.from:r.to)&amp;&amp;(!i||fn(i,r.marker)&lt;<span class="hljs-number">0</span>)&amp;&amp;(i=r.marker);<span class="hljs-keyword">return</span> i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">gn</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> pn(t,!<span class="hljs-number">0</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mn</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> pn(t,!<span class="hljs-number">1</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">vn</span>(<span class="hljs-params">t,e,i,n,r</span>)</span>{<span class="hljs-keyword">var</span> s=Yn(t,e),o=zs&amp;&amp;s.markedSpans;<span class="hljs-keyword">if</span>(o)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-number">0</span>;a&lt;o.length;++a){<span class="hljs-keyword">var</span> l=o[a];<span class="hljs-keyword">if</span>(l.marker.collapsed){<span class="hljs-keyword">var</span> c=l.marker.find(<span class="hljs-number">0</span>),u=Ps(c.from,i)||dn(l.marker)-dn(r),d=Ps(c.to,n)||hn(l.marker)-hn(r);<span class="hljs-keyword">if</span>(!(u&gt;=<span class="hljs-number">0</span>&amp;&amp;d&lt;=<span class="hljs-number">0</span>||u&lt;=<span class="hljs-number">0</span>&amp;&amp;d&gt;=<span class="hljs-number">0</span>)&amp;&amp;(u&lt;=<span class="hljs-number">0</span>&amp;&amp;(Ps(c.to,i)&gt;<span class="hljs-number">0</span>||l.marker.inclusiveRight&amp;&amp;r.inclusiveLeft)||u&gt;=<span class="hljs-number">0</span>&amp;&amp;(Ps(c.from,n)&lt;<span class="hljs-number">0</span>||l.marker.inclusiveLeft&amp;&amp;r.inclusiveRight)))<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bn</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e;e=gn(t);)t=e.find(-<span class="hljs-number">1</span>,!<span class="hljs-number">0</span>).line;<span class="hljs-keyword">return</span> t}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">yn</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e,i;e=mn(t);)t=e.find(<span class="hljs-number">1</span>,!<span class="hljs-number">0</span>).line,(i||(i=[])).push(t);<span class="hljs-keyword">return</span> i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_n</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=Yn(t,e),n=bn(i);<span class="hljs-keyword">return</span> i==n?e:er(n)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">xn</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(e&gt;t.lastLine())<span class="hljs-keyword">return</span> e;<span class="hljs-keyword">var</span> i,n=Yn(t,e);<span class="hljs-keyword">if</span>(!wn(t,n))<span class="hljs-keyword">return</span> e;<span class="hljs-keyword">for</span>(;i=mn(n);)n=i.find(<span class="hljs-number">1</span>,!<span class="hljs-number">0</span>).line;<span class="hljs-keyword">return</span> er(n)+<span class="hljs-number">1</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">wn</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=zs&amp;&amp;e.markedSpans;<span class="hljs-keyword">if</span>(i)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n,r=<span class="hljs-number">0</span>;r&lt;i.length;++r)<span class="hljs-keyword">if</span>(n=i[r],n.marker.collapsed){<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>==n.from)<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>;<span class="hljs-keyword">if</span>(!n.marker.widgetNode&amp;&amp;<span class="hljs-number">0</span>==n.from&amp;&amp;n.marker.inclusiveLeft&amp;&amp;Cn(t,e,n))<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Cn</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>==i.to){<span class="hljs-keyword">var</span> n=i.marker.find(<span class="hljs-number">1</span>,!<span class="hljs-number">0</span>);<span class="hljs-keyword">return</span> Cn(t,n.line,Qi(n.line.markedSpans,i.marker))}<span class="hljs-keyword">if</span>(i.marker.inclusiveRight&amp;&amp;i.to==e.text.length)<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r,s=<span class="hljs-number">0</span>;s&lt;e.markedSpans.length;++s)<span class="hljs-keyword">if</span>(r=e.markedSpans[s],r.marker.collapsed&amp;&amp;!r.marker.widgetNode&amp;&amp;r.from==i.to&amp;&amp;(<span class="hljs-literal">null</span>==r.to||r.to!=i.from)&amp;&amp;(r.marker.inclusiveLeft||i.marker.inclusiveRight)&amp;&amp;Cn(t,e,r))<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Sn</span>(<span class="hljs-params">t,e,i</span>)</span>{nr(e)&lt;(t.curOp&amp;&amp;t.curOp.scrollTop||t.doc.scrollTop)&amp;&amp;zi(t,<span class="hljs-literal">null</span>,i)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">kn</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=t.height)<span class="hljs-keyword">return</span> t.height;<span class="hljs-keyword">var</span> e=t.doc.cm;<span class="hljs-keyword">if</span>(!e)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<span class="hljs-keyword">if</span>(!Zo(<span class="hljs-built_in">document</span>.body,t.node)){<span class="hljs-keyword">var</span> i=<span class="hljs-string">"position: relative;"</span>;t.coverGutter&amp;&amp;(i+=<span class="hljs-string">"margin-left: -"</span>+e.display.gutters.offsetWidth+<span class="hljs-string">"px;"</span>),t.noHScroll&amp;&amp;(i+=<span class="hljs-string">"width: "</span>+e.display.wrapper.clientWidth+<span class="hljs-string">"px;"</span>),qr(e.display.measure,Rr(<span class="hljs-string">"div"</span>,[t.node],<span class="hljs-literal">null</span>,i))}<span class="hljs-keyword">return</span> t.height=t.node.parentNode.offsetHeight}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Tn</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=<span class="hljs-keyword">new</span> yo(t,i,n),s=t.cm;<span class="hljs-keyword">return</span> s&amp;&amp;r.noHScroll&amp;&amp;(s.display.alignWidgets=!<span class="hljs-number">0</span>),$i(t,e,<span class="hljs-string">"widget"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> i=e.widgets||(e.widgets=[]);<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>==r.insertAt?i.push(r):i.splice(<span class="hljs-built_in">Math</span>.min(i.length-<span class="hljs-number">1</span>,<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,r.insertAt)),<span class="hljs-number">0</span>,r),r.line=e,s&amp;&amp;!wn(t,e)){<span class="hljs-keyword">var</span> n=nr(e)&lt;t.scrollTop;tr(e,e.height+kn(r)),n&amp;&amp;zi(s,<span class="hljs-literal">null</span>,r.height),s.curOp.forceUpdate=!<span class="hljs-number">0</span>}<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>}),r}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ln</span>(<span class="hljs-params">t,e,i,n</span>)</span>{t.text=e,t.stateAfter&amp;&amp;(t.stateAfter=<span class="hljs-literal">null</span>),t.styles&amp;&amp;(t.styles=<span class="hljs-literal">null</span>),<span class="hljs-literal">null</span>!=t.order&amp;&amp;(t.order=<span class="hljs-literal">null</span>),cn(t),un(t,i);<span class="hljs-keyword">var</span> r=n?n(t):<span class="hljs-number">1</span>;r!=t.height&amp;&amp;tr(t,r)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Mn</span>(<span class="hljs-params">t</span>)</span>{t.parent=<span class="hljs-literal">null</span>,cn(t)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Fn</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(t)<span class="hljs-keyword">for</span>(;;){<span class="hljs-keyword">var</span> i=t.match(<span class="hljs-regexp">/(?:^|\s+)line-(background-)?(\S+)/</span>);<span class="hljs-keyword">if</span>(!i)<span class="hljs-keyword">break</span>;t=t.slice(<span class="hljs-number">0</span>,i.index)+t.slice(i.index+i[<span class="hljs-number">0</span>].length);<span class="hljs-keyword">var</span> n=i[<span class="hljs-number">1</span>]?<span class="hljs-string">"bgClass"</span>:<span class="hljs-string">"textClass"</span>;<span class="hljs-literal">null</span>==e[n]?e[n]=i[<span class="hljs-number">2</span>]:<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"(?:^|s)"</span>+i[<span class="hljs-number">2</span>]+<span class="hljs-string">"(?:$|s)"</span>).test(e[n])||(e[n]+=<span class="hljs-string">" "</span>+i[<span class="hljs-number">2</span>])}<span class="hljs-keyword">return</span> t}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">An</span>(<span class="hljs-params">e,i</span>)</span>{<span class="hljs-keyword">if</span>(e.blankLine)<span class="hljs-keyword">return</span> e.blankLine(i);<span class="hljs-keyword">if</span>(e.innerMode){<span class="hljs-keyword">var</span> n=t.innerMode(e,i);<span class="hljs-keyword">return</span> n.mode.blankLine?n.mode.blankLine(n.state):<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Dn</span>(<span class="hljs-params">e,i,n,r</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> s=<span class="hljs-number">0</span>;s&lt;<span class="hljs-number">10</span>;s++){r&amp;&amp;(r[<span class="hljs-number">0</span>]=t.innerMode(e,n).mode);<span class="hljs-keyword">var</span> o=e.token(i,n);<span class="hljs-keyword">if</span>(i.pos&gt;i.start)<span class="hljs-keyword">return</span> o}<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Mode "</span>+e.name+<span class="hljs-string">" failed to advance stream."</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">On</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span>{start:d.start,end:d.pos,string:d.current(),type:s||<span class="hljs-literal">null</span>,state:t?ao(o.mode,u):u}}<span class="hljs-keyword">var</span> s,o=t.doc,a=o.mode;e=gt(o,e);<span class="hljs-keyword">var</span> l,c=Yn(o,e.line),u=Rt(t,e.line,i),d=<span class="hljs-keyword">new</span> go(c.text,t.options.tabSize);<span class="hljs-keyword">for</span>(n&amp;&amp;(l=[]);(n||d.pos&lt;e.ch)&amp;&amp;!d.eol();)d.start=d.pos,s=Dn(a,d,u),n&amp;&amp;l.push(r(!<span class="hljs-number">0</span>));<span class="hljs-keyword">return</span> n?l:r()}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Nn</span>(<span class="hljs-params">t,e,i,n,r,s,o</span>)</span>{<span class="hljs-keyword">var</span> a=i.flattenSpans;<span class="hljs-literal">null</span>==a&amp;&amp;(a=t.options.flattenSpans);<span class="hljs-keyword">var</span> l,c=<span class="hljs-number">0</span>,u=<span class="hljs-literal">null</span>,d=<span class="hljs-keyword">new</span> go(e,t.options.tabSize),h=t.options.addModeClass&amp;&amp;[<span class="hljs-literal">null</span>];<span class="hljs-keyword">for</span>(<span class="hljs-string">""</span>==e&amp;&amp;Fn(An(i,n),s);!d.eol();){<span class="hljs-keyword">if</span>(d.pos&gt;t.options.maxHighlightLength?(a=!<span class="hljs-number">1</span>,o&amp;&amp;zn(t,e,n,d.pos),d.pos=e.length,l=<span class="hljs-literal">null</span>):l=Fn(Dn(i,d,n,h),s),h){<span class="hljs-keyword">var</span> f=h[<span class="hljs-number">0</span>].name;f&amp;&amp;(l=<span class="hljs-string">"m-"</span>+(l?f+<span class="hljs-string">" "</span>+l:f))}<span class="hljs-keyword">if</span>(!a||u!=l){<span class="hljs-keyword">for</span>(;c&lt;d.start;)c=<span class="hljs-built_in">Math</span>.min(d.start,c+<span class="hljs-number">5e4</span>),r(c,u);u=l}d.start=d.pos}<span class="hljs-keyword">for</span>(;c&lt;d.pos;){<span class="hljs-keyword">var</span> p=<span class="hljs-built_in">Math</span>.min(d.pos,c+<span class="hljs-number">5e4</span>);r(p,u),c=p}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Wn</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=[t.state.modeGen],s={};Nn(t,e.text,t.doc.mode,i,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{r.push(t,e)},s,n);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o=<span class="hljs-number">0</span>;o&lt;t.state.overlays.length;++o){<span class="hljs-keyword">var</span> a=t.state.overlays[o],l=<span class="hljs-number">1</span>,c=<span class="hljs-number">0</span>;Nn(t,e.text,a.mode,!<span class="hljs-number">0</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=l;c&lt;t;){<span class="hljs-keyword">var</span> n=r[l];n&gt;t&amp;&amp;r.splice(l,<span class="hljs-number">1</span>,t,r[l+<span class="hljs-number">1</span>],n),l+=<span class="hljs-number">2</span>,c=<span class="hljs-built_in">Math</span>.min(t,n)}<span class="hljs-keyword">if</span>(e)<span class="hljs-keyword">if</span>(a.opaque)r.splice(i,l-i,t,<span class="hljs-string">"cm-overlay "</span>+e),l=i+<span class="hljs-number">2</span>;<span class="hljs-keyword">else</span> <span class="hljs-keyword">for</span>(;i&lt;l;i+=<span class="hljs-number">2</span>){<span class="hljs-keyword">var</span> s=r[i+<span class="hljs-number">1</span>];r[i+<span class="hljs-number">1</span>]=(s?s+<span class="hljs-string">" "</span>:<span class="hljs-string">""</span>)+<span class="hljs-string">"cm-overlay "</span>+e}},s)}<span class="hljs-keyword">return</span>{styles:r,classes:s.bgClass||s.textClass?s:<span class="hljs-literal">null</span>}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Hn</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">if</span>(!e.styles||e.styles[<span class="hljs-number">0</span>]!=t.state.modeGen){<span class="hljs-keyword">var</span> n=Rt(t,er(e)),r=Wn(t,e,e.text.length&gt;t.options.maxHighlightLength?ao(t.doc.mode,n):n);e.stateAfter=n,e.styles=r.styles,r.classes?e.styleClasses=r.classes:e.styleClasses&amp;&amp;(e.styleClasses=<span class="hljs-literal">null</span>),i===t.doc.frontier&amp;&amp;t.doc.frontier++}<span class="hljs-keyword">return</span> e.styles}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">zn</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=t.doc.mode,s=<span class="hljs-keyword">new</span> go(e,t.options.tabSize);<span class="hljs-keyword">for</span>(s.start=s.pos=n||<span class="hljs-number">0</span>,<span class="hljs-string">""</span>==e&amp;&amp;An(r,i);!s.eol();)Dn(r,s,i),s.start=s.pos}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">En</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(!t||<span class="hljs-regexp">/^\s*$/</span>.test(t))<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">var</span> i=e.addModeClass?wo:xo;<span class="hljs-keyword">return</span> i[t]||(i[t]=t.replace(<span class="hljs-regexp">/\S+/g</span>,<span class="hljs-string">"cm-$&amp;"</span>))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Pn</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=Rr(<span class="hljs-string">"span"</span>,<span class="hljs-literal">null</span>,<span class="hljs-literal">null</span>,_s?<span class="hljs-string">"padding-right: .1px"</span>:<span class="hljs-literal">null</span>),n={pre:Rr(<span class="hljs-string">"pre"</span>,[i],<span class="hljs-string">"CodeMirror-line"</span>),content:i,col:<span class="hljs-number">0</span>,pos:<span class="hljs-number">0</span>,cm:t,splitSpaces:(bs||_s)&amp;&amp;t.getOption(<span class="hljs-string">"lineWrapping"</span>)};e.measure={};<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=<span class="hljs-number">0</span>;r&lt;=(e.rest?e.rest.length:<span class="hljs-number">0</span>);r++){<span class="hljs-keyword">var</span> s,o=r?e.rest[r-<span class="hljs-number">1</span>]:e.line;n.pos=<span class="hljs-number">0</span>,n.addToken=$n,Jr(t.display.measure)&amp;&amp;(s=rr(o))&amp;&amp;(n.addToken=Rn(n.addToken,s)),n.map=[];<span class="hljs-keyword">var</span> a=e!=t.display.externalMeasured&amp;&amp;er(o);qn(o,n,Hn(t,o,a)),o.styleClasses&amp;&amp;(o.styleClasses.bgClass&amp;&amp;(n.bgClass=Vr(o.styleClasses.bgClass,n.bgClass||<span class="hljs-string">""</span>)),o.styleClasses.textClass&amp;&amp;(n.textClass=Vr(o.styleClasses.textClass,n.textClass||<span class="hljs-string">""</span>))),<span class="hljs-number">0</span>==n.map.length&amp;&amp;n.map.push(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,n.content.appendChild(Yr(t.display.measure))),<span class="hljs-number">0</span>==r?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}<span class="hljs-keyword">return</span> _s&amp;&amp;<span class="hljs-regexp">/\bcm-tab\b/</span>.test(n.content.lastChild.className)&amp;&amp;(n.content.className=<span class="hljs-string">"cm-tab-wrap-hack"</span>),No(t,<span class="hljs-string">"renderLine"</span>,t,e.line,n.pre),n.pre.className&amp;&amp;(n.textClass=Vr(n.pre.className,n.textClass||<span class="hljs-string">""</span>)),n}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">In</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=Rr(<span class="hljs-string">"span"</span>,<span class="hljs-string">"•"</span>,<span class="hljs-string">"cm-invalidchar"</span>);<span class="hljs-keyword">return</span> e.title=<span class="hljs-string">"\\u"</span>+t.charCodeAt(<span class="hljs-number">0</span>).toString(<span class="hljs-number">16</span>),e.setAttribute(<span class="hljs-string">"aria-label"</span>,e.title),e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">$n</span>(<span class="hljs-params">t,e,i,n,r,s,o</span>)</span>{<span class="hljs-keyword">if</span>(e){<span class="hljs-keyword">var</span> a=t.splitSpaces?e.replace(<span class="hljs-regexp">/ {3,}/g</span>,jn):e,l=t.cm.state.specialChars,c=!<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(l.test(e))<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> u=<span class="hljs-built_in">document</span>.createDocumentFragment(),d=<span class="hljs-number">0</span>;;){l.lastIndex=d;<span class="hljs-keyword">var</span> h=l.exec(e),f=h?h.index-d:e.length-d;<span class="hljs-keyword">if</span>(f){<span class="hljs-keyword">var</span> p=<span class="hljs-built_in">document</span>.createTextNode(a.slice(d,d+f));bs&amp;&amp;ys&lt;<span class="hljs-number">9</span>?u.appendChild(Rr(<span class="hljs-string">"span"</span>,[p])):u.appendChild(p),t.map.push(t.pos,t.pos+f,p),t.col+=f,t.pos+=f}<span class="hljs-keyword">if</span>(!h)<span class="hljs-keyword">break</span>;<span class="hljs-keyword">if</span>(d+=f+<span class="hljs-number">1</span>,<span class="hljs-string">"\t"</span>==h[<span class="hljs-number">0</span>]){<span class="hljs-keyword">var</span> g=t.cm.options.tabSize,m=g-t.col%g,p=u.appendChild(Rr(<span class="hljs-string">"span"</span>,Dr(m),<span class="hljs-string">"cm-tab"</span>));p.setAttribute(<span class="hljs-string">"role"</span>,<span class="hljs-string">"presentation"</span>),p.setAttribute(<span class="hljs-string">"cm-text"</span>,<span class="hljs-string">"\t"</span>),t.col+=m}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">"\r"</span>==h[<span class="hljs-number">0</span>]||<span class="hljs-string">"\n"</span>==h[<span class="hljs-number">0</span>]){<span class="hljs-keyword">var</span> p=u.appendChild(Rr(<span class="hljs-string">"span"</span>,<span class="hljs-string">"\r"</span>==h[<span class="hljs-number">0</span>]?<span class="hljs-string">"␍"</span>:<span class="hljs-string">"␤"</span>,<span class="hljs-string">"cm-invalidchar"</span>));p.setAttribute(<span class="hljs-string">"cm-text"</span>,h[<span class="hljs-number">0</span>]),t.col+=<span class="hljs-number">1</span>}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> p=t.cm.options.specialCharPlaceholder(h[<span class="hljs-number">0</span>]);p.setAttribute(<span class="hljs-string">"cm-text"</span>,h[<span class="hljs-number">0</span>]),bs&amp;&amp;ys&lt;<span class="hljs-number">9</span>?u.appendChild(Rr(<span class="hljs-string">"span"</span>,[p])):u.appendChild(p),t.col+=<span class="hljs-number">1</span>}t.map.push(t.pos,t.pos+<span class="hljs-number">1</span>,p),t.pos++}<span class="hljs-keyword">else</span>{t.col+=e.length;<span class="hljs-keyword">var</span> u=<span class="hljs-built_in">document</span>.createTextNode(a);t.map.push(t.pos,t.pos+e.length,u),bs&amp;&amp;ys&lt;<span class="hljs-number">9</span>&amp;&amp;(c=!<span class="hljs-number">0</span>),t.pos+=e.length}<span class="hljs-keyword">if</span>(i||n||r||c||o){<span class="hljs-keyword">var</span> v=i||<span class="hljs-string">""</span>;n&amp;&amp;(v+=n),r&amp;&amp;(v+=r);<span class="hljs-keyword">var</span> b=Rr(<span class="hljs-string">"span"</span>,[u],v,o);<span class="hljs-keyword">return</span> s&amp;&amp;(b.title=s),t.content.appendChild(b)}t.content.appendChild(u)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">jn</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-string">" "</span>,i=<span class="hljs-number">0</span>;i&lt;t.length-<span class="hljs-number">2</span>;++i)e+=i%<span class="hljs-number">2</span>?<span class="hljs-string">" "</span>:<span class="hljs-string">" "</span>;<span class="hljs-keyword">return</span> e+=<span class="hljs-string">" "</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Rn</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i,n,r,s,o,a,l</span>)</span>{r=r?r+<span class="hljs-string">" cm-force-border"</span>:<span class="hljs-string">"cm-force-border"</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=i.pos,u=c+n.length;;){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d=<span class="hljs-number">0</span>;d&lt;e.length;d++){<span class="hljs-keyword">var</span> h=e[d];<span class="hljs-keyword">if</span>(h.to&gt;c&amp;&amp;h.from&lt;=c)<span class="hljs-keyword">break</span>}<span class="hljs-keyword">if</span>(h.to&gt;=u)<span class="hljs-keyword">return</span> t(i,n,r,s,o,a,l);t(i,n.slice(<span class="hljs-number">0</span>,h.to-c),r,s,<span class="hljs-literal">null</span>,a,l),s=<span class="hljs-literal">null</span>,n=n.slice(h.to-c),c=h.to}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Bn</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=!n&amp;&amp;i.widgetNode;r&amp;&amp;t.map.push(t.pos,t.pos+e,r),!n&amp;&amp;t.cm.display.input.needsContentAttribute&amp;&amp;(r||(r=t.content.appendChild(<span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"span"</span>))),r.setAttribute(<span class="hljs-string">"cm-marker"</span>,i.id)),r&amp;&amp;(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">qn</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t.markedSpans,r=t.text,s=<span class="hljs-number">0</span>;<span class="hljs-keyword">if</span>(n)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o,a,l,c,u,d,h,f=r.length,p=<span class="hljs-number">0</span>,g=<span class="hljs-number">1</span>,m=<span class="hljs-string">""</span>,v=<span class="hljs-number">0</span>;;){<span class="hljs-keyword">if</span>(v==p){l=c=u=d=a=<span class="hljs-string">""</span>,h=<span class="hljs-literal">null</span>,v=<span class="hljs-number">1</span>/<span class="hljs-number">0</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> b,y=[],_=<span class="hljs-number">0</span>;_&lt;n.length;++_){<span class="hljs-keyword">var</span> x=n[_],w=x.marker;<span class="hljs-string">"bookmark"</span>==w.type&amp;&amp;x.from==p&amp;&amp;w.widgetNode?y.push(w):x.from&lt;=p&amp;&amp;(<span class="hljs-literal">null</span>==x.to||x.to&gt;p||w.collapsed&amp;&amp;x.to==p&amp;&amp;x.from==p)?(<span class="hljs-literal">null</span>!=x.to&amp;&amp;x.to!=p&amp;&amp;v&gt;x.to&amp;&amp;(v=x.to,c=<span class="hljs-string">""</span>),w.className&amp;&amp;(l+=<span class="hljs-string">" "</span>+w.className),w.css&amp;&amp;(a=(a?a+<span class="hljs-string">";"</span>:<span class="hljs-string">""</span>)+w.css),w.startStyle&amp;&amp;x.from==p&amp;&amp;(u+=<span class="hljs-string">" "</span>+w.startStyle),w.endStyle&amp;&amp;x.to==v&amp;&amp;(b||(b=[])).push(w.endStyle,x.to),w.title&amp;&amp;!d&amp;&amp;(d=w.title),w.collapsed&amp;&amp;(!h||fn(h.marker,w)&lt;<span class="hljs-number">0</span>)&amp;&amp;(h=x)):x.from&gt;p&amp;&amp;v&gt;x.from&amp;&amp;(v=x.from)}<span class="hljs-keyword">if</span>(b)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> _=<span class="hljs-number">0</span>;_&lt;b.length;_+=<span class="hljs-number">2</span>)b[_+<span class="hljs-number">1</span>]==v&amp;&amp;(c+=<span class="hljs-string">" "</span>+b[_]);<span class="hljs-keyword">if</span>(!h||h.from==p)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> _=<span class="hljs-number">0</span>;_&lt;y.length;++_)Bn(e,<span class="hljs-number">0</span>,y[_]);<span class="hljs-keyword">if</span>(h&amp;&amp;(h.from||<span class="hljs-number">0</span>)==p){<span class="hljs-keyword">if</span>(Bn(e,(<span class="hljs-literal">null</span>==h.to?f+<span class="hljs-number">1</span>:h.to)-p,h.marker,<span class="hljs-literal">null</span>==h.from),<span class="hljs-literal">null</span>==h.to)<span class="hljs-keyword">return</span>;h.to==p&amp;&amp;(h=!<span class="hljs-number">1</span>)}}<span class="hljs-keyword">if</span>(p&gt;=f)<span class="hljs-keyword">break</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> C=<span class="hljs-built_in">Math</span>.min(f,v);;){<span class="hljs-keyword">if</span>(m){<span class="hljs-keyword">var</span> S=p+m.length;<span class="hljs-keyword">if</span>(!h){<span class="hljs-keyword">var</span> k=S&gt;C?m.slice(<span class="hljs-number">0</span>,C-p):m;e.addToken(e,k,o?o+l:l,u,p+k.length==v?c:<span class="hljs-string">""</span>,d,a)}<span class="hljs-keyword">if</span>(S&gt;=C){m=m.slice(C-p),p=C;<span class="hljs-keyword">break</span>}p=S,u=<span class="hljs-string">""</span>}m=r.slice(s,s=i[g++]),o=En(i[g++],e.cm.options)}}<span class="hljs-keyword">else</span> <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> g=<span class="hljs-number">1</span>;g&lt;i.length;g+=<span class="hljs-number">2</span>)e.addToken(e,r.slice(s,s=i[g]),En(i[g+<span class="hljs-number">1</span>],e.cm.options))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Gn</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>==e.from.ch&amp;&amp;<span class="hljs-number">0</span>==e.to.ch&amp;&amp;<span class="hljs-string">""</span>==Or(e.text)&amp;&amp;(!t.cm||t.cm.options.wholeLineUpdateBefore)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Un</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> i?i[t]:<span class="hljs-literal">null</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">t,i,r</span>)</span>{Ln(t,i,r,n),Sr(t,<span class="hljs-string">"change"</span>,t,e)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=t,s=[];i&lt;e;++i)s.push(<span class="hljs-keyword">new</span> _o(c[i],r(i),n));<span class="hljs-keyword">return</span> s}<span class="hljs-keyword">var</span> a=e.from,l=e.to,c=e.text,u=Yn(t,a.line),d=Yn(t,l.line),h=Or(c),f=r(c.length-<span class="hljs-number">1</span>),p=l.line-a.line;<span class="hljs-keyword">if</span>(e.full)t.insert(<span class="hljs-number">0</span>,o(<span class="hljs-number">0</span>,c.length)),t.remove(c.length,t.size-c.length);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(Gn(t,e)){<span class="hljs-keyword">var</span> g=o(<span class="hljs-number">0</span>,c.length-<span class="hljs-number">1</span>);s(d,d.text,f),p&amp;&amp;t.remove(a.line,p),g.length&amp;&amp;t.insert(a.line,g)}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(u==d)<span class="hljs-keyword">if</span>(<span class="hljs-number">1</span>==c.length)s(u,u.text.slice(<span class="hljs-number">0</span>,a.ch)+h+u.text.slice(l.ch),f);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> g=o(<span class="hljs-number">1</span>,c.length-<span class="hljs-number">1</span>);g.push(<span class="hljs-keyword">new</span> _o(h+u.text.slice(l.ch),f,n)),s(u,u.text.slice(<span class="hljs-number">0</span>,a.ch)+c[<span class="hljs-number">0</span>],r(<span class="hljs-number">0</span>)),t.insert(a.line+<span class="hljs-number">1</span>,g)}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-number">1</span>==c.length)s(u,u.text.slice(<span class="hljs-number">0</span>,a.ch)+c[<span class="hljs-number">0</span>]+d.text.slice(l.ch),r(<span class="hljs-number">0</span>)),t.remove(a.line+<span class="hljs-number">1</span>,p);<span class="hljs-keyword">else</span>{s(u,u.text.slice(<span class="hljs-number">0</span>,a.ch)+c[<span class="hljs-number">0</span>],r(<span class="hljs-number">0</span>)),s(d,h+d.text.slice(l.ch),f);<span class="hljs-keyword">var</span> g=o(<span class="hljs-number">1</span>,c.length-<span class="hljs-number">1</span>);p&gt;<span class="hljs-number">1</span>&amp;&amp;t.remove(a.line+<span class="hljs-number">1</span>,p-<span class="hljs-number">1</span>),t.insert(a.line+<span class="hljs-number">1</span>,g)}Sr(t,<span class="hljs-string">"change"</span>,t,e)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Vn</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">this</span>.lines=t,<span class="hljs-keyword">this</span>.parent=<span class="hljs-literal">null</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>,i=<span class="hljs-number">0</span>;e&lt;t.length;++e)t[e].parent=<span class="hljs-keyword">this</span>,i+=t[e].height;<span class="hljs-keyword">this</span>.height=i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Zn</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">this</span>.children=t;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>,i=<span class="hljs-number">0</span>,n=<span class="hljs-number">0</span>;n&lt;t.length;++n){<span class="hljs-keyword">var</span> r=t[n];e+=r.chunkSize(),i+=r.height,r.parent=<span class="hljs-keyword">this</span>}<span class="hljs-keyword">this</span>.size=e,<span class="hljs-keyword">this</span>.height=i,<span class="hljs-keyword">this</span>.parent=<span class="hljs-literal">null</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Kn</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params">t,r,s</span>)</span>{<span class="hljs-keyword">if</span>(t.linked)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o=<span class="hljs-number">0</span>;o&lt;t.linked.length;++o){<span class="hljs-keyword">var</span> a=t.linked[o];<span class="hljs-keyword">if</span>(a.doc!=r){<span class="hljs-keyword">var</span> l=s&amp;&amp;a.sharedHist;i&amp;&amp;!l||(e(a.doc,l),n(a.doc,t,l))}}}n(t,<span class="hljs-literal">null</span>,!<span class="hljs-number">0</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Xn</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(e.cm)<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"This document is already in use."</span>);t.doc=e,e.cm=t,o(t),i(t),t.options.lineWrapping||h(t),t.options.mode=e.modeOption,He(t)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Yn</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">if</span>(e-=t.first,e&lt;<span class="hljs-number">0</span>||e&gt;=t.size)<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"There is no line "</span>+(e+t.first)+<span class="hljs-string">" in the document."</span>);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=t;!i.lines;)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">0</span>;;++n){<span class="hljs-keyword">var</span> r=i.children[n],s=r.chunkSize();<span class="hljs-keyword">if</span>(e&lt;s){i=r;<span class="hljs-keyword">break</span>}e-=s}<span class="hljs-keyword">return</span> i.lines[e]}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Jn</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=[],r=e.line;<span class="hljs-keyword">return</span> t.iter(e.line,i.line+<span class="hljs-number">1</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> s=t.text;r==i.line&amp;&amp;(s=s.slice(<span class="hljs-number">0</span>,i.ch)),r==e.line&amp;&amp;(s=s.slice(e.ch)),n.push(s),++r}),n}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Qn</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=[];<span class="hljs-keyword">return</span> t.iter(e,i,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{n.push(t.text)}),n}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tr</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=e-t.height;<span class="hljs-keyword">if</span>(i)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=t;n;n=n.parent)n.height+=i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">er</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>==t.parent)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=t.parent,i=Nr(e.lines,t),n=e.parent;n;e=n,n=n.parent)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=<span class="hljs-number">0</span>;n.children[r]!=e;++r)i+=n.children[r].chunkSize();<span class="hljs-keyword">return</span> i+e.first}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ir</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=t.first;t:<span class="hljs-keyword">do</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">0</span>;n&lt;t.children.length;++n){<span class="hljs-keyword">var</span> r=t.children[n],s=r.height;<span class="hljs-keyword">if</span>(e&lt;s){t=r;<span class="hljs-keyword">continue</span> t}e-=s,i+=r.chunkSize()}<span class="hljs-keyword">return</span> i}<span class="hljs-keyword">while</span>(!t.lines);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">0</span>;n&lt;t.lines.length;++n){<span class="hljs-keyword">var</span> o=t.lines[n],a=o.height;<span class="hljs-keyword">if</span>(e&lt;a)<span class="hljs-keyword">break</span>;e-=a}<span class="hljs-keyword">return</span> i+n}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nr</span>(<span class="hljs-params">t</span>)</span>{t=bn(t);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>,i=t.parent,n=<span class="hljs-number">0</span>;n&lt;i.lines.length;++n){<span class="hljs-keyword">var</span> r=i.lines[n];<span class="hljs-keyword">if</span>(r==t)<span class="hljs-keyword">break</span>;e+=r.height}<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> s=i.parent;s;i=s,s=i.parent)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">0</span>;n&lt;s.children.length;++n){<span class="hljs-keyword">var</span> o=s.children[n];<span class="hljs-keyword">if</span>(o==i)<span class="hljs-keyword">break</span>;e+=o.height}<span class="hljs-keyword">return</span> e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rr</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.order;<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>==e&amp;&amp;(e=t.order=aa(t.text)),e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sr</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">this</span>.done=[],<span class="hljs-keyword">this</span>.undone=[],<span class="hljs-keyword">this</span>.undoDepth=<span class="hljs-number">1</span>/<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.lastModTime=<span class="hljs-keyword">this</span>.lastSelTime=<span class="hljs-number">0</span>,<span class="hljs-keyword">this</span>.lastOp=<span class="hljs-keyword">this</span>.lastSelOp=<span class="hljs-literal">null</span>,<span class="hljs-keyword">this</span>.lastOrigin=<span class="hljs-keyword">this</span>.lastSelOrigin=<span class="hljs-literal">null</span>,<span class="hljs-keyword">this</span>.generation=<span class="hljs-keyword">this</span>.maxGeneration=t||<span class="hljs-number">1</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">or</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i={from:V(e.from),to:Js(e),text:Jn(t,e.from,e.to)};<span class="hljs-keyword">return</span> fr(t,i,e.from.line,e.to.line+<span class="hljs-number">1</span>),Kn(t,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{fr(t,i,e.from.line,e.to.line+<span class="hljs-number">1</span>)},!<span class="hljs-number">0</span>),i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ar</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(;t.length;){<span class="hljs-keyword">var</span> e=Or(t);<span class="hljs-keyword">if</span>(!e.ranges)<span class="hljs-keyword">break</span>;t.pop()}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lr</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> e?(ar(t.done),Or(t.done)):t.done.length&amp;&amp;!Or(t.done).ranges?Or(t.done):t.done.length&gt;<span class="hljs-number">1</span>&amp;&amp;!t.done[t.done.length-<span class="hljs-number">2</span>].ranges?(t.done.pop(),Or(t.done)):<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cr</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=t.history;r.undone.length=<span class="hljs-number">0</span>;<span class="hljs-keyword">var</span> s,o=+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>;<span class="hljs-keyword">if</span>((r.lastOp==n||r.lastOrigin==e.origin&amp;&amp;e.origin&amp;&amp;(<span class="hljs-string">"+"</span>==e.origin.charAt(<span class="hljs-number">0</span>)&amp;&amp;t.cm&amp;&amp;r.lastModTime&gt;o-t.cm.options.historyEventDelay||<span class="hljs-string">"*"</span>==e.origin.charAt(<span class="hljs-number">0</span>)))&amp;&amp;(s=lr(r,r.lastOp==n))){<span class="hljs-keyword">var</span> a=Or(s.changes);<span class="hljs-number">0</span>==Ps(e.from,e.to)&amp;&amp;<span class="hljs-number">0</span>==Ps(e.from,a.to)?a.to=Js(e):s.changes.push(or(t,e))}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> l=Or(r.done);<span class="hljs-keyword">for</span>(l&amp;&amp;l.ranges||hr(t.sel,r.done),s={changes:[or(t,e)],generation:r.generation},r.done.push(s);r.done.length&gt;r.undoDepth;)r.done.shift(),r.done[<span class="hljs-number">0</span>].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=o,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=e.origin,a||No(t,<span class="hljs-string">"historyAdded"</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ur</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=e.charAt(<span class="hljs-number">0</span>);<span class="hljs-keyword">return</span><span class="hljs-string">"*"</span>==r||<span class="hljs-string">"+"</span>==r&amp;&amp;i.ranges.length==n.ranges.length&amp;&amp;i.somethingSelected()==n.somethingSelected()&amp;&amp;<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>-t.history.lastSelTime&lt;=(t.cm?t.cm.options.historyEventDelay:<span class="hljs-number">500</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dr</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=t.history,s=n&amp;&amp;n.origin;i==r.lastSelOp||s&amp;&amp;r.lastSelOrigin==s&amp;&amp;(r.lastModTime==r.lastSelTime&amp;&amp;r.lastOrigin==s||ur(t,s,Or(r.done),e))?r.done[r.done.length-<span class="hljs-number">1</span>]=e:hr(e,r.done),r.lastSelTime=+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>,r.lastSelOrigin=s,r.lastSelOp=i,n&amp;&amp;n.clearRedo!==!<span class="hljs-number">1</span>&amp;&amp;ar(r.undone)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hr</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=Or(e);i&amp;&amp;i.ranges&amp;&amp;i.equals(t)||e.push(t)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fr</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=e[<span class="hljs-string">"spans_"</span>+t.id],s=<span class="hljs-number">0</span>;t.iter(<span class="hljs-built_in">Math</span>.max(t.first,i),<span class="hljs-built_in">Math</span>.min(t.first+t.size,n),<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>)</span>{i.markedSpans&amp;&amp;((r||(r=e[<span class="hljs-string">"spans_"</span>+t.id]={}))[s]=i.markedSpans),++s})}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pr</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(!t)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e,i=<span class="hljs-number">0</span>;i&lt;t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(<span class="hljs-number">0</span>,i)):e&amp;&amp;e.push(t[i]);<span class="hljs-keyword">return</span> e?e.length?e:<span class="hljs-literal">null</span>:t}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">gr</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=e[<span class="hljs-string">"spans_"</span>+t.id];<span class="hljs-keyword">if</span>(!i)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">0</span>,r=[];n&lt;e.text.length;++n)r.push(pr(i[n]));<span class="hljs-keyword">return</span> r}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mr</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n=<span class="hljs-number">0</span>,r=[];n&lt;t.length;++n){<span class="hljs-keyword">var</span> s=t[n];<span class="hljs-keyword">if</span>(s.ranges)r.push(i?ut.prototype.deepCopy.call(s):s);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> o=s.changes,a=[];r.push({changes:a});<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> l=<span class="hljs-number">0</span>;l&lt;o.length;++l){<span class="hljs-keyword">var</span> c,u=o[l];<span class="hljs-keyword">if</span>(a.push({from:u.from,to:u.to,text:u.text}),e)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d <span class="hljs-keyword">in</span> u)(c=d.match(<span class="hljs-regexp">/^spans_(\d+)$/</span>))&amp;&amp;Nr(e,<span class="hljs-built_in">Number</span>(c[<span class="hljs-number">1</span>]))&gt;-<span class="hljs-number">1</span>&amp;&amp;(Or(a)[d]=u[d],<span class="hljs-keyword">delete</span> u[d])}}}<span class="hljs-keyword">return</span> r}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">vr</span>(<span class="hljs-params">t,e,i,n</span>)</span>{i&lt;t.line?t.line+=n:e&lt;t.line&amp;&amp;(t.line=e,t.ch=<span class="hljs-number">0</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">br</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=<span class="hljs-number">0</span>;r&lt;t.length;++r){<span class="hljs-keyword">var</span> s=t[r],o=!<span class="hljs-number">0</span>;<span class="hljs-keyword">if</span>(s.ranges){s.copied||(s=t[r]=s.deepCopy(),s.copied=!<span class="hljs-number">0</span>);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-number">0</span>;a&lt;s.ranges.length;a++)vr(s.ranges[a].anchor,e,i,n),vr(s.ranges[a].head,e,i,n)}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-number">0</span>;a&lt;s.changes.length;++a){<span class="hljs-keyword">var</span> l=s.changes[a];<span class="hljs-keyword">if</span>(i&lt;l.from.line)l.from=Es(l.from.line+n,l.from.ch),l.to=Es(l.to.line+n,l.to.ch);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e&lt;=l.to.line){o=!<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>}}o||(t.splice(<span class="hljs-number">0</span>,r+<span class="hljs-number">1</span>),r=<span class="hljs-number">0</span>)}}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">yr</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=e.from.line,n=e.to.line,r=e.text.length-(n-i)-<span class="hljs-number">1</span>;br(t.done,i,n,r),br(t.undone,i,n,r)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_r</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>!=t.defaultPrevented?t.defaultPrevented:<span class="hljs-number">0</span>==t.returnValue}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">xr</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.target||t.srcElement}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">wr</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.which;<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>==e&amp;&amp;(<span class="hljs-number">1</span>&amp;t.button?e=<span class="hljs-number">1</span>:<span class="hljs-number">2</span>&amp;t.button?e=<span class="hljs-number">3</span>:<span class="hljs-number">4</span>&amp;t.button&amp;&amp;(e=<span class="hljs-number">2</span>)),Fs&amp;&amp;t.ctrlKey&amp;&amp;<span class="hljs-number">1</span>==e&amp;&amp;(e=<span class="hljs-number">3</span>),e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Cr</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t._handlers&amp;&amp;t._handlers[e];<span class="hljs-keyword">return</span> i?n&amp;&amp;n.length&gt;<span class="hljs-number">0</span>?n.slice():Do:n||Do}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Sr</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t.apply(<span class="hljs-literal">null</span>,s)}}<span class="hljs-keyword">var</span> n=Cr(t,e,!<span class="hljs-number">1</span>);<span class="hljs-keyword">if</span>(n.length){<span class="hljs-keyword">var</span> r,s=<span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>,<span class="hljs-number">2</span>);qs?r=qs.delayedCallbacks:Wo?r=Wo:(r=Wo=[],setTimeout(kr,<span class="hljs-number">0</span>));<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o=<span class="hljs-number">0</span>;o&lt;n.length;++o)r.push(i(n[o]))}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">kr</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=Wo;Wo=<span class="hljs-literal">null</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-number">0</span>;e&lt;t.length;++e)t[e]()}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Tr</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">return</span><span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e&amp;&amp;(e={type:e,preventDefault:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.defaultPrevented=!<span class="hljs-number">0</span>}}),No(t,i||e.type,t,e),_r(e)||e.codemirrorIgnore}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Lr</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t._handlers&amp;&amp;t._handlers.cursorActivity;<span class="hljs-keyword">if</span>(e)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=<span class="hljs-number">0</span>;n&lt;e.length;++n)Nr(i,e[n])==-<span class="hljs-number">1</span>&amp;&amp;i.push(e[n])}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Mr</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> Cr(t,e).length&gt;<span class="hljs-number">0</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Fr</span>(<span class="hljs-params">t</span>)</span>{t.prototype.on=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{Ao(<span class="hljs-keyword">this</span>,t,e)},t.prototype.off=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{Oo(<span class="hljs-keyword">this</span>,t,e)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ar</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.id=<span class="hljs-literal">null</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Dr</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(;Ro.length&lt;=t;)Ro.push(Or(Ro)+<span class="hljs-string">" "</span>);<span class="hljs-keyword">return</span> Ro[t]}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Or</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t[t.length-<span class="hljs-number">1</span>]}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Nr</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;t.length;++i)<span class="hljs-keyword">if</span>(t[i]==e)<span class="hljs-keyword">return</span> i;<span class="hljs-keyword">return</span>-<span class="hljs-number">1</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Wr</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=[],n=<span class="hljs-number">0</span>;n&lt;t.length;n++)i[n]=e(t[n],n);<span class="hljs-keyword">return</span> i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Hr</span>(<span class="hljs-params"></span>)</span>{}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">zr</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i;<span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.create?i=<span class="hljs-built_in">Object</span>.create(t):(Hr.prototype=t,i=<span class="hljs-keyword">new</span> Hr),e&amp;&amp;Er(e,i),i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Er</span>(<span class="hljs-params">t,e,i</span>)</span>{e||(e={});<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> n <span class="hljs-keyword">in</span> t)!t.hasOwnProperty(n)||i===!<span class="hljs-number">1</span>&amp;&amp;e.hasOwnProperty(n)||(e[n]=t[n]);<span class="hljs-keyword">return</span> e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Pr</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>,<span class="hljs-number">1</span>);<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> t.apply(<span class="hljs-literal">null</span>,e)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ir</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> e?!!(e.source.indexOf(<span class="hljs-string">"\\w"</span>)&gt;-<span class="hljs-number">1</span>&amp;&amp;Uo(t))||e.test(t):Uo(t)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">$r</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e <span class="hljs-keyword">in</span> t)<span class="hljs-keyword">if</span>(t.hasOwnProperty(e)&amp;&amp;t[e])<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">return</span>!<span class="hljs-number">0</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">jr</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.charCodeAt(<span class="hljs-number">0</span>)&gt;=<span class="hljs-number">768</span>&amp;&amp;Vo.test(t)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Rr</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=<span class="hljs-built_in">document</span>.createElement(t);<span class="hljs-keyword">if</span>(i&amp;&amp;(r.className=i),n&amp;&amp;(r.style.cssText=n),<span class="hljs-string">"string"</span>==<span class="hljs-keyword">typeof</span> e)r.appendChild(<span class="hljs-built_in">document</span>.createTextNode(e));<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> s=<span class="hljs-number">0</span>;s&lt;e.length;++s)r.appendChild(e[s]);<span class="hljs-keyword">return</span> r}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Br</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=t.childNodes.length;e&gt;<span class="hljs-number">0</span>;--e)t.removeChild(t.firstChild);<span class="hljs-keyword">return</span> t}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">qr</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> Br(t).appendChild(e)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Gr</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> t=<span class="hljs-built_in">document</span>.activeElement;t&amp;&amp;t.root&amp;&amp;t.root.activeElement;)t=t.root.activeElement;<span class="hljs-keyword">return</span> t}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ur</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"(^|\\s)"</span>+t+<span class="hljs-string">"(?:$|\\s)\\s*"</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Vr</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=t.split(<span class="hljs-string">" "</span>),n=<span class="hljs-number">0</span>;n&lt;i.length;n++)i[n]&amp;&amp;!Ur(i[n]).test(e)&amp;&amp;(e+=<span class="hljs-string">" "</span>+i[n]);<span class="hljs-keyword">return</span> e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Zr</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-built_in">document</span>.body.getElementsByClassName)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-built_in">document</span>.body.getElementsByClassName(<span class="hljs-string">"CodeMirror"</span>),i=<span class="hljs-number">0</span>;i&lt;e.length;i++){<span class="hljs-keyword">var</span> n=e[i].CodeMirror;n&amp;&amp;t(n)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Kr</span>(<span class="hljs-params"></span>)</span>{Qo||(Xr(),Qo=!<span class="hljs-number">0</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Xr</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t;Ao(<span class="hljs-built_in">window</span>,<span class="hljs-string">"resize"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-literal">null</span>==t&amp;&amp;(t=setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t=<span class="hljs-literal">null</span>,Zr(qe)},<span class="hljs-number">100</span>))}),Ao(<span class="hljs-built_in">window</span>,<span class="hljs-string">"blur"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{Zr(vi)})}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Yr</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>==Ko){<span class="hljs-keyword">var</span> e=Rr(<span class="hljs-string">"span"</span>,<span class="hljs-string">"​"</span>);qr(t,Rr(<span class="hljs-string">"span"</span>,[e,<span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">"x"</span>)])),<span class="hljs-number">0</span>!=t.firstChild.offsetHeight&amp;&amp;(Ko=e.offsetWidth&lt;=<span class="hljs-number">1</span>&amp;&amp;e.offsetHeight&gt;<span class="hljs-number">2</span>&amp;&amp;!(bs&amp;&amp;ys&lt;<span class="hljs-number">8</span>))}<span class="hljs-keyword">var</span> i=Ko?Rr(<span class="hljs-string">"span"</span>,<span class="hljs-string">"​"</span>):Rr(<span class="hljs-string">"span"</span>,<span class="hljs-string">" "</span>,<span class="hljs-literal">null</span>,<span class="hljs-string">"display: inline-block; width: 1px; margin-right: -1px"</span>);<span class="hljs-keyword">return</span> i.setAttribute(<span class="hljs-string">"cm-text"</span>,<span class="hljs-string">""</span>),i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Jr</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=Xo)<span class="hljs-keyword">return</span> Xo;<span class="hljs-keyword">var</span> e=qr(t,<span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">"AخA"</span>)),i=qo(e,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>).getBoundingClientRect();<span class="hljs-keyword">if</span>(!i||i.left==i.right)<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">var</span> n=qo(e,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>).getBoundingClientRect();<span class="hljs-keyword">return</span> Xo=n.right-i.right&lt;<span class="hljs-number">3</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Qr</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=ra)<span class="hljs-keyword">return</span> ra;<span class="hljs-keyword">var</span> e=qr(t,Rr(<span class="hljs-string">"span"</span>,<span class="hljs-string">"x"</span>)),i=e.getBoundingClientRect(),n=qo(e,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>).getBoundingClientRect();<span class="hljs-keyword">return</span> ra=<span class="hljs-built_in">Math</span>.abs(i.left-n.left)&gt;<span class="hljs-number">1</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ts</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">if</span>(!t)<span class="hljs-keyword">return</span> n(e,i,<span class="hljs-string">"ltr"</span>);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r=!<span class="hljs-number">1</span>,s=<span class="hljs-number">0</span>;s&lt;t.length;++s){<span class="hljs-keyword">var</span> o=t[s];(o.from&lt;i&amp;&amp;o.to&gt;e||e==i&amp;&amp;o.to==e)&amp;&amp;(n(<span class="hljs-built_in">Math</span>.max(o.from,e),<span class="hljs-built_in">Math</span>.min(o.to,i),<span class="hljs-number">1</span>==o.level?<span class="hljs-string">"rtl"</span>:<span class="hljs-string">"ltr"</span>),r=!<span class="hljs-number">0</span>)}r||n(e,i,<span class="hljs-string">"ltr"</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">es</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.level%<span class="hljs-number">2</span>?t.to:t.from}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">is</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">return</span> t.level%<span class="hljs-number">2</span>?t.from:t.to}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ns</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=rr(t);<span class="hljs-keyword">return</span> e?es(e[<span class="hljs-number">0</span>]):<span class="hljs-number">0</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rs</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=rr(t);<span class="hljs-keyword">return</span> e?is(Or(e)):t.text.length}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ss</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=Yn(t.doc,e),n=bn(i);n!=i&amp;&amp;(e=er(n));<span class="hljs-keyword">var</span> r=rr(n),s=r?r[<span class="hljs-number">0</span>].level%<span class="hljs-number">2</span>?rs(n):ns(n):<span class="hljs-number">0</span>;<span class="hljs-keyword">return</span> Es(e,s)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">os</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i,n=Yn(t.doc,e);i=mn(n);)n=i.find(<span class="hljs-number">1</span>,!<span class="hljs-number">0</span>).line,e=<span class="hljs-literal">null</span>;<span class="hljs-keyword">var</span> r=rr(n),s=r?r[<span class="hljs-number">0</span>].level%<span class="hljs-number">2</span>?ns(n):rs(n):n.text.length;<span class="hljs-keyword">return</span> Es(<span class="hljs-literal">null</span>==e?er(n):e,s)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">as</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">var</span> i=ss(t,e.line),n=Yn(t.doc,i.line),r=rr(n);<span class="hljs-keyword">if</span>(!r||<span class="hljs-number">0</span>==r[<span class="hljs-number">0</span>].level){<span class="hljs-keyword">var</span> s=<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,n.text.search(<span class="hljs-regexp">/\S/</span>)),o=e.line==i.line&amp;&amp;e.ch&lt;=s&amp;&amp;e.ch;<span class="hljs-keyword">return</span> Es(i.line,o?<span class="hljs-number">0</span>:s)}<span class="hljs-keyword">return</span> i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ls</span>(<span class="hljs-params">t,e,i</span>)</span>{<span class="hljs-keyword">var</span> n=t[<span class="hljs-number">0</span>].level;<span class="hljs-keyword">return</span> e==n||i!=n&amp;&amp;e&lt;i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cs</span>(<span class="hljs-params">t,e</span>)</span>{oa=<span class="hljs-literal">null</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i,n=<span class="hljs-number">0</span>;n&lt;t.length;++n){<span class="hljs-keyword">var</span> r=t[n];<span class="hljs-keyword">if</span>(r.from&lt;e&amp;&amp;r.to&gt;e)<span class="hljs-keyword">return</span> n;
<span class="hljs-keyword">if</span>(r.from==e||r.to==e){<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=i)<span class="hljs-keyword">return</span> ls(t,r.level,t[i].level)?(r.from!=r.to&amp;&amp;(oa=i),n):(r.from!=r.to&amp;&amp;(oa=n),i);i=n}}<span class="hljs-keyword">return</span> i}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">us</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">if</span>(!n)<span class="hljs-keyword">return</span> e+i;<span class="hljs-keyword">do</span> e+=i;<span class="hljs-keyword">while</span>(e&gt;<span class="hljs-number">0</span>&amp;&amp;jr(t.text.charAt(e)));<span class="hljs-keyword">return</span> e}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ds</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=rr(t);<span class="hljs-keyword">if</span>(!r)<span class="hljs-keyword">return</span> hs(t,e,i,n);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> s=cs(r,e),o=r[s],a=us(t,e,o.level%<span class="hljs-number">2</span>?-i:i,n);;){<span class="hljs-keyword">if</span>(a&gt;o.from&amp;&amp;a&lt;o.to)<span class="hljs-keyword">return</span> a;<span class="hljs-keyword">if</span>(a==o.from||a==o.to)<span class="hljs-keyword">return</span> cs(r,a)==s?a:(o=r[s+=i],i&gt;<span class="hljs-number">0</span>==o.level%<span class="hljs-number">2</span>?o.to:o.from);<span class="hljs-keyword">if</span>(o=r[s+=i],!o)<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;a=i&gt;<span class="hljs-number">0</span>==o.level%<span class="hljs-number">2</span>?us(t,o.to,-<span class="hljs-number">1</span>,n):us(t,o.from,<span class="hljs-number">1</span>,n)}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hs</span>(<span class="hljs-params">t,e,i,n</span>)</span>{<span class="hljs-keyword">var</span> r=e+i;<span class="hljs-keyword">if</span>(n)<span class="hljs-keyword">for</span>(;r&gt;<span class="hljs-number">0</span>&amp;&amp;jr(t.text.charAt(r));)r+=i;<span class="hljs-keyword">return</span> r&lt;<span class="hljs-number">0</span>||r&gt;t.text.length?<span class="hljs-literal">null</span>:r}<span class="hljs-keyword">var</span> fs=navigator.userAgent,ps=navigator.platform,gs=<span class="hljs-regexp">/gecko\/\d/i</span>.test(fs),ms=<span class="hljs-regexp">/MSIE \d/</span>.test(fs),vs=<span class="hljs-regexp">/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/</span>.exec(fs),bs=ms||vs,ys=bs&amp;&amp;(ms?<span class="hljs-built_in">document</span>.documentMode||<span class="hljs-number">6</span>:vs[<span class="hljs-number">1</span>]),_s=<span class="hljs-regexp">/WebKit\//</span>.test(fs),xs=_s&amp;&amp;<span class="hljs-regexp">/Qt\/\d+\.\d+/</span>.test(fs),ws=<span class="hljs-regexp">/Chrome\//</span>.test(fs),Cs=<span class="hljs-regexp">/Opera\//</span>.test(fs),Ss=<span class="hljs-regexp">/Apple Computer/</span>.test(navigator.vendor),ks=<span class="hljs-regexp">/Mac OS X 1\d\D([8-9]|\d\d)\D/</span>.test(fs),Ts=<span class="hljs-regexp">/PhantomJS/</span>.test(fs),Ls=<span class="hljs-regexp">/AppleWebKit/</span>.test(fs)&amp;&amp;<span class="hljs-regexp">/Mobile\/\w+/</span>.test(fs),Ms=Ls||<span class="hljs-regexp">/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i</span>.test(fs),Fs=Ls||<span class="hljs-regexp">/Mac/</span>.test(ps),As=<span class="hljs-regexp">/\bCrOS\b/</span>.test(fs),Ds=<span class="hljs-regexp">/win/i</span>.test(ps),Os=Cs&amp;&amp;fs.match(<span class="hljs-regexp">/Version\/(\d*\.\d*)/</span>);Os&amp;&amp;(Os=<span class="hljs-built_in">Number</span>(Os[<span class="hljs-number">1</span>])),Os&amp;&amp;Os&gt;=<span class="hljs-number">15</span>&amp;&amp;(Cs=!<span class="hljs-number">1</span>,_s=!<span class="hljs-number">0</span>);<span class="hljs-keyword">var</span> Ns=Fs&amp;&amp;(xs||Cs&amp;&amp;(<span class="hljs-literal">null</span>==Os||Os&lt;<span class="hljs-number">12.11</span>)),Ws=gs||bs&amp;&amp;ys&gt;=<span class="hljs-number">9</span>,Hs=!<span class="hljs-number">1</span>,zs=!<span class="hljs-number">1</span>;g.prototype=Er({update:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=t.scrollWidth&gt;t.clientWidth+<span class="hljs-number">1</span>,i=t.scrollHeight&gt;t.clientHeight+<span class="hljs-number">1</span>,n=t.nativeBarWidth;<span class="hljs-keyword">if</span>(i){<span class="hljs-keyword">this</span>.vert.style.display=<span class="hljs-string">"block"</span>,<span class="hljs-keyword">this</span>.vert.style.bottom=e?n+<span class="hljs-string">"px"</span>:<span class="hljs-string">"0"</span>;<span class="hljs-keyword">var</span> r=t.viewHeight-(e?n:<span class="hljs-number">0</span>);<span class="hljs-keyword">this</span>.vert.firstChild.style.height=<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,t.scrollHeight-t.clientHeight+r)+<span class="hljs-string">"px"</span>}<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.vert.style.display=<span class="hljs-string">""</span>,<span class="hljs-keyword">this</span>.vert.firstChild.style.height=<span class="hljs-string">"0"</span>;<span class="hljs-keyword">if</span>(e){<span class="hljs-keyword">this</span>.horiz.style.display=<span class="hljs-string">"block"</span>,<span class="hljs-keyword">this</span>.horiz.style.right=i?n+<span class="hljs-string">"px"</span>:<span class="hljs-string">"0"</span>,<span class="hljs-keyword">this</span>.horiz.style.left=t.barLeft+<span class="hljs-string">"px"</span>;<span class="hljs-keyword">var</span> s=t.viewWidth-t.barLeft-(i?n:<span class="hljs-number">0</span>);<span class="hljs-keyword">this</span>.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+s+<span class="hljs-string">"px"</span>}<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.horiz.style.display=<span class="hljs-string">""</span>,<span class="hljs-keyword">this</span>.horiz.firstChild.style.width=<span class="hljs-string">"0"</span>;<span class="hljs-keyword">return</span>!<span class="hljs-keyword">this</span>.checkedZeroWidth&amp;&amp;t.clientHeight&gt;<span class="hljs-number">0</span>&amp;&amp;(<span class="hljs-number">0</span>==n&amp;&amp;<span class="hljs-keyword">this</span>.zeroWidthHack(),<span class="hljs-keyword">this</span>.checkedZeroWidth=!<span class="hljs-number">0</span>),{right:i?n:<span class="hljs-number">0</span>,bottom:e?n:<span class="hljs-number">0</span>}},setScrollLeft:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">this</span>.horiz.scrollLeft!=t&amp;&amp;(<span class="hljs-keyword">this</span>.horiz.scrollLeft=t),<span class="hljs-keyword">this</span>.disableHoriz&amp;&amp;<span class="hljs-keyword">this</span>.enableZeroWidthBar(<span class="hljs-keyword">this</span>.horiz,<span class="hljs-keyword">this</span>.disableHoriz)},setScrollTop:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">this</span>.vert.scrollTop!=t&amp;&amp;(<span class="hljs-keyword">this</span>.vert.scrollTop=t),<span class="hljs-keyword">this</span>.disableVert&amp;&amp;<span class="hljs-keyword">this</span>.enableZeroWidthBar(<span class="hljs-keyword">this</span>.vert,<span class="hljs-keyword">this</span>.disableVert)},zeroWidthHack:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=Fs&amp;&amp;!ks?<span class="hljs-string">"12px"</span>:<span class="hljs-string">"18px"</span>;<span class="hljs-keyword">this</span>.horiz.style.height=<span class="hljs-keyword">this</span>.vert.style.width=t,<span class="hljs-keyword">this</span>.horiz.style.pointerEvents=<span class="hljs-keyword">this</span>.vert.style.pointerEvents=<span class="hljs-string">"none"</span>,<span class="hljs-keyword">this</span>.disableHoriz=<span class="hljs-keyword">new</span> Ar,<span class="hljs-keyword">this</span>.disableVert=<span class="hljs-keyword">new</span> Ar},enableZeroWidthBar:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> n=t.getBoundingClientRect(),r=<span class="hljs-built_in">document</span>.elementFromPoint(n.left+<span class="hljs-number">1</span>,n.bottom-<span class="hljs-number">1</span>);r!=t?t.style.pointerEvents=<span class="hljs-string">"none"</span>:e.set(<span class="hljs-number">1e3</span>,i)}t.style.pointerEvents=<span class="hljs-string">"auto"</span>,e.set(<span class="hljs-number">1e3</span>,i)},clear:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.horiz.parentNode;t.removeChild(<span class="hljs-keyword">this</span>.horiz),t.removeChild(<span class="hljs-keyword">this</span>.vert)}},g.prototype),m.prototype=Er({update:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span>{bottom:<span class="hljs-number">0</span>,right:<span class="hljs-number">0</span>}},setScrollLeft:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},setScrollTop:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{},clear:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{}},m.prototype),t.scrollbarModel={<span class="hljs-string">"native"</span>:g,<span class="hljs-string">"null"</span>:m},k.prototype.signal=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{Mr(t,e)&amp;&amp;<span class="hljs-keyword">this</span>.events.push(<span class="hljs-built_in">arguments</span>)},k.prototype.finish=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> t=<span class="hljs-number">0</span>;t&lt;<span class="hljs-keyword">this</span>.events.length;t++)No.apply(<span class="hljs-literal">null</span>,<span class="hljs-keyword">this</span>.events[t])};<span class="hljs-keyword">var</span> Es=t.Pos=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span> <span class="hljs-keyword">instanceof</span> Es?(<span class="hljs-keyword">this</span>.line=t,<span class="hljs-keyword">void</span>(<span class="hljs-keyword">this</span>.ch=e)):<span class="hljs-keyword">new</span> Es(t,e)},Ps=t.cmpPos=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t,e</span>)</span>{<span class="hljs-keyword">return</span> t.line-e.line||t.ch-e.ch},Is=<span class="hljs-literal">null</span>;it.prototype=Er({init:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(!Tr(n,t)){<span class="hljs-keyword">if</span>(n.somethingSelected())Is=n.getSelections(),i.inaccurateSelection&amp;&amp;(i.prevInput=<span class="hljs-string">""</span>,i.inaccurateSelection=!<span class="hljs-number">1</span>,s.value=Is.join(<span class="hljs-string">"\n"</span>),Bo(s));<span class="hljs-keyword">else</span>{<span class="hljs-keyword">if</span>(!n.options.lineWiseCopyCut)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">var</span> e=tt(n);Is=e.text,<span class="hljs-string">"cut"</span>==t.type?n.setSelections(e.ranges,<span class="hljs-literal">null</span>,Eo):(i.prevInput=<span class="hljs-string">""</span>,s.value=e.text.join(<span class="hljs-string">"\n"</span>),Bo(s))}<span class="hljs-string">"cut"</span>==t.type&amp;&amp;(n.state.cutIncoming=!<span class="hljs-number">0</span>)}}<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">this</span>,n=<span class="hljs-keyword">this</span>.cm,r=<span class="hljs-keyword">this</span>.wrapper=nt(),s=<span class="hljs-keyword">this</span>.textarea=r.firstChild;t.wrapper.insertBefore(r,t.wrapper.firstChild),Ls&amp;&amp;(s.style.width=<span class="hljs-string">"0px"</span>),Ao(s,<span class="hljs-string">"input"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{bs&amp;&amp;ys&gt;=<span class="hljs-number">9</span>&amp;&amp;i.hasSelection&amp;&amp;(i.hasSelection=<span class="hljs-literal">null</span>),i.poll()}),Ao(s,<span class="hljs-string">"paste"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{Tr(n,t)||J(t,n)||(n.state.pasteIncoming=!<span class="hljs-number">0</span>,i.fastPoll())}),Ao(s,<span class="hljs-string">"cut"</span>,e),Ao(s,<span class="hljs-string">"copy"</span>,e),Ao(t.scroller,<span class="hljs-string">"paste"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{Ge(t,e)||Tr(n,e)||(n.state.pasteIncoming=!<span class="hljs-number">0</span>,i.focus())}),Ao(t.lineSpace,<span class="hljs-string">"selectstart"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{Ge(t,e)||Lo(e)}),Ao(s,<span class="hljs-string">"compositionstart"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=n.getCursor(<span class="hljs-string">"from"</span>);i.composing&amp;&amp;i.composing.range.clear(),i.composing={start:t,range:n.markText(t,n.getCursor(<span class="hljs-string">"to"</span>),{className:<span class="hljs-string">"CodeMirror-composing"</span>})}}),Ao(s,<span class="hljs-string">"compositionend"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{i.composing&amp;&amp;(i.poll(),i.composing.range.clear(),i.composing=<span class="hljs-literal">null</span>)})},prepareSelection:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.cm,e=t.display,i=t.doc,n=Ht(t);<span class="hljs-keyword">if</span>(t.options.moveInputWithCursor){<span class="hljs-keyword">var</span> r=fe(t,i.sel.primary().head,<span class="hljs-string">"div"</span>),s=e.wrapper.getBoundingClientRect(),o=e.lineDiv.getBoundingClientRect();n.teTop=<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,<span class="hljs-built_in">Math</span>.min(e.wrapper.clientHeight-<span class="hljs-number">10</span>,r.top+o.top-s.top)),n.teLeft=<span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>,<span class="hljs-built_in">Math</span>.min(e.wrapper.clientWidth-<span class="hljs-number">10</span>,r.left+o.left-s.left))}<span class="hljs-keyword">return</span> n},showSelection:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">var</span> e=<span class="hljs-keyword">this</span>.cm,i=e.display;qr(i.cursorDiv,t.cursors),qr(i.selectionDiv,t.selection),<span class="hljs-literal">null</span>!=t.teTop&amp;&amp;(<span class="hljs-keyword">this</span>.wrapper.style.top=t.teTop+<span class="hljs-string">"px"</span>,<span class="hljs-keyword">this</span>.wrapper.style.left=t.teLeft+<span class="hljs-string">"px"</span>)},reset:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.contextMenuPending){<span class="hljs-keyword">var</span> e,i,n=<span class="hljs-keyword">this</span>.cm,r=n.doc;<span class="hljs-keyword">if</span>(n.somethingSelected()){<span class="hljs-keyword">this</span>.prevInput=<span class="hljs-string">""</span>;<span class="hljs-keyword">var</span> s=r.sel.primary();e=na&amp;&amp;(s.to().line-s.from().line&gt;<span class="hljs-number">100</span>||(i=n.getSelection()).length&gt;<span class="hljs-number">1e3</span>);<span class="hljs-keyword">var</span> o=e?<span class="hljs-string">"-"</span>:i||n.getSelection();<span class="hljs-keyword">this</span>.textarea.value=o,n.state.focused&amp;&amp;Bo(<span class="hljs-keyword">this</span>.textarea),bs&amp;&amp;ys&gt;=<span class="hljs-number">9</span>&amp;&amp;(<span class="hljs-keyword">this</span>.hasSelection=o)}<span class="hljs-keyword">else</span> t||(<span class="hljs-keyword">this</span>.prevInput=<span class="hljs-keyword">this</span>.textarea.value=<span class="hljs-string">""</span>,bs&amp;&amp;ys&gt;=<span class="hljs-number">9</span>&amp;&amp;(<span class="hljs-keyword">this</span>.hasSelection=<span class="hljs-literal">null</span>));<span class="hljs-keyword">this</span>.inaccurateSelection=e}},getField:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.textarea},supportsTouch:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>},focus:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-string">"nocursor"</span>!=<span class="hljs-keyword">this</span>.cm.options.readOnly&amp;&amp;(!Ms||Gr()!=<span class="hljs-keyword">this</span>.textarea))<span class="hljs-keyword">try</span>{<span class="hljs-keyword">this</span>.textarea.focus()}<span class="hljs-keyword">catch</span>(t){}},blur:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.textarea.blur()},resetPosition:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.wrapper.style.top=<span class="hljs-keyword">this</span>.wrapper.style.left=<span class="hljs-number">0</span>},receivedFocus:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.slowPoll()},slowPoll:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>;t.pollingFast||t.polling.set(<span class="hljs-keyword">this</span>.cm.options.pollInterval,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{t.poll(),t.cm.state.focused&amp;&amp;t.slowPoll()})},fastPoll:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">t</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> n=i.poll();n||e?(i.pollingFast=!<span class="hljs-number">1</span>,i.slowPoll()):(e=!<span class="hljs-number">0</span>,i.polling.set(<span class="hljs-number">60</span>,t))}<span class="hljs-keyword">var</span> e=!<span class="hljs-number">1</span>,i=<span class="hljs-keyword">this</span>;i.pollingFast=!<span class="hljs-number">0</span>,i.polling.set(<span class="hljs-number">20</span>,t)},poll:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">this</span>.cm,e=<span class="hljs-keyword">this</span>.textarea,i=<span class="hljs-keyword">this</span>.prevInput;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.contextMenuPending||!t.state.focused||ia(e)&amp;&amp;!i&amp;&amp;!<span class="hljs-keyword">this</span>.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">var</span> n=e.value;<span class="hljs-keyword">if</span>(n==i&amp;&amp;!t.somethingSelected())<span class="hljs-keyword">return</span>!<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(bs&amp;&amp;ys&gt;=<span class="hljs-number">9</span>&amp;&amp;<span class="hljs-keyword">this</span>.hasSelection===n||Fs&amp;&amp;<span class="hljs-regexp">/[\uf700-\uf7ff]/</span>.test(n))<span class="hljs-keyword">return</span> t.display.input.reset(),!<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(t.doc.sel==t.display.selForContextMenu){<span class="hljs-keyword">var</span> r=n.charCodeAt(<span class="hljs-number">0</span>);<span class="hljs-keyword">if</span>(<span class="hljs-number">8203</span>!=r||i||(i=<span class="hljs-string">"​"</span>),<span class="hljs-number">8666</span>==r)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.reset(),<span class="hljs-keyword">this</span>.cm.execCommand(<span class="hljs-string">"undo"</span>)}<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> s=<span class="hljs-number">0</span>,o=<span class="hljs-built_in">Math</span>.min(i.length,n.length);s&lt;o&amp;&amp;i.charCodeAt(s)==n.charCodeAt(s);)++s;<span class="hljs-keyword">var</span> a=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">return</span> Fe(t,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{Y(t,n.slice(s),i.length-s,<span class="hljs-literal">null</span>,a.composing?<span class="hljs-string">"*compose"</span>:<span class="hljs-literal">null</span>),n.length&gt;<span class="hljs-number">1e3</span>||n.indexOf(<span class="hljs-string">"\n"</span>)&gt;-<span class="hljs-number">1</span>?e.value=a.prevInput=<span class="hljs-string">""</span>:a.prevInput=n,a.composing&amp;&amp;(a.composing.range.clear(),a.composing.range=t.markText(a.composing.start,t.getCursor(<span class="hljs-string">"to"</span>),{className:<span class="hljs-string">"CodeMirror-composing"</span>}))}),!<span class="hljs-number">0</span>},ensurePolled:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.pollingFast&amp;&amp;<span class="hljs-keyword">this</span>.poll()&amp;&amp;(<span class="hljs-keyword">this</span>.pollingFast=!<span class="hljs-number">1</span>)},onKeyPress:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{bs&amp;&amp;ys&gt;=<span class="hljs-number">9</span>&amp;&amp;(<span class="hljs-keyword">this</span>.hasSelection=<span class="hljs-literal">null</span>),<span class="hljs-keyword">this</span>.fastPoll()},onContextMenu:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>!=o.selectionStart){<span class="hljs-keyword">var</span> t=r.somethingSelected(),e=<span class="hljs-string">"​"</span>+(t?o.value:<span class="hljs-string">""</span>);o.value=<span class="hljs-string">"⇚"</span>,o.value=e,n.prevInput=t?<span class="hljs-string">""</span>:<span class="hljs-string">"​"</span>,o.selectionStart=<span class="hljs-number">1</span>,o.selectionEnd=e.length,s.selForContextMenu=r.doc.sel}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">if</span>(n.contextMenuPending=!<span class="hljs-number">1</span>,n.wrapper.style.cssText=d,o.style.cssText=u,bs&amp;&amp;ys&lt;<span class="hljs-number">9</span>&amp;&amp;s.scrollbars.setScrollTop(s.scroller.scrollTop=l),<span class="hljs-literal">null</span>!=o.selectionStart){(!bs||bs&amp;&amp;ys&lt;<span class="hljs-number">9</span>)&amp;&amp;e();<span class="hljs-keyword">var</span> t=<span class="hljs-number">0</span>,i=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{s.selForContextMenu==r.doc.sel&amp;&amp;<span class="hljs-number">0</span>==o.selectionStart&amp;&amp;o.selectionEnd&gt;<span class="hljs-number">0</span>&amp;&amp;<span class="hljs-string">"​"</span>==n.prevInput?Ae(r,co.selectAll)(r):t++<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">10?s.detectingSelectAll=setTimeout(i,500):s.input.reset()};s.detectingSelectAll=setTimeout(i,200)}}var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">this,r=n.cm,s=r.display,o=n.textarea,a=Ue(r,t),l=s.scroller.scrollTop;if(a&amp;&amp;!Cs){var</span> <span class="hljs-attribute">c</span>=<span class="hljs-value">r.options.resetSelectionOnContextMenu;c&amp;&amp;r.doc.sel.contains(a)==-1&amp;&amp;Ae(r,Tt)(r.doc,ft(a),Eo);var</span> <span class="hljs-attribute">u</span>=<span class="hljs-value">o.style.cssText,d=n.wrapper.style.cssText;n.wrapper.style.cssText="position:</span> <span class="hljs-attribute">absolute</span>";<span class="hljs-attribute">var</span> <span class="hljs-attribute">h</span>=<span class="hljs-value">n.wrapper.getBoundingClientRect();if(o.style.cssText="position:</span> <span class="hljs-attribute">absolute</span>; <span class="hljs-attribute">width:</span> <span class="hljs-attribute">30px</span>; <span class="hljs-attribute">height:</span> <span class="hljs-attribute">30px</span>; <span class="hljs-attribute">top:</span> "+(<span class="hljs-attribute">t.clientY-h.top-5</span>)+"<span class="hljs-attribute">px</span>; <span class="hljs-attribute">left:</span> "+(<span class="hljs-attribute">t.clientX-h.left-5</span>)+"<span class="hljs-attribute">px</span>; <span class="hljs-attribute">z-index:</span> <span class="hljs-attribute">1000</span>; <span class="hljs-attribute">background:</span> "+(<span class="hljs-attribute">bs</span>?"<span class="hljs-attribute">rgba</span>(<span class="hljs-attribute">255</span>, <span class="hljs-attribute">255</span>, <span class="hljs-attribute">255</span>, <span class="hljs-attribute">.05</span>)"<span class="hljs-attribute">:</span>"<span class="hljs-attribute">transparent</span>")+"; <span class="hljs-attribute">outline:</span> <span class="hljs-attribute">none</span>; <span class="hljs-attribute">border-width:</span> <span class="hljs-attribute">0</span>; <span class="hljs-attribute">outline:</span> <span class="hljs-attribute">none</span>; <span class="hljs-attribute">overflow:</span> <span class="hljs-attribute">hidden</span>; <span class="hljs-attribute">opacity:</span> <span class="hljs-attribute">.05</span>; <span class="hljs-attribute">filter:</span> <span class="hljs-attribute">alpha</span>(<span class="hljs-attribute">opacity</span>=<span class="hljs-value">5);",_s)var</span> <span class="hljs-attribute">f</span>=<span class="hljs-value">window.scrollY;if(s.input.focus(),_s&amp;&amp;window.scrollTo(null,f),s.input.reset(),r.somethingSelected()||(o.value=n.prevInput="</span> "),<span class="hljs-attribute">n.contextMenuPending</span>=<span class="hljs-value">!0,s.selForContextMenu=r.doc.sel,clearTimeout(s.detectingSelectAll),bs&amp;&amp;ys</span>&gt;</span>=9&amp;&amp;e(),Ws){Fo(t);var p=function(){Oo(window,"mouseup",p),setTimeout(i,20)};Ao(window,"mouseup",p)}else setTimeout(i,50)}},readOnlyChanged:function(t){t||this.reset()},setUneditable:Hr,needsContentAttribute:!1},it.prototype),rt.prototype=Er({init:function(t){function e(t){if(!Tr(n,t)){if(n.somethingSelected())Is=n.getSelections(),"cut"==t.type&amp;&amp;n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var e=tt(n);Is=e.text,"cut"==t.type&amp;&amp;n.operation(function(){n.setSelections(e.ranges,0,Eo),n.replaceSelection("",null,"cut")})}if(t.clipboardData&amp;&amp;!Ls)t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/plain",Is.join("\n"));else{var i=nt(),r=i.firstChild;n.display.lineSpace.insertBefore(i,n.display.lineSpace.firstChild),r.value=Is.join("\n");var s=document.activeElement;Bo(r),setTimeout(function(){n.display.lineSpace.removeChild(i),s.focus()},50)}}}var i=this,n=i.cm,r=i.div=t.lineDiv;et(r),Ao(r,"paste",function(t){Tr(n,t)||J(t,n)}),Ao(r,"compositionstart",function(t){var e=t.data;if(i.composing={sel:n.doc.sel,data:e,startData:e},e){var r=n.doc.sel.primary(),s=n.getLine(r.head.line),o=s.indexOf(e,Math.max(0,r.head.ch-e.length));o&gt;-1&amp;&amp;o<span class="hljs-tag">&lt;<span class="hljs-title">=r.head.ch&amp;&amp;(i.composing.sel=ft(Es(r.head.line,o),Es(r.head.line,o+e.length)))}}),Ao(r,"compositionupdate",function(t){i.composing.data=t.data}),Ao(r,"compositionend",function(t){var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">i.composing;e&amp;&amp;(t.data==e.startData||</span>/\<span class="hljs-attribute">u200b</span>/<span class="hljs-attribute">.test</span>(<span class="hljs-attribute">t.data</span>)||(<span class="hljs-attribute">e.data</span>=<span class="hljs-value">t.data),setTimeout(function(){e.handled||i.applyComposition(e),i.composing==e&amp;&amp;(i.composing=null)},50))}),Ao(r,"touchstart",function(){i.forceCompositionEnd()}),Ao(r,"input",function(){i.composing||!n.isReadOnly()&amp;&amp;i.pollContent()||Fe(i.cm,function(){He(n)})}),Ao(r,"copy",e),Ao(r,"cut",e)},prepareSelection:function(){var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">Ht(this.cm,!1);return</span> <span class="hljs-attribute">t.focus</span>=<span class="hljs-value">this.cm.state.focused,t},showSelection:function(t){t&amp;&amp;this.cm.display.view.length&amp;&amp;(t.focus&amp;&amp;this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">window.getSelection(),e=this.cm.doc.sel.primary(),i=at(this.cm,t.anchorNode,t.anchorOffset),n=at(this.cm,t.focusNode,t.focusOffset);if(!i||i.bad||!n||n.bad||0!=Ps(K(i,n),e.from())||0!=Ps(Z(i,n),e.to())){var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">st(this.cm,e.from()),s=st(this.cm,e.to());if(r||s){var</span> <span class="hljs-attribute">o</span>=<span class="hljs-value">this.cm.display.view,a=t.rangeCount&amp;&amp;t.getRangeAt(0);if(r){if(!s){var</span> <span class="hljs-attribute">l</span>=<span class="hljs-value">o[o.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;s={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">{node:o[0].measure.map[2],offset:0};try{var</span> <span class="hljs-attribute">u</span>=<span class="hljs-value">qo(r.node,r.offset,s.offset,s.node)}catch(d){}u&amp;&amp;(!gs&amp;&amp;this.cm.state.focused?(t.collapse(r.node,r.offset),u.collapsed||t.addRange(u)):(t.removeAllRanges(),t.addRange(u)),a&amp;&amp;null==t.anchorNode?t.addRange(a):gs&amp;&amp;this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&amp;&amp;t.cm.operation(function(){t.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(t){qr(this.cm.display.cursorDiv,t.cursors),qr(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">window.getSelection();if(!t.rangeCount)return!1;var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">t.getRangeAt(0).commonAncestorContainer;return</span> <span class="hljs-attribute">Zo</span>(<span class="hljs-attribute">this.div</span>,<span class="hljs-attribute">e</span>)},<span class="hljs-attribute">focus:function</span>(){"<span class="hljs-attribute">nocursor</span>"!=<span class="hljs-value">this.cm.options.readOnly&amp;&amp;this.div.focus()},blur:function(){this.div.blur()},getField:function(){return</span> <span class="hljs-attribute">this.div</span>},<span class="hljs-attribute">supportsTouch:function</span>(){<span class="hljs-attribute">return</span>!<span class="hljs-attribute">0</span>},<span class="hljs-attribute">receivedFocus:function</span>(){<span class="hljs-attribute">function</span> <span class="hljs-attribute">t</span>(){<span class="hljs-attribute">e.cm.state.focused</span>&amp;&amp;(<span class="hljs-attribute">e.pollSelection</span>(),<span class="hljs-attribute">e.polling.set</span>(<span class="hljs-attribute">e.cm.options.pollInterval</span>,<span class="hljs-attribute">t</span>))}<span class="hljs-attribute">var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">this;this.selectionInEditor()?this.pollSelection():Fe(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},selectionChanged:function(){var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">window.getSelection();return</span> <span class="hljs-attribute">t.anchorNode</span>!=<span class="hljs-value">this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&amp;&amp;!this.gracePeriod&amp;&amp;this.selectionChanged()){var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">window.getSelection(),e=this.cm;this.rememberSelection();var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">at(e,t.anchorNode,t.anchorOffset),n=at(e,t.focusNode,t.focusOffset);i&amp;&amp;n&amp;&amp;Fe(e,function(){Tt(e.doc,ft(i,n),Eo),(i.bad||n.bad)&amp;&amp;(e.curOp.selectionChanged=!0)})}},pollContent:function(){var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">this.cm,e=t.display,i=t.doc.sel.primary(),n=i.from(),r=i.to();if(n.line&lt;e.viewFrom||r.line</span>&gt;</span>e.viewTo-1)return!1;var s;if(n.line==e.viewFrom||0==(s=Pe(t,n.line)))var o=er(e.view[0].line),a=e.view[0].node;else var o=er(e.view[s].line),a=e.view[s-1].node.nextSibling;var l=Pe(t,r.line);if(l==e.view.length-1)var c=e.viewTo-1,u=e.lineDiv.lastChild;else var c=er(e.view[l+1].line)-1,u=e.view[l+1].node.previousSibling;for(var d=t.doc.splitLines(ct(t,a,u,o,c)),h=Jn(t.doc,Es(o,0),Es(c,Yn(t.doc,c).text.length));d.length&gt;1&amp;&amp;h.length&gt;1;)if(Or(d)==Or(h))d.pop(),h.pop(),c--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),o++}for(var f=0,p=0,g=d[0],m=h[0],v=Math.min(g.length,m.length);f<span class="hljs-tag">&lt;<span class="hljs-title">v&amp;&amp;g.charCodeAt(f)==m.charCodeAt(f);)++f;for(var</span> <span class="hljs-attribute">b</span>=<span class="hljs-value">Or(d),y=Or(h),_=Math.min(b.length-(1==d.length?f:0),y.length-(1==h.length?f:0));p&lt;_&amp;&amp;b.charCodeAt(b.length-p-1)==y.charCodeAt(y.length-p-1);)++p;d[d.length-1]=b.slice(0,b.length-p),d[0]=d[0].slice(f);var</span> <span class="hljs-attribute">x</span>=<span class="hljs-value">Es(o,f),w=Es(c,h.length?Or(h).length-p:0);return</span> <span class="hljs-attribute">d.length</span>&gt;</span>1||d[0]||Ps(x,w)?(Di(t.doc,d,x,w,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&amp;&amp;!this.composing.handled&amp;&amp;(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){this.cm.isReadOnly()?Ae(this.cm,He)(this.cm):t.data&amp;&amp;t.data!=t.startData&amp;&amp;Ae(this.cm,Y)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.contentEditable="false"},onKeyPress:function(t){t.preventDefault(),this.cm.isReadOnly()||Ae(this.cm,Y)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},readOnlyChanged:function(t){this.div.contentEditable=String("nocursor"!=t)},onContextMenu:Hr,resetPosition:Hr,needsContentAttribute:!0},rt.prototype),t.inputStyles={textarea:it,contenteditable:rt},ut.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<span class="hljs-tag">&lt;<span class="hljs-title">this.ranges.length;e++){var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">this.ranges[e],n=t.ranges[e];if(0!=Ps(i.anchor,n.anchor)||0!=Ps(i.head,n.head))return!1}return!0},deepCopy:function(){for(var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">[],e=0;e&lt;this.ranges.length;e++)t[e]=new</span> <span class="hljs-attribute">dt</span>(<span class="hljs-attribute">V</span>(<span class="hljs-attribute">this.ranges</span>[<span class="hljs-attribute">e</span>]<span class="hljs-attribute">.anchor</span>),<span class="hljs-attribute">V</span>(<span class="hljs-attribute">this.ranges</span>[<span class="hljs-attribute">e</span>]<span class="hljs-attribute">.head</span>));<span class="hljs-attribute">return</span> <span class="hljs-attribute">new</span> <span class="hljs-attribute">ut</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">this.primIndex</span>)},<span class="hljs-attribute">somethingSelected:function</span>(){<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">0;t&lt;this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">0;i&lt;this.ranges.length;i++){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">this.ranges[i];if(Ps(e,n.from())</span>&gt;</span>=0&amp;&amp;Ps(t,n.to())<span class="hljs-tag">&lt;<span class="hljs-title">=0)return</span> <span class="hljs-attribute">i</span>}<span class="hljs-attribute">return-1</span>}},<span class="hljs-attribute">dt.prototype</span>=<span class="hljs-value">{from:function(){return</span> <span class="hljs-attribute">K</span>(<span class="hljs-attribute">this.anchor</span>,<span class="hljs-attribute">this.head</span>)},<span class="hljs-attribute">to:function</span>(){<span class="hljs-attribute">return</span> <span class="hljs-attribute">Z</span>(<span class="hljs-attribute">this.anchor</span>,<span class="hljs-attribute">this.head</span>)},<span class="hljs-attribute">empty:function</span>(){<span class="hljs-attribute">return</span> <span class="hljs-attribute">this.head.line</span>=<span class="hljs-value">=this.anchor.line&amp;&amp;this.head.ch==this.anchor.ch}};var</span> $<span class="hljs-attribute">s</span>,<span class="hljs-attribute">js</span>,<span class="hljs-attribute">Rs</span>,<span class="hljs-attribute">Bs</span>=<span class="hljs-value">{left:0,right:0,top:0,bottom:0},qs=null,Gs=0,Us=0,Vs=0,Zs=null;bs?Zs=-.53:gs?Zs=15:ws?Zs=-.7:Ss&amp;&amp;(Zs=-1</span>/<span class="hljs-attribute">3</span>);<span class="hljs-attribute">var</span> <span class="hljs-attribute">Ks</span>=<span class="hljs-value">function(t){var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">t.wheelDeltaX,i=t.wheelDeltaY;return</span> <span class="hljs-attribute">null</span>=<span class="hljs-value">=e&amp;&amp;t.detail&amp;&amp;t.axis==t.HORIZONTAL_AXIS&amp;&amp;(e=t.detail),null==i&amp;&amp;t.detail&amp;&amp;t.axis==t.VERTICAL_AXIS?i=t.detail:null==i&amp;&amp;(i=t.wheelDelta),{x:e,y:i}};t.wheelEventPixels=function(t){var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">Ks(t);return</span> <span class="hljs-attribute">e.x</span>*=<span class="hljs-value">Zs,e.y*=Zs,e};var</span> <span class="hljs-attribute">Xs</span>=<span class="hljs-value">new</span> <span class="hljs-attribute">Ar</span>,<span class="hljs-attribute">Ys</span>=<span class="hljs-value">null,Js=t.changeEnd=function(t){return</span> <span class="hljs-attribute">t.text</span>?<span class="hljs-attribute">Es</span>(<span class="hljs-attribute">t.from.line</span>+<span class="hljs-attribute">t.text.length-1</span>,<span class="hljs-attribute">Or</span>(<span class="hljs-attribute">t.text</span>)<span class="hljs-attribute">.length</span>+(<span class="hljs-attribute">1</span>=<span class="hljs-value">=t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">this.options,n=i[t];i[t]==e&amp;&amp;"mode"!=t||(i[t]=e,to.hasOwnProperty(t)&amp;&amp;Ae(this,to[t])(this,e,n))},getOption:function(t){return</span> <span class="hljs-attribute">this.options</span>[<span class="hljs-attribute">t</span>]},<span class="hljs-attribute">getDoc:function</span>(){<span class="hljs-attribute">return</span> <span class="hljs-attribute">this.doc</span>},<span class="hljs-attribute">addKeyMap:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">this.state.keyMaps</span>[<span class="hljs-attribute">e</span>?"<span class="hljs-attribute">push</span>"<span class="hljs-attribute">:</span>"<span class="hljs-attribute">unshift</span>"](<span class="hljs-attribute">Ui</span>(<span class="hljs-attribute">t</span>))},<span class="hljs-attribute">removeKeyMap:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">this.state.keyMaps,i=0;i&lt;e.length;++i)if(e[i]==t||e[i].name==t)return</span> <span class="hljs-attribute">e.splice</span>(<span class="hljs-attribute">i</span>,<span class="hljs-attribute">1</span>),!<span class="hljs-attribute">0</span>},<span class="hljs-attribute">addOverlay:De</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">e.token?e:t.getMode(this.options,e);if(n.startState)throw</span> <span class="hljs-attribute">new</span> <span class="hljs-attribute">Error</span>("<span class="hljs-attribute">Overlays</span> <span class="hljs-attribute">may</span> <span class="hljs-attribute">not</span> <span class="hljs-attribute">be</span> <span class="hljs-attribute">stateful.</span>");<span class="hljs-attribute">this.state.overlays.push</span>({<span class="hljs-attribute">mode:n</span>,<span class="hljs-attribute">modeSpec:e</span>,<span class="hljs-attribute">opaque:i</span>&amp;&amp;<span class="hljs-attribute">i.opaque</span>}),<span class="hljs-attribute">this.state.modeGen</span>++,<span class="hljs-attribute">He</span>(<span class="hljs-attribute">this</span>)}),<span class="hljs-attribute">removeOverlay:De</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">this.state.overlays,i=0;i&lt;e.length;++i){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">e[i].modeSpec;if(n==t||"string"==typeof</span> <span class="hljs-attribute">t</span>&amp;&amp;<span class="hljs-attribute">n.name</span>=<span class="hljs-value">=t)return</span> <span class="hljs-attribute">e.splice</span>(<span class="hljs-attribute">i</span>,<span class="hljs-attribute">1</span>),<span class="hljs-attribute">this.state.modeGen</span>++,<span class="hljs-attribute">void</span> <span class="hljs-attribute">He</span>(<span class="hljs-attribute">this</span>)}}),<span class="hljs-attribute">indentLine:De</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>){"<span class="hljs-attribute">string</span>"!=<span class="hljs-value">typeof</span> <span class="hljs-attribute">e</span>&amp;&amp;"<span class="hljs-attribute">number</span>"!=<span class="hljs-value">typeof</span> <span class="hljs-attribute">e</span>&amp;&amp;(<span class="hljs-attribute">e</span>=<span class="hljs-value">null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),vt(this.doc,t)&amp;&amp;Ii(this,t,e,i)}),indentSelection:De(function(t){for(var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">this.doc.sel.ranges,i=-1,n=0;n&lt;e.length;n++){var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">e[n];if(r.empty())r.head.line</span>&gt;</span>i&amp;&amp;(Ii(this,r.head.line,t,!0),i=r.head.line,n==this.doc.sel.primIndex&amp;&amp;Ei(this));else{var s=r.from(),o=r.to(),a=Math.max(i,s.line);i=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=a;l<span class="hljs-tag">&lt;<span class="hljs-title">i;++l)Ii(this,l,t);var</span> <span class="hljs-attribute">c</span>=<span class="hljs-value">this.doc.sel.ranges;0==s.ch&amp;&amp;e.length==c.length&amp;&amp;c[n].from().ch</span>&gt;</span>0&amp;&amp;wt(this.doc,n,new dt(s,c[n].to()),Eo)}}}),getTokenAt:function(t,e){return On(this,t,e)},getLineTokens:function(t,e){return On(this,Es(t),e,!0)},getTokenTypeAt:function(t){t=gt(this.doc,t);var e,i=Hn(this,Yn(this.doc,t.line)),n=0,r=(i.length-1)/2,s=t.ch;if(0==s)e=i[2];else for(;;){var o=n+r&gt;&gt;1;if((o?i[2*o-1]:0)&gt;=s)r=o;else{if(!(i[2*o+1]<span class="hljs-tag">&lt;<span class="hljs-title">s)){e=i[2*o+2];break}n=o+1}}var</span> <span class="hljs-attribute">a</span>=<span class="hljs-value">e?e.indexOf("cm-overlay</span> ")<span class="hljs-attribute">:-1</span>;<span class="hljs-attribute">return</span> <span class="hljs-attribute">a</span>&lt;<span class="hljs-attribute">0</span>?<span class="hljs-attribute">e:0</span>=<span class="hljs-value">=a?null:e.slice(0,a-1)},getModeAt:function(e){var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">this.doc.mode;return</span> <span class="hljs-attribute">i.innerMode</span>?<span class="hljs-attribute">t.innerMode</span>(<span class="hljs-attribute">i</span>,<span class="hljs-attribute">this.getTokenAt</span>(<span class="hljs-attribute">e</span>)<span class="hljs-attribute">.state</span>)<span class="hljs-attribute">.mode:i</span>},<span class="hljs-attribute">getHelper:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">this.getHelpers</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>)[<span class="hljs-attribute">0</span>]},<span class="hljs-attribute">getHelpers:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">[];if(!oo.hasOwnProperty(e))return</span> <span class="hljs-attribute">i</span>;<span class="hljs-attribute">var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">oo[e],r=this.getModeAt(t);if("string"==typeof</span> <span class="hljs-attribute">r</span>[<span class="hljs-attribute">e</span>])<span class="hljs-attribute">n</span>[<span class="hljs-attribute">r</span>[<span class="hljs-attribute">e</span>]]&amp;&amp;<span class="hljs-attribute">i.push</span>(<span class="hljs-attribute">n</span>[<span class="hljs-attribute">r</span>[<span class="hljs-attribute">e</span>]]);<span class="hljs-attribute">else</span> <span class="hljs-attribute">if</span>(<span class="hljs-attribute">r</span>[<span class="hljs-attribute">e</span>])<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">0;s&lt;r[e].length;s++){var</span> <span class="hljs-attribute">o</span>=<span class="hljs-value">n[r[e][s]];o&amp;&amp;i.push(o)}else</span> <span class="hljs-attribute">r.helperType</span>&amp;&amp;<span class="hljs-attribute">n</span>[<span class="hljs-attribute">r.helperType</span>]?<span class="hljs-attribute">i.push</span>(<span class="hljs-attribute">n</span>[<span class="hljs-attribute">r.helperType</span>])<span class="hljs-attribute">:n</span>[<span class="hljs-attribute">r.name</span>]&amp;&amp;<span class="hljs-attribute">i.push</span>(<span class="hljs-attribute">n</span>[<span class="hljs-attribute">r.name</span>]);<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">0;s&lt;n._global.length;s++){var</span> <span class="hljs-attribute">a</span>=<span class="hljs-value">n._global[s];a.pred(r,this)&amp;&amp;Nr(i,a.val)==-1&amp;&amp;i.push(a.val)}return</span> <span class="hljs-attribute">i</span>},<span class="hljs-attribute">getStateAfter:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">this.doc;return</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">pt(i,null==t?i.first+i.size-1:t),Rt(this,t+1,e)},cursorCoords:function(t,e){var</span> <span class="hljs-attribute">i</span>,<span class="hljs-attribute">n</span>=<span class="hljs-value">this.doc.sel.primary();return</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">null==t?n.head:"object"==typeof</span> <span class="hljs-attribute">t</span>?<span class="hljs-attribute">gt</span>(<span class="hljs-attribute">this.doc</span>,<span class="hljs-attribute">t</span>)<span class="hljs-attribute">:t</span>?<span class="hljs-attribute">n.from</span>()<span class="hljs-attribute">:n.to</span>(),<span class="hljs-attribute">fe</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">i</span>,<span class="hljs-attribute">e</span>||"<span class="hljs-attribute">page</span>")},<span class="hljs-attribute">charCoords:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">he</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">gt</span>(<span class="hljs-attribute">this.doc</span>,<span class="hljs-attribute">t</span>),<span class="hljs-attribute">e</span>||"<span class="hljs-attribute">page</span>")},<span class="hljs-attribute">coordsChar:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">de(this,t,e||"page"),me(this,t.left,t.top)},lineAtHeight:function(t,e){return</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">de(this,{top:t,left:0},e||"page").top,ir(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var</span> <span class="hljs-attribute">i</span>,<span class="hljs-attribute">n</span>=<span class="hljs-value">!1;if("number"==typeof</span> <span class="hljs-attribute">t</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">this.doc.first+this.doc.size-1;t&lt;this.doc.first?t=this.doc.first:t</span>&gt;</span>r&amp;&amp;(t=r,n=!0),i=Yn(this.doc,t)}else i=t;return ue(this,i,{top:0,left:0},e||"page").top+(n?this.doc.height-nr(i):0)},defaultTextHeight:function(){return be(this.display)},defaultCharWidth:function(){return ye(this.display)},setGutterMarker:De(function(t,e,i){return $i(this.doc,t,"gutter",function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=i,!i&amp;&amp;$r(n)&amp;&amp;(t.gutterMarkers=null),!0})}),clearGutter:De(function(t){var e=this,i=e.doc,n=i.first;i.iter(function(i){i.gutterMarkers&amp;&amp;i.gutterMarkers[t]&amp;&amp;(i.gutterMarkers[t]=null,ze(e,n,"gutter"),$r(i.gutterMarkers)&amp;&amp;(i.gutterMarkers=null)),++n})}),lineInfo:function(t){if("number"==typeof t){if(!vt(this.doc,t))return null;var e=t;if(t=Yn(this.doc,t),!t)return null}else{var e=er(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,i,n,r){var s=this.display;t=fe(this,gt(this.doc,t));var o=t.bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),s.sizer.appendChild(e),"over"==n)o=t.top;else if("above"==n||"near"==n){var l=Math.max(s.wrapper.clientHeight,this.doc.height),c=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight&gt;l)&amp;&amp;t.top&gt;e.offsetHeight?o=t.top-e.offsetHeight:t.bottom+e.offsetHeight<span class="hljs-tag">&lt;<span class="hljs-title">=l&amp;&amp;(o=t.bottom),a+e.offsetWidth</span>&gt;</span>c&amp;&amp;(a=c-e.offsetWidth)}e.style.top=o+"px",e.style.left=e.style.right="","right"==r?(a=s.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?a=0:"middle"==r&amp;&amp;(a=(s.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),i&amp;&amp;Wi(this,a,o,a+e.offsetWidth,o+e.offsetHeight)},triggerOnKeyDown:De(di),triggerOnKeyPress:De(pi),triggerOnKeyUp:fi,execCommand:function(t){if(co.hasOwnProperty(t))return co[t].call(null,this)},triggerElectric:De(function(t){Q(this,t)}),findPosH:function(t,e,i,n){var r=1;e<span class="hljs-tag">&lt;<span class="hljs-title">0&amp;&amp;(r=-1,e=-e);for(var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">0,o=gt(this.doc,t);s&lt;e&amp;&amp;(o=Ri(this.doc,o,r,i,n),!o.hitSide);++s);return</span> <span class="hljs-attribute">o</span>},<span class="hljs-attribute">moveH:De</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">this;i.extendSelectionsBy(function(n){return</span> <span class="hljs-attribute">i.display.shift</span>||<span class="hljs-attribute">i.doc.extend</span>||<span class="hljs-attribute">n.empty</span>()?<span class="hljs-attribute">Ri</span>(<span class="hljs-attribute">i.doc</span>,<span class="hljs-attribute">n.head</span>,<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i.options.rtlMoveVisually</span>)<span class="hljs-attribute">:t</span>&lt;<span class="hljs-attribute">0</span>?<span class="hljs-attribute">n.from</span>()<span class="hljs-attribute">:n.to</span>()},<span class="hljs-attribute">Io</span>)}),<span class="hljs-attribute">deleteH:De</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):ji(this,function(i){var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">Ri(n,i.head,t,e,!1);return</span> <span class="hljs-attribute">t</span>&lt;<span class="hljs-attribute">0</span>?{<span class="hljs-attribute">from:r</span>,<span class="hljs-attribute">to:i.head</span>}<span class="hljs-attribute">:</span>{<span class="hljs-attribute">from:i.head</span>,<span class="hljs-attribute">to:r</span>}})}),<span class="hljs-attribute">findPosV:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>,<span class="hljs-attribute">n</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">1,s=n;e&lt;0&amp;&amp;(r=-1,e=-e);for(var</span> <span class="hljs-attribute">o</span>=<span class="hljs-value">0,a=gt(this.doc,t);o&lt;e;++o){var</span> <span class="hljs-attribute">l</span>=<span class="hljs-value">fe(this,a,"div");if(null==s?s=l.left:l.left=s,a=Bi(this,l,r,i),a.hitSide)break}return</span> <span class="hljs-attribute">a</span>},<span class="hljs-attribute">moveV:De</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">this,n=this.doc,r=[],s=!i.display.shift&amp;&amp;!n.extend&amp;&amp;n.sel.somethingSelected();if(n.extendSelectionsBy(function(o){if(s)return</span> <span class="hljs-attribute">t</span>&lt;<span class="hljs-attribute">0</span>?<span class="hljs-attribute">o.from</span>()<span class="hljs-attribute">:o.to</span>();<span class="hljs-attribute">var</span> <span class="hljs-attribute">a</span>=<span class="hljs-value">fe(i,o.head,"div");null!=o.goalColumn&amp;&amp;(a.left=o.goalColumn),r.push(a.left);var</span> <span class="hljs-attribute">l</span>=<span class="hljs-value">Bi(i,a,t,e);return"page"==e&amp;&amp;o==n.sel.primary()&amp;&amp;zi(i,null,he(i,l,"div").top-a.top),l},Io),r.length)for(var</span> <span class="hljs-attribute">o</span>=<span class="hljs-value">0;o&lt;n.sel.ranges.length;o++)n.sel.ranges[o].goalColumn=r[o]}),findWordAt:function(t){var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">this.doc,i=Yn(e,t.line).text,n=t.ch,r=t.ch;if(i){var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">this.getHelper(t,"wordChars");(t.xRel&lt;0||r==i.length)&amp;&amp;n?--n:++r;for(var</span> <span class="hljs-attribute">o</span>=<span class="hljs-value">i.charAt(n),a=Ir(o,s)?function(t){return</span> <span class="hljs-attribute">Ir</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">s</span>)}<span class="hljs-attribute">:</span>/\<span class="hljs-attribute">s</span>/<span class="hljs-attribute">.test</span>(<span class="hljs-attribute">o</span>)?<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">return</span>/\<span class="hljs-attribute">s</span>/<span class="hljs-attribute">.test</span>(<span class="hljs-attribute">t</span>)}<span class="hljs-attribute">:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">return</span>!/\<span class="hljs-attribute">s</span>/<span class="hljs-attribute">.test</span>(<span class="hljs-attribute">t</span>)&amp;&amp;!<span class="hljs-attribute">Ir</span>(<span class="hljs-attribute">t</span>)};<span class="hljs-attribute">n</span>&gt;</span>0&amp;&amp;a(i.charAt(n-1));)--n;for(;r<span class="hljs-tag">&lt;<span class="hljs-title">i.length&amp;&amp;a(i.charAt(r));)++r}return</span> <span class="hljs-attribute">new</span> <span class="hljs-attribute">dt</span>(<span class="hljs-attribute">Es</span>(<span class="hljs-attribute">t.line</span>,<span class="hljs-attribute">n</span>),<span class="hljs-attribute">Es</span>(<span class="hljs-attribute">t.line</span>,<span class="hljs-attribute">r</span>))},<span class="hljs-attribute">toggleOverwrite:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">null</span>!=<span class="hljs-value">t&amp;&amp;t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Jo(this.display.cursorDiv,"CodeMirror-overwrite"):Yo(this.display.cursorDiv,"CodeMirror-overwrite"),No(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return</span> <span class="hljs-attribute">this.display.input.getField</span>()=<span class="hljs-value">=Gr()},isReadOnly:function(){return!(!this.options.readOnly&amp;&amp;!this.doc.cantEdit)},scrollTo:De(function(t,e){null==t&amp;&amp;null==e||Pi(this),null!=t&amp;&amp;(this.curOp.scrollLeft=t),null!=e&amp;&amp;(this.curOp.scrollTop=e)}),getScrollInfo:function(){var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Ut(this)-this.display.barHeight,width:t.scrollWidth-Ut(this)-this.display.barWidth,clientHeight:Zt(this),clientWidth:Vt(this)}},scrollIntoView:De(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&amp;&amp;(e=this.options.cursorScrollMargin)):"number"==typeof</span> <span class="hljs-attribute">t</span>?<span class="hljs-attribute">t</span>=<span class="hljs-value">{from:Es(t,0),to:null}:null==t.from&amp;&amp;(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)Pi(this),this.curOp.scrollToPos=t;else{var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">Hi(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(i.scrollLeft,i.scrollTop)}}),setSize:De(function(t,e){function</span> <span class="hljs-attribute">i</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">return</span>"<span class="hljs-attribute">number</span>"=<span class="hljs-value">=typeof</span> <span class="hljs-attribute">t</span>||/^\<span class="hljs-attribute">d</span>+$/<span class="hljs-attribute">.test</span>(<span class="hljs-attribute">String</span>(<span class="hljs-attribute">t</span>))?<span class="hljs-attribute">t</span>+"<span class="hljs-attribute">px</span>"<span class="hljs-attribute">:t</span>}<span class="hljs-attribute">var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">this;null!=t&amp;&amp;(n.display.wrapper.style.width=i(t)),null!=e&amp;&amp;(n.display.wrapper.style.height=i(e)),n.options.lineWrapping&amp;&amp;oe(this);var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">n.display.viewFrom;n.doc.iter(r,n.display.viewTo,function(t){if(t.widgets)for(var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">0;e&lt;t.widgets.length;e++)if(t.widgets[e].noHScroll){ze(n,r,"widget");break}++r}),n.curOp.forceUpdate=!0,No(n,"refresh",this)}),operation:function(t){return</span> <span class="hljs-attribute">Fe</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">t</span>)},<span class="hljs-attribute">refresh:De</span>(<span class="hljs-attribute">function</span>(){<span class="hljs-attribute">var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">this.display.cachedTextHeight;He(this),this.curOp.forceUpdate=!0,ae(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==t||Math.abs(t-be(this.display))</span>&gt;</span>.5)&amp;&amp;o(this),No(this,"refresh",this)}),swapDoc:De(function(t){var e=this.doc;return e.cm=null,Xn(this,t),ae(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Sr(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Fr(t);var Qs=t.defaults={},to=t.optionHandlers={},eo=t.Init={toString:function(){return"CodeMirror.Init"}};qi("value","",function(t,e){t.setValue(e)},!0),qi("mode",null,function(t,e){t.doc.modeOption=e,i(t)},!0),qi("indentUnit",2,i,!0),qi("indentWithTabs",!1),qi("smartIndent",!0),qi("tabSize",4,function(t){n(t),ae(t),He(t)},!0),qi("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var i=[],n=t.doc.first;t.doc.iter(function(t){for(var r=0;;){var s=t.text.indexOf(e,r);if(s==-1)break;r=s+e.length,i.push(Es(n,s))}n++});for(var r=i.length-1;r&gt;=0;r--)Di(t.doc,e,i[r],Es(i[r].line,i[r].ch+e.length))}}),qi("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,i,n){e.state.specialChars=new RegExp(i.source+(i.test("\t")?"":"|\t"),"g"),n!=t.Init&amp;&amp;e.refresh()}),qi("specialCharPlaceholder",In,function(t){t.refresh()},!0),qi("electricChars",!0),qi("inputStyle",Ms?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),qi("rtlMoveVisually",!Ds),qi("wholeLineUpdateBefore",!0),qi("theme","default",function(t){a(t),l(t)},!0),qi("keyMap","default",function(e,i,n){var r=Ui(i),s=n!=t.Init&amp;&amp;Ui(n);s&amp;&amp;s.detach&amp;&amp;s.detach(e,r),r.attach&amp;&amp;r.attach(e,s||null)}),qi("extraKeys",null),qi("lineWrapping",!1,r,!0),qi("gutters",[],function(t){f(t.options),l(t)},!0),qi("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?S(t.display)+"px":"0",t.refresh()},!0),qi("coverGutterNextToScrollbar",!1,function(t){b(t)},!0),qi("scrollbarStyle","native",function(t){v(t),b(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),qi("lineNumbers",!1,function(t){f(t.options),l(t)},!0),qi("firstLineNumber",1,l,!0),qi("lineNumberFormatter",function(t){return t},l,!0),qi("showCursorWhenSelecting",!1,Wt,!0),qi("resetSelectionOnContextMenu",!0),qi("lineWiseCopyCut",!0),qi("readOnly",!1,function(t,e){"nocursor"==e?(vi(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)}),qi("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),qi("dragDrop",!0,Be),qi("allowDropFileTypes",null),qi("cursorBlinkRate",530),qi("cursorScrollMargin",0),qi("cursorHeight",1,Wt,!0),qi("singleCursorHeightPerLine",!0,Wt,!0),qi("workTime",100),qi("workDelay",100),qi("flattenSpans",!0,n,!0),qi("addModeClass",!1,n,!0),qi("pollInterval",100),qi("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),qi("historyEventDelay",1250),qi("viewportMargin",10,function(t){t.refresh()},!0),qi("maxHighlightLength",1e4,n,!0),qi("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),qi("tabindex",null,function(t,e){t.display.input.getField().tabIndex=e||""}),qi("autofocus",null);var io=t.modes={},no=t.mimeModes={};t.defineMode=function(e,i){t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length&gt;2&amp;&amp;(i.dependencies=Array.prototype.slice.call(arguments,2)),io[e]=i},t.defineMIME=function(t,e){no[t]=e},t.resolveMode=function(e){if("string"==typeof e&amp;&amp;no.hasOwnProperty(e))e=no[e];else if(e&amp;&amp;"string"==typeof e.name&amp;&amp;no.hasOwnProperty(e.name)){var i=no[e.name];"string"==typeof i&amp;&amp;(i={name:i}),e=zr(i,e),e.name=i.name}else if("string"==typeof e&amp;&amp;/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,i){var i=t.resolveMode(i),n=io[i.name];if(!n)return t.getMode(e,"text/plain");var r=n(e,i);if(ro.hasOwnProperty(i.name)){var s=ro[i.name];for(var o in s)s.hasOwnProperty(o)&amp;&amp;(r.hasOwnProperty(o)&amp;&amp;(r["_"+o]=r[o]),r[o]=s[o])}if(r.name=i.name,i.helperType&amp;&amp;(r.helperType=i.helperType),i.modeProps)for(var o in i.modeProps)r[o]=i.modeProps[o];return r},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var ro=t.modeExtensions={};t.extendMode=function(t,e){var i=ro.hasOwnProperty(t)?ro[t]:ro[t]={};Er(e,i)},t.defineExtension=function(e,i){t.prototype[e]=i},t.defineDocExtension=function(t,e){So.prototype[t]=e},t.defineOption=qi;var so=[];t.defineInitHook=function(t){so.push(t)};var oo=t.helpers={};t.registerHelper=function(e,i,n){oo.hasOwnProperty(e)||(oo[e]=t[e]={_global:[]}),oo[e][i]=n},t.registerGlobalHelper=function(e,i,n,r){t.registerHelper(e,i,r),oo[e]._global.push({pred:n,val:r})};var ao=t.copyState=function(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var r=e[n];r instanceof Array&amp;&amp;(r=r.concat([])),i[n]=r}return i},lo=t.startState=function(t,e,i){return!t.startState||t.startState(e,i)};t.innerMode=function(t,e){for(;t.innerMode;){var i=t.innerMode(e);if(!i||i.mode==t)break;e=i.state,t=i.mode}return i||{mode:t,state:e}};var co=t.commands={selectAll:function(t){t.setSelection(Es(t.firstLine(),0),Es(t.lastLine()),Eo)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Eo)},killLine:function(t){ji(t,function(e){if(e.empty()){var i=Yn(t.doc,e.head.line).text.length;return e.head.ch==i&amp;&amp;e.head.line<span class="hljs-tag">&lt;<span class="hljs-title">t.lastLine()?{from:e.head,to:Es(e.head.line+1,0)}:{from:e.head,to:Es(e.head.line,i)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){ji(t,function(e){return{from:Es(e.from().line,0),to:gt(t.doc,Es(e.to().line+1,0))}})},delLineLeft:function(t){ji(t,function(t){return{from:Es(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){ji(t,function(e){var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(t){ji(t,function(e){var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(Es(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Es(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){</span>
<span class="hljs-attribute">return</span> <span class="hljs-attribute">ss</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e.head.line</span>)},{<span class="hljs-attribute">origin:</span>"+<span class="hljs-attribute">move</span>",<span class="hljs-attribute">bias:1</span>})},<span class="hljs-attribute">goLineStartSmart:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.extendSelectionsBy</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">e</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">as</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e.head</span>)},{<span class="hljs-attribute">origin:</span>"+<span class="hljs-attribute">move</span>",<span class="hljs-attribute">bias:1</span>})},<span class="hljs-attribute">goLineEnd:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.extendSelectionsBy</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">e</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">os</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e.head.line</span>)},{<span class="hljs-attribute">origin:</span>"+<span class="hljs-attribute">move</span>",<span class="hljs-attribute">bias:-1</span>})},<span class="hljs-attribute">goLineRight:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.extendSelectionsBy</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">e</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">t.charCoords(e.head,"div").top+5;return</span> <span class="hljs-attribute">t.coordsChar</span>({<span class="hljs-attribute">left:t.display.lineDiv.offsetWidth</span>+<span class="hljs-attribute">100</span>,<span class="hljs-attribute">top:i</span>},"<span class="hljs-attribute">div</span>")},<span class="hljs-attribute">Io</span>)},<span class="hljs-attribute">goLineLeft:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.extendSelectionsBy</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">e</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">t.charCoords(e.head,"div").top+5;return</span> <span class="hljs-attribute">t.coordsChar</span>({<span class="hljs-attribute">left:0</span>,<span class="hljs-attribute">top:i</span>},"<span class="hljs-attribute">div</span>")},<span class="hljs-attribute">Io</span>)},<span class="hljs-attribute">goLineLeftSmart:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.extendSelectionsBy</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">e</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return</span> <span class="hljs-attribute">n.ch</span>&lt;<span class="hljs-attribute">t.getLine</span>(<span class="hljs-attribute">n.line</span>)<span class="hljs-attribute">.search</span>(/\<span class="hljs-attribute">S</span>/)?<span class="hljs-attribute">as</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e.head</span>)<span class="hljs-attribute">:n</span>},<span class="hljs-attribute">Io</span>)},<span class="hljs-attribute">goLineUp:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.moveV</span>(<span class="hljs-attribute">-1</span>,"<span class="hljs-attribute">line</span>")},<span class="hljs-attribute">goLineDown:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.moveV</span>(<span class="hljs-attribute">1</span>,"<span class="hljs-attribute">line</span>")},<span class="hljs-attribute">goPageUp:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.moveV</span>(<span class="hljs-attribute">-1</span>,"<span class="hljs-attribute">page</span>")},<span class="hljs-attribute">goPageDown:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.moveV</span>(<span class="hljs-attribute">1</span>,"<span class="hljs-attribute">page</span>")},<span class="hljs-attribute">goCharLeft:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.moveH</span>(<span class="hljs-attribute">-1</span>,"<span class="hljs-attribute">char</span>")},<span class="hljs-attribute">goCharRight:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.moveH</span>(<span class="hljs-attribute">1</span>,"<span class="hljs-attribute">char</span>")},<span class="hljs-attribute">goColumnLeft:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.moveH</span>(<span class="hljs-attribute">-1</span>,"<span class="hljs-attribute">column</span>")},<span class="hljs-attribute">goColumnRight:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.moveH</span>(<span class="hljs-attribute">1</span>,"<span class="hljs-attribute">column</span>")},<span class="hljs-attribute">goWordLeft:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.moveH</span>(<span class="hljs-attribute">-1</span>,"<span class="hljs-attribute">word</span>")},<span class="hljs-attribute">goGroupRight:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.moveH</span>(<span class="hljs-attribute">1</span>,"<span class="hljs-attribute">group</span>")},<span class="hljs-attribute">goGroupLeft:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.moveH</span>(<span class="hljs-attribute">-1</span>,"<span class="hljs-attribute">group</span>")},<span class="hljs-attribute">goWordRight:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.moveH</span>(<span class="hljs-attribute">1</span>,"<span class="hljs-attribute">word</span>")},<span class="hljs-attribute">delCharBefore:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.deleteH</span>(<span class="hljs-attribute">-1</span>,"<span class="hljs-attribute">char</span>")},<span class="hljs-attribute">delCharAfter:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.deleteH</span>(<span class="hljs-attribute">1</span>,"<span class="hljs-attribute">char</span>")},<span class="hljs-attribute">delWordBefore:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.deleteH</span>(<span class="hljs-attribute">-1</span>,"<span class="hljs-attribute">word</span>")},<span class="hljs-attribute">delWordAfter:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.deleteH</span>(<span class="hljs-attribute">1</span>,"<span class="hljs-attribute">word</span>")},<span class="hljs-attribute">delGroupBefore:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.deleteH</span>(<span class="hljs-attribute">-1</span>,"<span class="hljs-attribute">group</span>")},<span class="hljs-attribute">delGroupAfter:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.deleteH</span>(<span class="hljs-attribute">1</span>,"<span class="hljs-attribute">group</span>")},<span class="hljs-attribute">indentAuto:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.indentSelection</span>("<span class="hljs-attribute">smart</span>")},<span class="hljs-attribute">indentMore:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.indentSelection</span>("<span class="hljs-attribute">add</span>")},<span class="hljs-attribute">indentLess:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.indentSelection</span>("<span class="hljs-attribute">subtract</span>")},<span class="hljs-attribute">insertTab:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.replaceSelection</span>("\<span class="hljs-attribute">t</span>")},<span class="hljs-attribute">insertSoftTab:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">[],i=t.listSelections(),n=t.options.tabSize,r=0;r&lt;i.length;r++){var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">i[r].from(),o=$o(t.getLine(s.line),s.ch,n);e.push(new</span> <span class="hljs-attribute">Array</span>(<span class="hljs-attribute">n-o</span>%<span class="hljs-attribute">n</span>+<span class="hljs-attribute">1</span>)<span class="hljs-attribute">.join</span>(" "))}<span class="hljs-attribute">t.replaceSelections</span>(<span class="hljs-attribute">e</span>)},<span class="hljs-attribute">defaultTab:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.somethingSelected</span>()?<span class="hljs-attribute">t.indentSelection</span>("<span class="hljs-attribute">add</span>")<span class="hljs-attribute">:t.execCommand</span>("<span class="hljs-attribute">insertTab</span>")},<span class="hljs-attribute">transposeChars:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">Fe</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">function</span>(){<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">t.listSelections(),i=[],n=0;n&lt;e.length;n++){var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">e[n].head,s=Yn(t.doc,r.line).text;if(s)if(r.ch==s.length&amp;&amp;(r=new</span> <span class="hljs-attribute">Es</span>(<span class="hljs-attribute">r.line</span>,<span class="hljs-attribute">r.ch-1</span>)),<span class="hljs-attribute">r.ch</span>&gt;</span>0)r=new Es(r.line,r.ch+1),t.replaceRange(s.charAt(r.ch-1)+s.charAt(r.ch-2),Es(r.line,r.ch-2),r,"+transpose");else if(r.line&gt;t.doc.first){var o=Yn(t.doc,r.line-1).text;o&amp;&amp;t.replaceRange(s.charAt(0)+t.doc.lineSeparator()+o.charAt(o.length-1),Es(r.line-1,o.length-1),Es(r.line,1),"+transpose")}i.push(new dt(r,r))}t.setSelections(i)})},newlineAndIndent:function(t){Fe(t,function(){for(var e=t.listSelections().length,i=0;i<span class="hljs-tag">&lt;<span class="hljs-title">e;i++){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">t.listSelections()[i];t.replaceRange(t.doc.lineSeparator(),n.anchor,n.head,"+input"),t.indentLine(n.from().line+1,null,!0)}Ei(t)})},toggleOverwrite:function(t){t.toggleOverwrite()}},uo=t.keyMap={};uo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},uo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},uo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},uo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},uo["default"]=Fs?uo.macDefault:uo.pcDefault,t.normalizeKeyMap=function(t){var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">{};for(var</span> <span class="hljs-attribute">i</span> <span class="hljs-attribute">in</span> <span class="hljs-attribute">t</span>)<span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.hasOwnProperty</span>(<span class="hljs-attribute">i</span>)){<span class="hljs-attribute">var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">t[i];if(</span>/^(<span class="hljs-attribute">name</span>|<span class="hljs-attribute">fallthrough</span>|(<span class="hljs-attribute">de</span>|<span class="hljs-attribute">at</span>)<span class="hljs-attribute">tach</span>)$/<span class="hljs-attribute">.test</span>(<span class="hljs-attribute">i</span>))<span class="hljs-attribute">continue</span>;<span class="hljs-attribute">if</span>("<span class="hljs-attribute">...</span>"=<span class="hljs-value">=n){delete</span> <span class="hljs-attribute">t</span>[<span class="hljs-attribute">i</span>];<span class="hljs-attribute">continue</span>}<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">Wr(i.split("</span> "),<span class="hljs-attribute">Gi</span>),<span class="hljs-attribute">s</span>=<span class="hljs-value">0;s&lt;r.length;s++){var</span> <span class="hljs-attribute">o</span>,<span class="hljs-attribute">a</span>;<span class="hljs-attribute">s</span>=<span class="hljs-value">=r.length-1?(a=r.join("</span> "),<span class="hljs-attribute">o</span>=<span class="hljs-value">n):(a=r.slice(0,s+1).join("</span> "),<span class="hljs-attribute">o</span>=<span class="hljs-value">"..."</span><span class="hljs-value">);var</span> <span class="hljs-attribute">l</span>=<span class="hljs-value">e[a];if(l){if(l!=o)throw</span> <span class="hljs-attribute">new</span> <span class="hljs-attribute">Error</span>("<span class="hljs-attribute">Inconsistent</span> <span class="hljs-attribute">bindings</span> <span class="hljs-attribute">for</span> "+<span class="hljs-attribute">a</span>)}<span class="hljs-attribute">else</span> <span class="hljs-attribute">e</span>[<span class="hljs-attribute">a</span>]=<span class="hljs-value">o}delete</span> <span class="hljs-attribute">t</span>[<span class="hljs-attribute">i</span>]}<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">c</span> <span class="hljs-attribute">in</span> <span class="hljs-attribute">e</span>)<span class="hljs-attribute">t</span>[<span class="hljs-attribute">c</span>]=<span class="hljs-value">e[c];return</span> <span class="hljs-attribute">t</span>};<span class="hljs-attribute">var</span> <span class="hljs-attribute">ho</span>=<span class="hljs-value">t.lookupKey=function(t,e,i,n){e=Ui(e);var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">e.call?e.call(t,n):e[t];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&amp;&amp;i(r))return"handled";if(e.fallthrough){if("[object</span> <span class="hljs-attribute">Array</span>]"!=<span class="hljs-value">Object.prototype.toString.call(e.fallthrough))return</span> <span class="hljs-attribute">ho</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e.fallthrough</span>,<span class="hljs-attribute">i</span>,<span class="hljs-attribute">n</span>);<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">0;s&lt;e.fallthrough.length;s++){var</span> <span class="hljs-attribute">o</span>=<span class="hljs-value">ho(t,e.fallthrough[s],i,n);if(o)return</span> <span class="hljs-attribute">o</span>}}},<span class="hljs-attribute">fo</span>=<span class="hljs-value">t.isModifierKey=function(t){var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">"string"</span><span class="hljs-value">==typeof</span> <span class="hljs-attribute">t</span>?<span class="hljs-attribute">t:sa</span>[<span class="hljs-attribute">t.keyCode</span>];<span class="hljs-attribute">return</span>"<span class="hljs-attribute">Ctrl</span>"=<span class="hljs-value">=e||"Alt"==e||"Shift"==e||"Mod"==e},po=t.keyName=function(t,e){if(Cs&amp;&amp;34==t.keyCode&amp;&amp;t["char"])return!1;var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">sa[t.keyCode],n=i;return</span> <span class="hljs-attribute">null</span>!=<span class="hljs-value">n&amp;&amp;!t.altGraphKey&amp;&amp;(t.altKey&amp;&amp;"Alt"!=i&amp;&amp;(n="Alt-"+n),(Ns?t.metaKey:t.ctrlKey)&amp;&amp;"Ctrl"!=i&amp;&amp;(n="Ctrl-"+n),(Ns?t.ctrlKey:t.metaKey)&amp;&amp;"Cmd"!=i&amp;&amp;(n="Cmd-"+n),!e&amp;&amp;t.shiftKey&amp;&amp;"Shift"!=i&amp;&amp;(n="Shift-"+n),n)};t.fromTextArea=function(e,i){function</span> <span class="hljs-attribute">n</span>(){<span class="hljs-attribute">e.value</span>=<span class="hljs-value">c.getValue()}if(i=i?Er(i):{},i.value=e.value,!i.tabindex&amp;&amp;e.tabIndex&amp;&amp;(i.tabindex=e.tabIndex),!i.placeholder&amp;&amp;e.placeholder&amp;&amp;(i.placeholder=e.placeholder),null==i.autofocus){var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">Gr();i.autofocus=r==e||null!=e.getAttribute("autofocus")&amp;&amp;r==document.body}if(e.form&amp;&amp;(Ao(e.form,"submit",n),!i.leaveSubmitMethodAlone)){var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">e.form,o=s.submit;try{var</span> <span class="hljs-attribute">a</span>=<span class="hljs-value">s.submit=function(){n(),s.submit=o,s.submit(),s.submit=a}}catch(l){}}i.finishInit=function(t){t.save=n,t.getTextArea=function(){return</span> <span class="hljs-attribute">e</span>},<span class="hljs-attribute">t.toTextArea</span>=<span class="hljs-value">function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&amp;&amp;(Oo(e.form,"submit",n),"function"==typeof</span> <span class="hljs-attribute">e.form.submit</span>&amp;&amp;(<span class="hljs-attribute">e.form.submit</span>=<span class="hljs-value">o))}},e.style.display="none";var</span> <span class="hljs-attribute">c</span>=<span class="hljs-value">t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},i);return</span> <span class="hljs-attribute">c</span>};<span class="hljs-attribute">var</span> <span class="hljs-attribute">go</span>=<span class="hljs-value">t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};go.prototype={eol:function(){return</span> <span class="hljs-attribute">this.pos</span>&gt;</span>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<span class="hljs-tag">&lt;<span class="hljs-title">this.string.length)return</span> <span class="hljs-attribute">this.string.charAt</span>(<span class="hljs-attribute">this.pos</span>++)},<span class="hljs-attribute">eat:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">this.string.charAt(this.pos);if("string"==typeof</span> <span class="hljs-attribute">t</span>)<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">e==t;else</span> <span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">e&amp;&amp;(t.test?t.test(e):t(e));if(i)return++this.pos,e},eatWhile:function(t){for(var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">this.pos;this.eat(t););return</span> <span class="hljs-attribute">this.pos</span>&gt;</span>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos&gt;t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);if(e&gt;-1)return this.pos=e,!0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<span class="hljs-tag">&lt;<span class="hljs-title">this.start&amp;&amp;(this.lastColumnValue=$o(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?$o(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return</span> $<span class="hljs-attribute">o</span>(<span class="hljs-attribute">this.string</span>,<span class="hljs-attribute">null</span>,<span class="hljs-attribute">this.tabSize</span>)<span class="hljs-attribute">-</span>(<span class="hljs-attribute">this.lineStart</span>?$<span class="hljs-attribute">o</span>(<span class="hljs-attribute">this.string</span>,<span class="hljs-attribute">this.lineStart</span>,<span class="hljs-attribute">this.tabSize</span>)<span class="hljs-attribute">:0</span>)},<span class="hljs-attribute">match:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>){<span class="hljs-attribute">if</span>("<span class="hljs-attribute">string</span>"!=<span class="hljs-value">typeof</span> <span class="hljs-attribute">t</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">this.string.slice(this.pos).match(t);return</span> <span class="hljs-attribute">n</span>&amp;&amp;<span class="hljs-attribute">n.index</span>&gt;</span>0?null:(n&amp;&amp;e!==!1&amp;&amp;(this.pos+=n[0].length),n)}var r=function(t){return i?t.toLowerCase():t},s=this.string.substr(this.pos,t.length);if(r(s)==r(t))return e!==!1&amp;&amp;(this.pos+=t.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var mo=0,vo=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++mo};Fr(vo),vo.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&amp;&amp;!t.curOp;if(e&amp;&amp;_e(t),Mr(this,"clear")){var i=this.find();i&amp;&amp;Sr(this,"clear",i.from,i.to)}for(var n=null,r=null,s=0;s<span class="hljs-tag">&lt;<span class="hljs-title">this.lines.length;++s){var</span> <span class="hljs-attribute">o</span>=<span class="hljs-value">this.lines[s],a=Qi(o.markedSpans,this);t&amp;&amp;!this.collapsed?ze(t,er(o),"text"):t&amp;&amp;(null!=a.to&amp;&amp;(r=er(o)),null!=a.from&amp;&amp;(n=er(o))),o.markedSpans=tn(o.markedSpans,a),null==a.from&amp;&amp;this.collapsed&amp;&amp;!wn(this.doc,o)&amp;&amp;t&amp;&amp;tr(o,be(t.display))}if(t&amp;&amp;this.collapsed&amp;&amp;!t.options.lineWrapping)for(var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">0;s&lt;this.lines.length;++s){var</span> <span class="hljs-attribute">l</span>=<span class="hljs-value">bn(this.lines[s]),c=d(l);c</span>&gt;</span>t.display.maxLineLength&amp;&amp;(t.display.maxLine=l,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=n&amp;&amp;t&amp;&amp;this.collapsed&amp;&amp;He(t,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&amp;&amp;this.doc.cantEdit&amp;&amp;(this.doc.cantEdit=!1,t&amp;&amp;Ft(t.doc)),t&amp;&amp;Sr(t,"markerCleared",t,this),e&amp;&amp;we(t),this.parent&amp;&amp;this.parent.clear()}},vo.prototype.find=function(t,e){null==t&amp;&amp;"bookmark"==this.type&amp;&amp;(t=1);for(var i,n,r=0;r<span class="hljs-tag">&lt;<span class="hljs-title">this.lines.length;++r){var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">this.lines[r],o=Qi(s.markedSpans,this);if(null!=o.from&amp;&amp;(i=Es(e?s:er(s),o.from),t==-1))return</span> <span class="hljs-attribute">i</span>;<span class="hljs-attribute">if</span>(<span class="hljs-attribute">null</span>!=<span class="hljs-value">o.to&amp;&amp;(n=Es(e?s:er(s),o.to),1==t))return</span> <span class="hljs-attribute">n</span>}<span class="hljs-attribute">return</span> <span class="hljs-attribute">i</span>&amp;&amp;{<span class="hljs-attribute">from:i</span>,<span class="hljs-attribute">to:n</span>}},<span class="hljs-attribute">vo.prototype.changed</span>=<span class="hljs-value">function(){var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">this.find(-1,!0),e=this,i=this.doc.cm;t&amp;&amp;i&amp;&amp;Fe(i,function(){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">t.line,r=er(t.line),s=Qt(i,r);if(s&amp;&amp;(se(s),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!wn(e.doc,n)&amp;&amp;null!=e.height){var</span> <span class="hljs-attribute">o</span>=<span class="hljs-value">e.height;e.height=null;var</span> <span class="hljs-attribute">a</span>=<span class="hljs-value">kn(e)-o;a&amp;&amp;tr(n,n.height+a)}})},vo.prototype.attachLine=function(t){if(!this.lines.length&amp;&amp;this.doc.cm){var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">this.doc.cm.curOp;e.maybeHiddenMarkers&amp;&amp;Nr(e.maybeHiddenMarkers,this)!=-1||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},vo.prototype.detachLine=function(t){if(this.lines.splice(Nr(this.lines,t),1),!this.lines.length&amp;&amp;this.doc.cm){var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};var</span> <span class="hljs-attribute">mo</span>=<span class="hljs-value">0,bo=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">0;i&lt;t.length;++i)t[i].parent=this};Fr(bo),bo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">0;t&lt;this.markers.length;++t)this.markers[t].clear();Sr(this,"clear")}},bo.prototype.find=function(t,e){return</span> <span class="hljs-attribute">this.primary.find</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>)};<span class="hljs-attribute">var</span> <span class="hljs-attribute">yo</span>=<span class="hljs-value">t.LineWidget=function(t,e,i){if(i)for(var</span> <span class="hljs-attribute">n</span> <span class="hljs-attribute">in</span> <span class="hljs-attribute">i</span>)<span class="hljs-attribute">i.hasOwnProperty</span>(<span class="hljs-attribute">n</span>)&amp;&amp;(<span class="hljs-attribute">this</span>[<span class="hljs-attribute">n</span>]=<span class="hljs-value">i[n]);this.doc=t,this.node=e};Fr(yo),yo.prototype.clear=function(){var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">this.doc.cm,e=this.line.widgets,i=this.line,n=er(i);if(null!=n&amp;&amp;e){for(var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">0;r&lt;e.length;++r)e[r]==this&amp;&amp;e.splice(r--,1);e.length||(i.widgets=null);var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">kn(this);tr(i,Math.max(0,i.height-s)),t&amp;&amp;Fe(t,function(){Sn(t,i,-s),ze(t,n,"widget")})}},yo.prototype.changed=function(){var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">this.height,e=this.doc.cm,i=this.line;this.height=null;var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">kn(this)-t;n&amp;&amp;(tr(i,i.height+n),e&amp;&amp;Fe(e,function(){e.curOp.forceUpdate=!0,Sn(e,i,n)}))};var</span> <span class="hljs-attribute">_o</span>=<span class="hljs-value">t.Line=function(t,e,i){this.text=t,un(this,e),this.height=i?i(this):1};Fr(_o),_o.prototype.lineNo=function(){return</span> <span class="hljs-attribute">er</span>(<span class="hljs-attribute">this</span>)};<span class="hljs-attribute">var</span> <span class="hljs-attribute">xo</span>=<span class="hljs-value">{},wo={};Vn.prototype={chunkSize:function(){return</span> <span class="hljs-attribute">this.lines.length</span>},<span class="hljs-attribute">removeInner:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">t,n=t+e;i&lt;n;++i){var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">this.lines[i];this.height-=r.height,Mn(r),Sr(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">0;n&lt;e.length;++n)e[n].parent=this},iterN:function(t,e,i){for(var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">t+e;t&lt;n;++t)if(i(this.lines[t]))return!0}},Zn.prototype={chunkSize:function(){return</span> <span class="hljs-attribute">this.size</span>},<span class="hljs-attribute">removeInner:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">this.size-</span>=<span class="hljs-value">e;for(var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">0;i&lt;this.children.length;++i){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">this.children[i],r=n.chunkSize();if(t&lt;r){var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">Math.min(e,r-t),o=n.height;if(n.removeInner(t,s),this.height-=o-n.height,r==s&amp;&amp;(this.children.splice(i--,1),n.parent=null),0==(e-=s))break;t=0}else</span> <span class="hljs-attribute">t-</span>=<span class="hljs-value">r}if(this.size-e&lt;25&amp;&amp;(this.children.length</span>&gt;</span>1||!(this.children[0]instanceof Vn))){var a=[];this.collapse(a),this.children=[new Vn(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<span class="hljs-tag">&lt;<span class="hljs-title">this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,i){this.size+=e.length,this.height+=i;for(var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">0;n&lt;this.children.length;++n){var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">this.children[n],s=r.chunkSize();if(t&lt;=s){if(r.insertInner(t,e,i),r.lines&amp;&amp;r.lines.length</span>&gt;</span>50){for(;r.lines.length&gt;50;){var o=r.lines.splice(r.lines.length-25,25),a=new Vn(o);r.height-=a.height,this.children.splice(n+1,0,a),a.parent=this}this.maybeSpill()}break}t-=s}},maybeSpill:function(){if(!(this.children.length<span class="hljs-tag">&lt;<span class="hljs-title">=10)){var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">this;do{var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">t.children.splice(t.children.length-5,5),i=new</span> <span class="hljs-attribute">Zn</span>(<span class="hljs-attribute">e</span>);<span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.parent</span>){<span class="hljs-attribute">t.size-</span>=<span class="hljs-value">i.size,t.height-=i.height;var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">Nr(t.parent.children,t);t.parent.children.splice(n+1,0,i)}else{var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">new</span> <span class="hljs-attribute">Zn</span>(<span class="hljs-attribute">t.children</span>);<span class="hljs-attribute">r.parent</span>=<span class="hljs-value">t,t.children=[r,i],t=r}i.parent=t.parent}while(t.children.length</span>&gt;</span>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var n=0;n<span class="hljs-tag">&lt;<span class="hljs-title">this.children.length;++n){var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">this.children[n],s=r.chunkSize();if(t&lt;s){var</span> <span class="hljs-attribute">o</span>=<span class="hljs-value">Math.min(e,s-t);if(r.iterN(t,o,i))return!0;if(0==(e-=o))break;t=0}else</span> <span class="hljs-attribute">t-</span>=<span class="hljs-value">s}}};var</span> <span class="hljs-attribute">Co</span>=<span class="hljs-value">0,So=t.Doc=function(t,e,i,n){if(!(this</span> <span class="hljs-attribute">instanceof</span> <span class="hljs-attribute">So</span>))<span class="hljs-attribute">return</span> <span class="hljs-attribute">new</span> <span class="hljs-attribute">So</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>,<span class="hljs-attribute">n</span>);<span class="hljs-attribute">null</span>=<span class="hljs-value">=i&amp;&amp;(i=0),Zn.call(this,[new</span> <span class="hljs-attribute">Vn</span>([<span class="hljs-attribute">new</span> <span class="hljs-attribute">_o</span>("",<span class="hljs-attribute">null</span>)])]),<span class="hljs-attribute">this.first</span>=<span class="hljs-value">i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=i;var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">Es(i,0);this.sel=ft(r),this.history=new</span> <span class="hljs-attribute">sr</span>(<span class="hljs-attribute">null</span>),<span class="hljs-attribute">this.id</span>=<span class="hljs-value">++Co,this.modeOption=e,this.lineSep=n,this.extend=!1,"string"==typeof</span> <span class="hljs-attribute">t</span>&amp;&amp;(<span class="hljs-attribute">t</span>=<span class="hljs-value">this.splitLines(t)),Un(this,{from:r,to:r,text:t}),Tt(this,ft(r),Eo)};So.prototype=zr(Zn.prototype,{constructor:So,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">0,n=0;n&lt;e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">Qn(this,this.first,this.first+this.size);return</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">==!1?e:e.join(t||this.lineSeparator())},setValue:Oe(function(t){var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">Es(this.first,0),i=this.first+this.size-1;ki(this,{from:e,to:Es(i,Yn(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),Tt(this,ft(e))}),replaceRange:function(t,e,i,n){e=gt(this,e),i=i?gt(this,i):e,Di(this,t,e,i,n)},getRange:function(t,e,i){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">Jn(this,gt(this,t),gt(this,e));return</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">==!1?n:n.join(i||this.lineSeparator())},getLine:function(t){var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">this.getLineHandle(t);return</span> <span class="hljs-attribute">e</span>&amp;&amp;<span class="hljs-attribute">e.text</span>},<span class="hljs-attribute">getLineHandle:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">if</span>(<span class="hljs-attribute">vt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">t</span>))<span class="hljs-attribute">return</span> <span class="hljs-attribute">Yn</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">t</span>)},<span class="hljs-attribute">getLineNumber:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">er</span>(<span class="hljs-attribute">t</span>)},<span class="hljs-attribute">getLineHandleVisualStart:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">return</span>"<span class="hljs-attribute">number</span>"=<span class="hljs-value">=typeof</span> <span class="hljs-attribute">t</span>&amp;&amp;(<span class="hljs-attribute">t</span>=<span class="hljs-value">Yn(this,t)),bn(t)},lineCount:function(){return</span> <span class="hljs-attribute">this.size</span>},<span class="hljs-attribute">firstLine:function</span>(){<span class="hljs-attribute">return</span> <span class="hljs-attribute">this.first</span>},<span class="hljs-attribute">lastLine:function</span>(){<span class="hljs-attribute">return</span> <span class="hljs-attribute">this.first</span>+<span class="hljs-attribute">this.size-1</span>},<span class="hljs-attribute">clipPos:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">gt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">t</span>)},<span class="hljs-attribute">getCursor:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>=<span class="hljs-value">this.sel.primary();return</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">null==t||"head"==t?i.head:"anchor"==t?i.anchor:"end"==t||"to"==t||t===!1?i.to():i.from()},listSelections:function(){return</span> <span class="hljs-attribute">this.sel.ranges</span>},<span class="hljs-attribute">somethingSelected:function</span>(){<span class="hljs-attribute">return</span> <span class="hljs-attribute">this.sel.somethingSelected</span>()},<span class="hljs-attribute">setCursor:Oe</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>){<span class="hljs-attribute">Ct</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">gt</span>(<span class="hljs-attribute">this</span>,"<span class="hljs-attribute">number</span>"=<span class="hljs-value">=typeof</span> <span class="hljs-attribute">t</span>?<span class="hljs-attribute">Es</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>||<span class="hljs-attribute">0</span>)<span class="hljs-attribute">:t</span>),<span class="hljs-attribute">null</span>,<span class="hljs-attribute">i</span>)}),<span class="hljs-attribute">setSelection:Oe</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>){<span class="hljs-attribute">Ct</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">gt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">t</span>),<span class="hljs-attribute">gt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">e</span>||<span class="hljs-attribute">t</span>),<span class="hljs-attribute">i</span>)}),<span class="hljs-attribute">extendSelection:Oe</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>){<span class="hljs-attribute">_t</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">gt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">t</span>),<span class="hljs-attribute">e</span>&amp;&amp;<span class="hljs-attribute">gt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">e</span>),<span class="hljs-attribute">i</span>)}),<span class="hljs-attribute">extendSelections:Oe</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">xt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">bt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">t</span>),<span class="hljs-attribute">e</span>)}),<span class="hljs-attribute">extendSelectionsBy:Oe</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">Wr(this.sel.ranges,t);xt(this,bt(this,i),e)}),setSelections:Oe(function(t,e,i){if(t.length){for(var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">0,r=[];n&lt;t.length;n++)r[n]=new</span> <span class="hljs-attribute">dt</span>(<span class="hljs-attribute">gt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">t</span>[<span class="hljs-attribute">n</span>]<span class="hljs-attribute">.anchor</span>),<span class="hljs-attribute">gt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">t</span>[<span class="hljs-attribute">n</span>]<span class="hljs-attribute">.head</span>));<span class="hljs-attribute">null</span>=<span class="hljs-value">=e&amp;&amp;(e=Math.min(t.length-1,this.sel.primIndex)),Tt(this,ht(r,e),i)}}),addSelection:Oe(function(t,e,i){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">this.sel.ranges.slice(0);n.push(new</span> <span class="hljs-attribute">dt</span>(<span class="hljs-attribute">gt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">t</span>),<span class="hljs-attribute">gt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">e</span>||<span class="hljs-attribute">t</span>))),<span class="hljs-attribute">Tt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">ht</span>(<span class="hljs-attribute">n</span>,<span class="hljs-attribute">n.length-1</span>),<span class="hljs-attribute">i</span>)}),<span class="hljs-attribute">getSelection:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>=<span class="hljs-value">this.sel.ranges,n=0;n&lt;i.length;n++){var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">Jn(this,i[n].from(),i[n].to());e=e?e.concat(r):r}return</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">==!1?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">[],i=this.sel.ranges,n=0;n&lt;i.length;n++){var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">Jn(this,i[n].from(),i[n].to());t!==!1&amp;&amp;(r=r.join(t||this.lineSeparator())),e[n]=r}return</span> <span class="hljs-attribute">e</span>},<span class="hljs-attribute">replaceSelection:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>){<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">[],r=0;r&lt;this.sel.ranges.length;r++)n[r]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:Oe(function(t,e,i){for(var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">[],r=this.sel,s=0;s&lt;r.ranges.length;s++){var</span> <span class="hljs-attribute">o</span>=<span class="hljs-value">r.ranges[s];n[s]={from:o.from(),to:o.to(),text:this.splitLines(t[s]),origin:i}}for(var</span> <span class="hljs-attribute">a</span>=<span class="hljs-value">e&amp;&amp;"end"!=e&amp;&amp;Ci(this,n,e),s=n.length-1;s</span>&gt;</span>=0;s--)ki(this,n[s]);a?kt(this,a):this.cm&amp;&amp;Ei(this.cm)}),undo:Oe(function(){Li(this,"undo")}),redo:Oe(function(){Li(this,"redo")}),undoSelection:Oe(function(){Li(this,"undo",!0)}),redoSelection:Oe(function(){Li(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<span class="hljs-tag">&lt;<span class="hljs-title">t.done.length;n++)t.done[n].ranges||++e;for(var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">0;n&lt;t.undone.length;n++)t.undone[n].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){this.history=new</span> <span class="hljs-attribute">sr</span>(<span class="hljs-attribute">this.history.maxGeneration</span>)},<span class="hljs-attribute">markClean:function</span>(){<span class="hljs-attribute">this.cleanGeneration</span>=<span class="hljs-value">this.changeGeneration(!0)},changeGeneration:function(t){return</span> <span class="hljs-attribute">t</span>&amp;&amp;(<span class="hljs-attribute">this.history.lastOp</span>=<span class="hljs-value">this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return</span> <span class="hljs-attribute">this.history.generation</span>=<span class="hljs-value">=(t||this.cleanGeneration)},getHistory:function(){return{done:mr(this.history.done),undone:mr(this.history.undone)}},setHistory:function(t){var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">this.history=new</span> <span class="hljs-attribute">sr</span>(<span class="hljs-attribute">this.history.maxGeneration</span>);<span class="hljs-attribute">e.done</span>=<span class="hljs-value">mr(t.done.slice(0),null,!0),e.undone=mr(t.undone.slice(0),null,!0)},addLineClass:Oe(function(t,e,i){return</span> $<span class="hljs-attribute">i</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">t</span>,"<span class="hljs-attribute">gutter</span>"=<span class="hljs-value">=e?"gutter":"class",function(t){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">"text"</span><span class="hljs-value">==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[n]){if(Ur(i).test(t[n]))return!1;t[n]+="</span> "+<span class="hljs-attribute">i</span>}<span class="hljs-attribute">else</span> <span class="hljs-attribute">t</span>[<span class="hljs-attribute">n</span>]=<span class="hljs-value">i;return!0})}),removeLineClass:Oe(function(t,e,i){return</span> $<span class="hljs-attribute">i</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">t</span>,"<span class="hljs-attribute">gutter</span>"=<span class="hljs-value">=e?"gutter":"class",function(t){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">"text"</span><span class="hljs-value">==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",r=t[n];if(!r)return!1;if(null==i)t[n]=null;else{var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">r.match(Ur(i));if(!s)return!1;var</span> <span class="hljs-attribute">o</span>=<span class="hljs-value">s.index+s[0].length;t[n]=r.slice(0,s.index)+(s.index&amp;&amp;o!=r.length?"</span> "<span class="hljs-attribute">:</span>"")+<span class="hljs-attribute">r.slice</span>(<span class="hljs-attribute">o</span>)||<span class="hljs-attribute">null</span>}<span class="hljs-attribute">return</span>!<span class="hljs-attribute">0</span>})}),<span class="hljs-attribute">addLineWidget:Oe</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">Tn</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>)}),<span class="hljs-attribute">removeLineWidget:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t.clear</span>()},<span class="hljs-attribute">markText:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">Vi</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">gt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">t</span>),<span class="hljs-attribute">gt</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">e</span>),<span class="hljs-attribute">i</span>,<span class="hljs-attribute">i</span>&amp;&amp;<span class="hljs-attribute">i.type</span>||"<span class="hljs-attribute">range</span>")},<span class="hljs-attribute">setBookmark:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">{replacedWith:e&amp;&amp;(null==e.nodeType?e.widget:e),insertLeft:e&amp;&amp;e.insertLeft,clearWhenEmpty:!1,shared:e&amp;&amp;e.shared,handleMouseEvents:e&amp;&amp;e.handleMouseEvents};return</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">gt(this,t),Vi(this,t,t,i,"bookmark")},findMarksAt:function(t){t=gt(this,t);var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">[],i=Yn(this,t.line).markedSpans;if(i)for(var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">0;n&lt;i.length;++n){var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">i[n];(null==r.from||r.from&lt;=t.ch)&amp;&amp;(null==r.to||r.to</span>&gt;</span>=t.ch)&amp;&amp;e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,i){t=gt(this,t),e=gt(this,e);var n=[],r=t.line;return this.iter(t.line,e.line+1,function(s){var o=s.markedSpans;if(o)for(var a=0;a<span class="hljs-tag">&lt;<span class="hljs-title">o.length;a++){var</span> <span class="hljs-attribute">l</span>=<span class="hljs-value">o[a];null!=l.to&amp;&amp;r==t.line&amp;&amp;t.ch</span>&gt;</span>=l.to||null==l.from&amp;&amp;r!=t.line||null!=l.from&amp;&amp;r==e.line&amp;&amp;l.from&gt;=e.ch||i&amp;&amp;!i(l.marker)||n.push(l.marker.parent||l.marker)}++r}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var i=e.markedSpans;if(i)for(var n=0;n<span class="hljs-tag">&lt;<span class="hljs-title">i.length;++n)null!=i[n].from&amp;&amp;t.push(i[n].marker)}),t},posFromIndex:function(t){var</span> <span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>=<span class="hljs-value">this.first,n=this.lineSeparator().length;return</span> <span class="hljs-attribute">this.iter</span>(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">r</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">r.text.length+n;return</span> <span class="hljs-attribute">s</span>&gt;</span>t?(e=t,!0):(t-=s,void++i)}),gt(this,Es(i,e))},indexFromPos:function(t){t=gt(this,t);var e=t.ch;if(t.line<span class="hljs-tag">&lt;<span class="hljs-title">this.first||t.ch</span>&lt;<span class="hljs-attribute">0</span>)<span class="hljs-attribute">return</span> <span class="hljs-attribute">0</span>;<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">this.lineSeparator().length;return</span> <span class="hljs-attribute">this.iter</span>(<span class="hljs-attribute">this.first</span>,<span class="hljs-attribute">t.line</span>,<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">e</span>+=<span class="hljs-value">t.text.length+i}),e},copy:function(t){var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">new</span> <span class="hljs-attribute">So</span>(<span class="hljs-attribute">Qn</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">this.first</span>,<span class="hljs-attribute">this.first</span>+<span class="hljs-attribute">this.size</span>),<span class="hljs-attribute">this.modeOption</span>,<span class="hljs-attribute">this.first</span>,<span class="hljs-attribute">this.lineSep</span>);<span class="hljs-attribute">return</span> <span class="hljs-attribute">e.scrollTop</span>=<span class="hljs-value">this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&amp;&amp;(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">this.first,i=this.first+this.size;null!=t.from&amp;&amp;t.from</span>&gt;</span>e&amp;&amp;(e=t.from),null!=t.to&amp;&amp;t.to<span class="hljs-tag">&lt;<span class="hljs-title">i&amp;&amp;(i=t.to);var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">new</span> <span class="hljs-attribute">So</span>(<span class="hljs-attribute">Qn</span>(<span class="hljs-attribute">this</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>),<span class="hljs-attribute">t.mode</span>||<span class="hljs-attribute">this.modeOption</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">this.lineSep</span>);<span class="hljs-attribute">return</span> <span class="hljs-attribute">t.sharedHist</span>&amp;&amp;(<span class="hljs-attribute">n.history</span>=<span class="hljs-value">this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Xi(n,Ki(this)),n},unlinkDoc:function(e){if(e</span> <span class="hljs-attribute">instanceof</span> <span class="hljs-attribute">t</span>&amp;&amp;(<span class="hljs-attribute">e</span>=<span class="hljs-value">e.doc),this.linked)for(var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">0;i&lt;this.linked.length;++i){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">this.linked[i];if(n.doc==e){this.linked.splice(i,1),e.unlinkDoc(this),Yi(Ki(this));break}}if(e.history==this.history){var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">[e.id];Kn(e,function(t){r.push(t.id)},!0),e.history=new</span> <span class="hljs-attribute">sr</span>(<span class="hljs-attribute">null</span>),<span class="hljs-attribute">e.history.done</span>=<span class="hljs-value">mr(this.history.done,r),e.history.undone=mr(this.history.undone,r)}},iterLinkedDocs:function(t){Kn(this,t)},getMode:function(){return</span> <span class="hljs-attribute">this.mode</span>},<span class="hljs-attribute">getEditor:function</span>(){<span class="hljs-attribute">return</span> <span class="hljs-attribute">this.cm</span>},<span class="hljs-attribute">splitLines:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">this.lineSep</span>?<span class="hljs-attribute">t.split</span>(<span class="hljs-attribute">this.lineSep</span>)<span class="hljs-attribute">:ea</span>(<span class="hljs-attribute">t</span>)},<span class="hljs-attribute">lineSeparator:function</span>(){<span class="hljs-attribute">return</span> <span class="hljs-attribute">this.lineSep</span>||"\<span class="hljs-attribute">n</span>"}}),<span class="hljs-attribute">So.prototype.eachLine</span>=<span class="hljs-value">So.prototype.iter;var</span> <span class="hljs-attribute">ko</span>=<span class="hljs-value">"iter insert remove copy getEditor constructor"</span><span class="hljs-value">.split("</span> ");<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">To</span> <span class="hljs-attribute">in</span> <span class="hljs-attribute">So.prototype</span>)<span class="hljs-attribute">So.prototype.hasOwnProperty</span>(<span class="hljs-attribute">To</span>)&amp;&amp;<span class="hljs-attribute">Nr</span>(<span class="hljs-attribute">ko</span>,<span class="hljs-attribute">To</span>)&lt;<span class="hljs-attribute">0</span>&amp;&amp;(<span class="hljs-attribute">t.prototype</span>[<span class="hljs-attribute">To</span>]=<span class="hljs-value">function(t){return</span> <span class="hljs-attribute">function</span>(){<span class="hljs-attribute">return</span> <span class="hljs-attribute">t.apply</span>(<span class="hljs-attribute">this.doc</span>,<span class="hljs-attribute">arguments</span>)}}(<span class="hljs-attribute">So.prototype</span>[<span class="hljs-attribute">To</span>]));<span class="hljs-attribute">Fr</span>(<span class="hljs-attribute">So</span>);<span class="hljs-attribute">var</span> <span class="hljs-attribute">Lo</span>=<span class="hljs-value">t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Mo=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Fo=t.e_stop=function(t){Lo(t),Mo(t)},Ao=t.on=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else</span> <span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.attachEvent</span>)<span class="hljs-attribute">t.attachEvent</span>("<span class="hljs-attribute">on</span>"+<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>);<span class="hljs-attribute">else</span>{<span class="hljs-attribute">var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">t._handlers||(t._handlers={}),r=n[e]||(n[e]=[]);r.push(i)}},Do=[],Oo=t.off=function(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else</span> <span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.detachEvent</span>)<span class="hljs-attribute">t.detachEvent</span>("<span class="hljs-attribute">on</span>"+<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>);<span class="hljs-attribute">else</span> <span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">Cr(t,e,!1),r=0;r&lt;n.length;++r)if(n[r]==i){n.splice(r,1);break}},No=t.signal=function(t,e){var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">Cr(t,e,!0);if(i.length)for(var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">Array.prototype.slice.call(arguments,2),r=0;r&lt;i.length;++r)i[r].apply(null,n)},Wo=null,Ho=30,zo=t.Pass={toString:function(){return"CodeMirror.Pass"}},Eo={scroll:!1},Po={origin:"*mouse"},Io={origin:"+move"};Ar.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var</span> $<span class="hljs-attribute">o</span>=<span class="hljs-value">t.countColumn=function(t,e,i,n,r){null==e&amp;&amp;(e=t.search(</span>/[^\<span class="hljs-attribute">s</span>\<span class="hljs-attribute">u00a0</span>]/),<span class="hljs-attribute">e</span>=<span class="hljs-value">=-1&amp;&amp;(e=t.length));for(var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">n||0,o=r||0;;){var</span> <span class="hljs-attribute">a</span>=<span class="hljs-value">t.indexOf("\t",s);if(a&lt;0||a</span>&gt;</span>=e)return o+(e-s);o+=a-s,o+=i-o%i,s=a+1}},jo=t.findColumn=function(t,e,i){for(var n=0,r=0;;){var s=t.indexOf("\t",n);s==-1&amp;&amp;(s=t.length);var o=s-n;if(s==t.length||r+o&gt;=e)return n+Math.min(o,e-r);if(r+=s-n,r+=i-r%i,n=s+1,r&gt;=e)return n}},Ro=[""],Bo=function(t){t.select()};Ls?Bo=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:bs&amp;&amp;(Bo=function(t){try{t.select()}catch(e){}});var qo,Go=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Uo=t.isWordChar=function(t){return/\w/.test(t)||t&gt;""&amp;&amp;(t.toUpperCase()!=t.toLowerCase()||Go.test(t))},Vo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;qo=document.createRange?function(t,e,i,n){var r=document.createRange();return r.setEnd(n||t,i),r.setStart(t,e),r}:function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch(r){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};var Zo=t.contains=function(t,e){if(3==e.nodeType&amp;&amp;(e=e.parentNode),t.contains)return t.contains(e);do if(11==e.nodeType&amp;&amp;(e=e.host),e==t)return!0;while(e=e.parentNode)};bs&amp;&amp;ys<span class="hljs-tag">&lt;<span class="hljs-title">11&amp;&amp;(Gr=function(){try{return</span> <span class="hljs-attribute">document.activeElement</span>}<span class="hljs-attribute">catch</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">document.body</span>}});<span class="hljs-attribute">var</span> <span class="hljs-attribute">Ko</span>,<span class="hljs-attribute">Xo</span>,<span class="hljs-attribute">Yo</span>=<span class="hljs-value">t.rmClass=function(t,e){var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">t.className,n=Ur(e).exec(i);if(n){var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">i.slice(n.index+n[0].length);t.className=i.slice(0,n.index)+(r?n[1]+r:"")}},Jo=t.addClass=function(t,e){var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">t.className;Ur(e).test(i)||(t.className+=(i?"</span> "<span class="hljs-attribute">:</span>"")+<span class="hljs-attribute">e</span>)},<span class="hljs-attribute">Qo</span>=<span class="hljs-value">!1,ta=function(){if(bs&amp;&amp;ys&lt;9)return!1;var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">Rr("div");return"draggable"in</span> <span class="hljs-attribute">t</span>||"<span class="hljs-attribute">dragDrop</span>"<span class="hljs-attribute">in</span> <span class="hljs-attribute">t</span>}(),<span class="hljs-attribute">ea</span>=<span class="hljs-value">t.splitLines=3!="\n\nb".split(</span>/\<span class="hljs-attribute">n</span>/)<span class="hljs-attribute">.length</span>?<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">0,i=[],n=t.length;e&lt;=n;){var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">t.indexOf("\n",e);r==-1&amp;&amp;(r=t.length);var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">t.slice(e,"\r"==t.charAt(r-1)?r-1:r),o=s.indexOf("\r");o!=-1?(i.push(s.slice(0,o)),e+=o+1):(i.push(s),e=r+1)}return</span> <span class="hljs-attribute">i</span>}<span class="hljs-attribute">:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">t.split</span>(/\<span class="hljs-attribute">r</span>\<span class="hljs-attribute">n</span>?|\<span class="hljs-attribute">n</span>/)},<span class="hljs-attribute">ia</span>=<span class="hljs-value">window.getSelection?function(t){try{return</span> <span class="hljs-attribute">t.selectionStart</span>!=<span class="hljs-value">t.selectionEnd}catch(e){return!1}}:function(t){try{var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">t.ownerDocument.selection.createRange()}catch(i){}return!(!e||e.parentElement()!=t)&amp;&amp;0!=e.compareEndPoints("StartToEnd",e)},na=function(){var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">Rr("div");return"oncopy"in</span> <span class="hljs-attribute">t</span>||(<span class="hljs-attribute">t.setAttribute</span>("<span class="hljs-attribute">oncopy</span>","<span class="hljs-attribute">return</span>;"),"<span class="hljs-attribute">function</span>"=<span class="hljs-value">=typeof</span> <span class="hljs-attribute">t.oncopy</span>)}(),<span class="hljs-attribute">ra</span>=<span class="hljs-value">null,sa=t.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"</span>/",<span class="hljs-attribute">127:</span>"<span class="hljs-attribute">Delete</span>",<span class="hljs-attribute">173:</span>"<span class="hljs-attribute">-</span>",<span class="hljs-attribute">186:</span>";",<span class="hljs-attribute">187:</span>"=<span class="hljs-value">",188:"</span><span class="hljs-value">,",189:"-",190:".",191:"</span>/",<span class="hljs-attribute">192:</span>"`",<span class="hljs-attribute">219:</span>"[",<span class="hljs-attribute">220:</span>"\\",<span class="hljs-attribute">221:</span>"]",<span class="hljs-attribute">222:</span>"'",<span class="hljs-attribute">63232:</span>"<span class="hljs-attribute">Up</span>",<span class="hljs-attribute">63233:</span>"<span class="hljs-attribute">Down</span>",<span class="hljs-attribute">63234:</span>"<span class="hljs-attribute">Left</span>",<span class="hljs-attribute">63235:</span>"<span class="hljs-attribute">Right</span>",<span class="hljs-attribute">63272:</span>"<span class="hljs-attribute">Delete</span>",<span class="hljs-attribute">63273:</span>"<span class="hljs-attribute">Home</span>",<span class="hljs-attribute">63275:</span>"<span class="hljs-attribute">End</span>",<span class="hljs-attribute">63276:</span>"<span class="hljs-attribute">PageUp</span>",<span class="hljs-attribute">63277:</span>"<span class="hljs-attribute">PageDown</span>",<span class="hljs-attribute">63302:</span>"<span class="hljs-attribute">Insert</span>"};!<span class="hljs-attribute">function</span>(){<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">0;t&lt;10;t++)sa[t+48]=sa[t+96]=String(t);for(var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">65;t&lt;=90;t++)sa[t]=String.fromCharCode(t);for(var</span> <span class="hljs-attribute">t</span>=<span class="hljs-value">1;t&lt;=12;t++)sa[t+111]=sa[t+63235]="F"+t}();var</span> <span class="hljs-attribute">oa</span>,<span class="hljs-attribute">aa</span>=<span class="hljs-value">function(){function</span> <span class="hljs-attribute">t</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">t</span>&lt;=<span class="hljs-value">247?i.charAt(t):1424&lt;=t&amp;&amp;t&lt;=1524?"R":1536&lt;=t&amp;&amp;t&lt;=1773?n.charAt(t-1536):1774&lt;=t&amp;&amp;t&lt;=2220?"r":8192&lt;=t&amp;&amp;t&lt;=8203?"w":8204==t?"b":"L"}function</span> <span class="hljs-attribute">e</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>){<span class="hljs-attribute">this.level</span>=<span class="hljs-value">t,this.from=e,this.to=i}var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN"</span><span class="hljs-value">,n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=</span>/[\<span class="hljs-attribute">u0590-</span>\<span class="hljs-attribute">u05f4</span>\<span class="hljs-attribute">u0600-</span>\<span class="hljs-attribute">u06ff</span>\<span class="hljs-attribute">u0700-</span>\<span class="hljs-attribute">u08ac</span>]/,<span class="hljs-attribute">s</span>=/[<span class="hljs-attribute">stwN</span>]/,<span class="hljs-attribute">o</span>=/[<span class="hljs-attribute">LRr</span>]/,<span class="hljs-attribute">a</span>=/[<span class="hljs-attribute">Lb1n</span>]/,<span class="hljs-attribute">l</span>=/[<span class="hljs-attribute">1n</span>]/,<span class="hljs-attribute">c</span>=<span class="hljs-value">"L"</span><span class="hljs-value">;return</span> <span class="hljs-attribute">function</span>(<span class="hljs-attribute">i</span>){<span class="hljs-attribute">if</span>(!<span class="hljs-attribute">r.test</span>(<span class="hljs-attribute">i</span>))<span class="hljs-attribute">return</span>!<span class="hljs-attribute">1</span>;<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">n</span>,<span class="hljs-attribute">u</span>=<span class="hljs-value">i.length,d=[],h=0;h&lt;u;++h)d.push(n=t(i.charCodeAt(h)));for(var</span> <span class="hljs-attribute">h</span>=<span class="hljs-value">0,f=c;h&lt;u;++h){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">d[h];"m"==n?d[h]=f:f=n}for(var</span> <span class="hljs-attribute">h</span>=<span class="hljs-value">0,p=c;h&lt;u;++h){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">d[h];"1"==n&amp;&amp;"r"==p?d[h]="n":o.test(n)&amp;&amp;(p=n,"r"==n&amp;&amp;(d[h]="R"))}for(var</span> <span class="hljs-attribute">h</span>=<span class="hljs-value">1,f=d[0];h&lt;u-1;++h){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">d[h];"+"==n&amp;&amp;"1"==f&amp;&amp;"1"==d[h+1]?d[h]="1":","!=n||f!=d[h+1]||"1"!=f&amp;&amp;"n"!=f||(d[h]=f),f=n}for(var</span> <span class="hljs-attribute">h</span>=<span class="hljs-value">0;h&lt;u;++h){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">d[h];if(","==n)d[h]="N";else</span> <span class="hljs-attribute">if</span>("%"=<span class="hljs-value">=n){for(var</span> <span class="hljs-attribute">g</span>=<span class="hljs-value">h+1;g&lt;u&amp;&amp;"%"==d[g];++g);for(var</span> <span class="hljs-attribute">m</span>=<span class="hljs-value">h&amp;&amp;"!"==d[h-1]||g&lt;u&amp;&amp;"1"==d[g]?"1":"N",v=h;v&lt;g;++v)d[v]=m;h=g-1}}for(var</span> <span class="hljs-attribute">h</span>=<span class="hljs-value">0,p=c;h&lt;u;++h){var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">d[h];"L"==p&amp;&amp;"1"==n?d[h]="L":o.test(n)&amp;&amp;(p=n)}for(var</span> <span class="hljs-attribute">h</span>=<span class="hljs-value">0;h&lt;u;++h)if(s.test(d[h])){for(var</span> <span class="hljs-attribute">g</span>=<span class="hljs-value">h+1;g&lt;u&amp;&amp;s.test(d[g]);++g);for(var</span> <span class="hljs-attribute">b</span>=<span class="hljs-value">"L"</span><span class="hljs-value">==(h?d[h-1]:c),y="L"==(g&lt;u?d[g]:c),m=b||y?"L":"R",v=h;v&lt;g;++v)d[v]=m;h=g-1}for(var</span> <span class="hljs-attribute">_</span>,<span class="hljs-attribute">x</span>=<span class="hljs-value">[],h=0;h&lt;u;)if(a.test(d[h])){var</span> <span class="hljs-attribute">w</span>=<span class="hljs-value">h;for(++h;h&lt;u&amp;&amp;a.test(d[h]);++h);x.push(new</span> <span class="hljs-attribute">e</span>(<span class="hljs-attribute">0</span>,<span class="hljs-attribute">w</span>,<span class="hljs-attribute">h</span>))}<span class="hljs-attribute">else</span>{<span class="hljs-attribute">var</span> <span class="hljs-attribute">C</span>=<span class="hljs-value">h,S=x.length;for(++h;h&lt;u&amp;&amp;"L"!=d[h];++h);for(var</span> <span class="hljs-attribute">v</span>=<span class="hljs-value">C;v&lt;h;)if(l.test(d[v])){C&lt;v&amp;&amp;x.splice(S,0,new</span> <span class="hljs-attribute">e</span>(<span class="hljs-attribute">1</span>,<span class="hljs-attribute">C</span>,<span class="hljs-attribute">v</span>));<span class="hljs-attribute">var</span> <span class="hljs-attribute">k</span>=<span class="hljs-value">v;for(++v;v&lt;h&amp;&amp;l.test(d[v]);++v);x.splice(S,0,new</span> <span class="hljs-attribute">e</span>(<span class="hljs-attribute">2</span>,<span class="hljs-attribute">k</span>,<span class="hljs-attribute">v</span>)),<span class="hljs-attribute">C</span>=<span class="hljs-value">v}else++v;C&lt;h&amp;&amp;x.splice(S,0,new</span> <span class="hljs-attribute">e</span>(<span class="hljs-attribute">1</span>,<span class="hljs-attribute">C</span>,<span class="hljs-attribute">h</span>))}<span class="hljs-attribute">return</span> <span class="hljs-attribute">1</span>=<span class="hljs-value">=x[0].level&amp;&amp;(_=i.match(</span>/^\<span class="hljs-attribute">s</span>+/))&amp;&amp;(<span class="hljs-attribute">x</span>[<span class="hljs-attribute">0</span>]<span class="hljs-attribute">.from</span>=<span class="hljs-value">_[0].length,x.unshift(new</span> <span class="hljs-attribute">e</span>(<span class="hljs-attribute">0</span>,<span class="hljs-attribute">0</span>,<span class="hljs-attribute">_</span>[<span class="hljs-attribute">0</span>]<span class="hljs-attribute">.length</span>))),<span class="hljs-attribute">1</span>=<span class="hljs-value">=Or(x).level&amp;&amp;(_=i.match(</span>/\<span class="hljs-attribute">s</span>+$/))&amp;&amp;(<span class="hljs-attribute">Or</span>(<span class="hljs-attribute">x</span>)<span class="hljs-attribute">.to-</span>=<span class="hljs-value">_[0].length,x.push(new</span> <span class="hljs-attribute">e</span>(<span class="hljs-attribute">0</span>,<span class="hljs-attribute">u-_</span>[<span class="hljs-attribute">0</span>]<span class="hljs-attribute">.length</span>,<span class="hljs-attribute">u</span>))),<span class="hljs-attribute">2</span>=<span class="hljs-value">=x[0].level&amp;&amp;x.unshift(new</span> <span class="hljs-attribute">e</span>(<span class="hljs-attribute">1</span>,<span class="hljs-attribute">x</span>[<span class="hljs-attribute">0</span>]<span class="hljs-attribute">.to</span>,<span class="hljs-attribute">x</span>[<span class="hljs-attribute">0</span>]<span class="hljs-attribute">.to</span>)),<span class="hljs-attribute">x</span>[<span class="hljs-attribute">0</span>]<span class="hljs-attribute">.level</span>!=<span class="hljs-value">Or(x).level&amp;&amp;x.push(new</span> <span class="hljs-attribute">e</span>(<span class="hljs-attribute">x</span>[<span class="hljs-attribute">0</span>]<span class="hljs-attribute">.level</span>,<span class="hljs-attribute">u</span>,<span class="hljs-attribute">u</span>)),<span class="hljs-attribute">x</span>}}();<span class="hljs-attribute">return</span> <span class="hljs-attribute">t.version</span>=<span class="hljs-value">"5.14.3"</span><span class="hljs-value">,t})},23:function(t,e,i){function</span> <span class="hljs-attribute">n</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">t.match</span>(<span class="hljs-attribute">h</span>)?"<span class="hljs-attribute">variable</span>"<span class="hljs-attribute">:t.match</span>(<span class="hljs-attribute">f</span>)?"<span class="hljs-attribute">variable-2</span>"<span class="hljs-attribute">:t.match</span>(<span class="hljs-attribute">p</span>)?"<span class="hljs-attribute">variable-3</span>"<span class="hljs-attribute">:t.match</span>(<span class="hljs-attribute">d</span>)?"<span class="hljs-attribute">number</span>"<span class="hljs-attribute">:t.match</span>(<span class="hljs-attribute">u</span>)?"<span class="hljs-attribute">string</span>"<span class="hljs-attribute">:t.match</span>(<span class="hljs-attribute">v</span>)?"<span class="hljs-attribute">operator</span>"<span class="hljs-attribute">:null</span>}<span class="hljs-attribute">function</span> <span class="hljs-attribute">r</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">n(t);return</span> <span class="hljs-attribute">e</span>?<span class="hljs-attribute">e:t.match</span>(<span class="hljs-attribute">g</span>)?"<span class="hljs-attribute">atom</span>"<span class="hljs-attribute">:null</span>}<span class="hljs-attribute">var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">i(8);s.defineSimpleMode("gcode",{start:[{regex:</span>/\([^\)]*\)/<span class="hljs-attribute">i</span>,<span class="hljs-attribute">token:</span>"<span class="hljs-attribute">comment</span>"},{<span class="hljs-attribute">regex:</span>/[<span class="hljs-attribute">GM</span>]\<span class="hljs-attribute">d</span>+/<span class="hljs-attribute">i</span>,<span class="hljs-attribute">token:</span>"<span class="hljs-attribute">keyword</span>"},{<span class="hljs-attribute">regex:</span>/([<span class="hljs-attribute">A-FH-LN-Z</span>])([+\<span class="hljs-attribute">-</span>]?[<span class="hljs-attribute">0-9</span>]+(?<span class="hljs-attribute">:</span>\<span class="hljs-attribute">.</span>[<span class="hljs-attribute">0-9</span>]+)?)/<span class="hljs-attribute">i</span>,<span class="hljs-attribute">token:</span>["<span class="hljs-attribute">variable</span>","<span class="hljs-attribute">number</span>"]},{<span class="hljs-attribute">regex:</span>/\?<span class="hljs-attribute">.</span>*/,<span class="hljs-attribute">token:</span>"<span class="hljs-attribute">comment</span>"},{<span class="hljs-attribute">regex:</span>/[^\<span class="hljs-attribute">w</span>\<span class="hljs-attribute">s</span>]/,<span class="hljs-attribute">token:</span>"<span class="hljs-attribute">error</span>"}],<span class="hljs-attribute">meta:</span>{<span class="hljs-attribute">dontIndentStates:</span>["<span class="hljs-attribute">comment</span>"],<span class="hljs-attribute">lineComment:</span>"?"}});<span class="hljs-attribute">var</span> <span class="hljs-attribute">o</span>=/^[<span class="hljs-attribute">A-Z</span>](?<span class="hljs-attribute">:</span>[<span class="hljs-attribute">A-Z</span>]|[<span class="hljs-attribute">0-9</span>]+|<span class="hljs-attribute">C</span>\#)\<span class="hljs-attribute">b</span>/<span class="hljs-attribute">i</span>,<span class="hljs-attribute">a</span>=/^<span class="hljs-attribute">N</span>[<span class="hljs-attribute">0-9</span>]+\<span class="hljs-attribute">b</span>/<span class="hljs-attribute">i</span>,<span class="hljs-attribute">l</span>=/^[<span class="hljs-attribute">A-Z_</span>][<span class="hljs-attribute">A-Z0-9_</span>]*\<span class="hljs-attribute">:</span>/<span class="hljs-attribute">i</span>,<span class="hljs-attribute">c</span>=/^[<span class="hljs-attribute">A-Z_</span>][<span class="hljs-attribute">A-Z0-9_</span>]*/<span class="hljs-attribute">i</span>,<span class="hljs-attribute">u</span>=/^"(?<span class="hljs-attribute">:</span>[^\\]|\\<span class="hljs-attribute">.</span>)*?"/,<span class="hljs-attribute">d</span>=/^<span class="hljs-attribute">0x</span>[<span class="hljs-attribute">a-f</span>\<span class="hljs-attribute">d</span>]+|[<span class="hljs-attribute">-</span>+]?(?<span class="hljs-attribute">:</span>\<span class="hljs-attribute">.</span>\<span class="hljs-attribute">d</span>+|\<span class="hljs-attribute">d</span>+\<span class="hljs-attribute">.</span>?\<span class="hljs-attribute">d</span>*)(?<span class="hljs-attribute">:e</span>[<span class="hljs-attribute">-</span>+]?\<span class="hljs-attribute">d</span>+)?/<span class="hljs-attribute">i</span>,<span class="hljs-attribute">h</span>=/^\%\([ \<span class="hljs-attribute">t</span>]*[<span class="hljs-attribute">0-9</span>]+[ \<span class="hljs-attribute">t</span>]*\)/<span class="hljs-attribute">i</span>,<span class="hljs-attribute">f</span>=/^\&amp;[<span class="hljs-attribute">A-Z_</span>][<span class="hljs-attribute">A-Z0-9_</span>]*/<span class="hljs-attribute">i</span>,<span class="hljs-attribute">p</span>=/^\$[<span class="hljs-attribute">A-Z_</span>][<span class="hljs-attribute">A-Z0-9_</span>]*/<span class="hljs-attribute">i</span>,<span class="hljs-attribute">g</span>=/^[<span class="hljs-attribute">IOT</span>]/<span class="hljs-attribute">i</span>,<span class="hljs-attribute">m</span>=/^'<span class="hljs-attribute">.</span>*/<span class="hljs-attribute">i</span>,<span class="hljs-attribute">v</span>=/^[\+\<span class="hljs-attribute">-</span>\*\/\^\!\(\)\=<span class="hljs-value">\</span>&gt;</span>\<span class="hljs-tag">&lt;<span class="hljs-title">|\=\:]</span>/<span class="hljs-attribute">i</span>;<span class="hljs-attribute">s.defineMode</span>("<span class="hljs-attribute">opensbp</span>",<span class="hljs-attribute">function</span>(){<span class="hljs-attribute">return</span>{<span class="hljs-attribute">startState:function</span>(){<span class="hljs-attribute">return</span>{<span class="hljs-attribute">name:</span>"<span class="hljs-attribute">sol</span>"}},<span class="hljs-attribute">token:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.sol</span>()&amp;&amp;(<span class="hljs-attribute">e.name</span>=<span class="hljs-value">"sol"</span><span class="hljs-value">),t.eatSpace())return</span> <span class="hljs-attribute">null</span>;<span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.eat</span>("'"))<span class="hljs-attribute">return</span> <span class="hljs-attribute">t.skipToEnd</span>(),"<span class="hljs-attribute">comment</span>";<span class="hljs-attribute">switch</span>(<span class="hljs-attribute">e.name</span>){<span class="hljs-attribute">case</span>"<span class="hljs-attribute">sol</span>"<span class="hljs-attribute">:if</span>(<span class="hljs-attribute">t.eatSpace</span>())<span class="hljs-attribute">return</span> <span class="hljs-attribute">null</span>;<span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.match</span>(<span class="hljs-attribute">m</span>))<span class="hljs-attribute">return</span>"<span class="hljs-attribute">comment</span>";<span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.match</span>("<span class="hljs-attribute">ON</span>"))<span class="hljs-attribute">return</span> <span class="hljs-attribute">e.name</span>=<span class="hljs-value">"on"</span><span class="hljs-value">,"keyword";if(t.match(h))return</span> <span class="hljs-attribute">e.name</span>=<span class="hljs-value">"assign"</span><span class="hljs-value">,"variable";if(t.match(f))return</span> <span class="hljs-attribute">e.name</span>=<span class="hljs-value">"assign"</span><span class="hljs-value">,"variable-2";if(t.match(p))return</span> <span class="hljs-attribute">e.name</span>=<span class="hljs-value">"assign"</span><span class="hljs-value">,"variable-3";if(t.match(l))return"property";if(t.match(</span>/^<span class="hljs-attribute">IF</span>/<span class="hljs-attribute">i</span>))<span class="hljs-attribute">return</span> <span class="hljs-attribute">e.name</span>=<span class="hljs-value">"test"</span><span class="hljs-value">,</span>
"<span class="hljs-attribute">keyword</span>";<span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.match</span>(<span class="hljs-attribute">a</span>))<span class="hljs-attribute">return</span> <span class="hljs-attribute">e.name</span>=<span class="hljs-value">"gcode"</span><span class="hljs-value">,"property";if(t.match(o))return</span> <span class="hljs-attribute">e.name</span>=<span class="hljs-value">"args"</span><span class="hljs-value">,"keyword";if(t.match(</span>/^<span class="hljs-attribute">PAUSE</span>\<span class="hljs-attribute">s</span>*,?\<span class="hljs-attribute">s</span>*/<span class="hljs-attribute">i</span>))<span class="hljs-attribute">return</span> <span class="hljs-attribute">e.name</span>=<span class="hljs-value">"pause"</span><span class="hljs-value">,"keyword";if(t.match(</span>/^<span class="hljs-attribute">FAIL</span>/<span class="hljs-attribute">i</span>))<span class="hljs-attribute">return</span> <span class="hljs-attribute">e.name</span>=<span class="hljs-value">"fail"</span><span class="hljs-value">,"keyword";if(t.match(</span>/^<span class="hljs-attribute">GOTO</span>|<span class="hljs-attribute">GOSUB</span>/<span class="hljs-attribute">i</span>))<span class="hljs-attribute">return</span> <span class="hljs-attribute">e.name</span>=<span class="hljs-value">"goto"</span><span class="hljs-value">,"keyword";if(t.match(</span>/^<span class="hljs-attribute">RETURN</span>|<span class="hljs-attribute">END</span>/<span class="hljs-attribute">i</span>))<span class="hljs-attribute">return</span> <span class="hljs-attribute">e.name</span>=<span class="hljs-value">"single"</span><span class="hljs-value">,"keyword";t.skipToEnd();break;case"single":break;case"args":if(t.eat(","))return</span> <span class="hljs-attribute">null</span>;<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">r(t);if(i)return</span> <span class="hljs-attribute">i</span>;<span class="hljs-attribute">break</span>;<span class="hljs-attribute">case</span>"<span class="hljs-attribute">assign</span>"<span class="hljs-attribute">:var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">n(t);return</span> <span class="hljs-attribute">i</span>?<span class="hljs-attribute">i:</span>(<span class="hljs-attribute">t.skipToEnd</span>(),"<span class="hljs-attribute">string</span>");<span class="hljs-attribute">case</span>"<span class="hljs-attribute">test</span>"<span class="hljs-attribute">:var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">n(t);if(i)return</span> <span class="hljs-attribute">i</span>;<span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.match</span>(/^<span class="hljs-attribute">THEN</span>/<span class="hljs-attribute">i</span>))<span class="hljs-attribute">return</span>"<span class="hljs-attribute">keyword</span>";<span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.match</span>(/^<span class="hljs-attribute">GOTO</span>|<span class="hljs-attribute">GOSUB</span>/<span class="hljs-attribute">i</span>))<span class="hljs-attribute">return</span> <span class="hljs-attribute">e.name</span>=<span class="hljs-value">"goto"</span><span class="hljs-value">,"keyword";if(t.match(l))return"property";break;case"goto":if(t.match(c))return</span> <span class="hljs-attribute">e.name</span>=<span class="hljs-value">"sol"</span><span class="hljs-value">,"property";break;case"on":if(t.eat(","))return</span> <span class="hljs-attribute">null</span>;<span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.match</span>(/<span class="hljs-attribute">INP</span>(?<span class="hljs-attribute">:UT</span>)?/<span class="hljs-attribute">i</span>))<span class="hljs-attribute">return</span>"<span class="hljs-attribute">keyword</span>";<span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.match</span>(/(?<span class="hljs-attribute">:GOTO</span>)|(?<span class="hljs-attribute">:GOSUB</span>)/<span class="hljs-attribute">i</span>))<span class="hljs-attribute">return</span> <span class="hljs-attribute">e.name</span>=<span class="hljs-value">"goto"</span><span class="hljs-value">,"keyword";if(t.match(</span>/\(|\)/))<span class="hljs-attribute">return</span>"<span class="hljs-attribute">operator</span>";<span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.match</span>(/\<span class="hljs-attribute">d</span>+/))<span class="hljs-attribute">return</span>"<span class="hljs-attribute">number</span>";<span class="hljs-attribute">break</span>;<span class="hljs-attribute">case</span>"<span class="hljs-attribute">pause</span>"<span class="hljs-attribute">:if</span>(<span class="hljs-attribute">t.eatSpace</span>())<span class="hljs-attribute">return</span> <span class="hljs-attribute">null</span>;<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">n(t);if(i)return</span> <span class="hljs-attribute">i</span>;<span class="hljs-attribute">break</span>;<span class="hljs-attribute">case</span>"<span class="hljs-attribute">fail</span>"<span class="hljs-attribute">:if</span>(<span class="hljs-attribute">t.eatSpace</span>())<span class="hljs-attribute">return</span> <span class="hljs-attribute">null</span>;<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">n(t);if(i)return</span> <span class="hljs-attribute">i</span>;<span class="hljs-attribute">break</span>;<span class="hljs-attribute">default:console.error</span>("<span class="hljs-attribute">Unknown</span> <span class="hljs-attribute">state:</span> ",<span class="hljs-attribute">e</span>);<span class="hljs-attribute">break</span>;<span class="hljs-attribute">case</span>"<span class="hljs-attribute">gcode</span>"<span class="hljs-attribute">:return</span> <span class="hljs-attribute">t.skipToEnd</span>(),<span class="hljs-attribute">null</span>}<span class="hljs-attribute">return</span> <span class="hljs-attribute">t.next</span>(),"<span class="hljs-attribute">error</span>"}}}),<span class="hljs-attribute">s.defineMIME</span>("<span class="hljs-attribute">text</span>/<span class="hljs-attribute">x-opensbp</span>","<span class="hljs-attribute">opensbp</span>")},<span class="hljs-attribute">24:function</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>){!<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">t</span>(<span class="hljs-attribute">i</span>(<span class="hljs-attribute">8</span>))}(<span class="hljs-attribute">function</span>(<span class="hljs-attribute">t</span>){"<span class="hljs-attribute">use</span> <span class="hljs-attribute">strict</span>";<span class="hljs-attribute">function</span> <span class="hljs-attribute">e</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">if</span>(!<span class="hljs-attribute">t.hasOwnProperty</span>(<span class="hljs-attribute">e</span>))<span class="hljs-attribute">throw</span> <span class="hljs-attribute">new</span> <span class="hljs-attribute">Error</span>("<span class="hljs-attribute">Undefined</span> <span class="hljs-attribute">state</span> "+<span class="hljs-attribute">e</span>+" <span class="hljs-attribute">in</span> <span class="hljs-attribute">simple</span> <span class="hljs-attribute">mode</span>")}<span class="hljs-attribute">function</span> <span class="hljs-attribute">i</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">if</span>(!<span class="hljs-attribute">t</span>)<span class="hljs-attribute">return</span>/(?<span class="hljs-attribute">:</span>)/;<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">""</span><span class="hljs-value">;return</span> <span class="hljs-attribute">t</span> <span class="hljs-attribute">instanceof</span> <span class="hljs-attribute">RegExp</span>?(<span class="hljs-attribute">t.ignoreCase</span>&amp;&amp;(<span class="hljs-attribute">i</span>=<span class="hljs-value">"i"</span><span class="hljs-value">),t=t.source):t=String(t),new</span> <span class="hljs-attribute">RegExp</span>((<span class="hljs-attribute">e</span>=<span class="hljs-value">==!1?"":"^")+"(?:"+t+")",i)}function</span> <span class="hljs-attribute">n</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">if</span>(!<span class="hljs-attribute">t</span>)<span class="hljs-attribute">return</span> <span class="hljs-attribute">null</span>;<span class="hljs-attribute">if</span>("<span class="hljs-attribute">string</span>"=<span class="hljs-value">=typeof</span> <span class="hljs-attribute">t</span>)<span class="hljs-attribute">return</span> <span class="hljs-attribute">t.replace</span>(/\<span class="hljs-attribute">.</span>/<span class="hljs-attribute">g</span>," ");<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">e</span>=<span class="hljs-value">[],i=0;i&lt;t.length;i++)e.push(t[i]&amp;&amp;t[i].replace(</span>/\<span class="hljs-attribute">.</span>/<span class="hljs-attribute">g</span>," "));<span class="hljs-attribute">return</span> <span class="hljs-attribute">e</span>}<span class="hljs-attribute">function</span> <span class="hljs-attribute">r</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">r</span>){(<span class="hljs-attribute">t.next</span>||<span class="hljs-attribute">t.push</span>)&amp;&amp;<span class="hljs-attribute">e</span>(<span class="hljs-attribute">r</span>,<span class="hljs-attribute">t.next</span>||<span class="hljs-attribute">t.push</span>),<span class="hljs-attribute">this.regex</span>=<span class="hljs-value">i(t.regex),this.token=n(t.token),this.data=t}function</span> <span class="hljs-attribute">s</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">function</span>(<span class="hljs-attribute">i</span>,<span class="hljs-attribute">n</span>){<span class="hljs-attribute">if</span>(<span class="hljs-attribute">n.pending</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">n.pending.shift();return</span> <span class="hljs-attribute">0</span>=<span class="hljs-value">=n.pending.length&amp;&amp;(n.pending=null),i.pos+=r.text.length,r.token}if(n.local){if(n.local.end&amp;&amp;i.match(n.local.end)){var</span> <span class="hljs-attribute">s</span>=<span class="hljs-value">n.local.endToken||null;return</span> <span class="hljs-attribute">n.local</span>=<span class="hljs-value">n.localState=null,s}var</span> <span class="hljs-attribute">o</span>,<span class="hljs-attribute">s</span>=<span class="hljs-value">n.local.mode.token(i,n.localState);return</span> <span class="hljs-attribute">n.local.endScan</span>&amp;&amp;(<span class="hljs-attribute">o</span>=<span class="hljs-value">n.local.endScan.exec(i.current()))&amp;&amp;(i.pos=i.start+o.index),s}for(var</span> <span class="hljs-attribute">l</span>=<span class="hljs-value">t[n.state],c=0;c&lt;l.length;c++){var</span> <span class="hljs-attribute">u</span>=<span class="hljs-value">l[c],d=(!u.data.sol||i.sol())&amp;&amp;i.match(u.regex);if(d){if(u.data.next?n.state=u.data.next:u.data.push?((n.stack||(n.stack=[])).push(n.state),n.state=u.data.push):u.data.pop&amp;&amp;n.stack&amp;&amp;n.stack.length&amp;&amp;(n.state=n.stack.pop()),u.data.mode&amp;&amp;a(e,n,u.data.mode,u.token),u.data.indent&amp;&amp;n.indent.push(i.indentation()+e.indentUnit),u.data.dedent&amp;&amp;n.indent.pop(),d.length</span>&gt;</span>2){n.pending=[];for(var h=2;h<span class="hljs-tag">&lt;<span class="hljs-title">d.length;h++)d[h]&amp;&amp;n.pending.push({text:d[h],token:u.token[h-1]});return</span> <span class="hljs-attribute">i.backUp</span>(<span class="hljs-attribute">d</span>[<span class="hljs-attribute">0</span>]<span class="hljs-attribute">.length-</span>(<span class="hljs-attribute">d</span>[<span class="hljs-attribute">1</span>]?<span class="hljs-attribute">d</span>[<span class="hljs-attribute">1</span>]<span class="hljs-attribute">.length:0</span>)),<span class="hljs-attribute">u.token</span>[<span class="hljs-attribute">0</span>]}<span class="hljs-attribute">return</span> <span class="hljs-attribute">u.token</span>&amp;&amp;<span class="hljs-attribute">u.token.join</span>?<span class="hljs-attribute">u.token</span>[<span class="hljs-attribute">0</span>]<span class="hljs-attribute">:u.token</span>}}<span class="hljs-attribute">return</span> <span class="hljs-attribute">i.next</span>(),<span class="hljs-attribute">null</span>}}<span class="hljs-attribute">function</span> <span class="hljs-attribute">o</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">if</span>(<span class="hljs-attribute">t</span>=<span class="hljs-value">==e)return!0;if(!t||"object"!=typeof</span> <span class="hljs-attribute">t</span>||!<span class="hljs-attribute">e</span>||"<span class="hljs-attribute">object</span>"!=<span class="hljs-value">typeof</span> <span class="hljs-attribute">e</span>)<span class="hljs-attribute">return</span>!<span class="hljs-attribute">1</span>;<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">0;for(var</span> <span class="hljs-attribute">n</span> <span class="hljs-attribute">in</span> <span class="hljs-attribute">t</span>)<span class="hljs-attribute">if</span>(<span class="hljs-attribute">t.hasOwnProperty</span>(<span class="hljs-attribute">n</span>)){<span class="hljs-attribute">if</span>(!<span class="hljs-attribute">e.hasOwnProperty</span>(<span class="hljs-attribute">n</span>)||!<span class="hljs-attribute">o</span>(<span class="hljs-attribute">t</span>[<span class="hljs-attribute">n</span>],<span class="hljs-attribute">e</span>[<span class="hljs-attribute">n</span>]))<span class="hljs-attribute">return</span>!<span class="hljs-attribute">1</span>;<span class="hljs-attribute">i</span>++}<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">n</span> <span class="hljs-attribute">in</span> <span class="hljs-attribute">e</span>)<span class="hljs-attribute">e.hasOwnProperty</span>(<span class="hljs-attribute">n</span>)&amp;&amp;<span class="hljs-attribute">i--</span>;<span class="hljs-attribute">return</span> <span class="hljs-attribute">0</span>=<span class="hljs-value">=i}function</span> <span class="hljs-attribute">a</span>(<span class="hljs-attribute">e</span>,<span class="hljs-attribute">n</span>,<span class="hljs-attribute">r</span>,<span class="hljs-attribute">s</span>){<span class="hljs-attribute">var</span> <span class="hljs-attribute">a</span>;<span class="hljs-attribute">if</span>(<span class="hljs-attribute">r.persistent</span>)<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">l</span>=<span class="hljs-value">n.persistentStates;l&amp;&amp;!a;l=l.next)(r.spec?o(r.spec,l.spec):r.mode==l.mode)&amp;&amp;(a=l);var</span> <span class="hljs-attribute">c</span>=<span class="hljs-value">a?a.mode:r.mode||t.getMode(e,r.spec),u=a?a.state:t.startState(c);r.persistent&amp;&amp;!a&amp;&amp;(n.persistentStates={mode:c,spec:r.spec,state:u,next:n.persistentStates}),n.localState=u,n.local={mode:c,end:r.end&amp;&amp;i(r.end),endScan:r.end&amp;&amp;r.forceEnd!==!1&amp;&amp;i(r.end,!1),endToken:s&amp;&amp;s.join?s[s.length-1]:s}}function</span> <span class="hljs-attribute">l</span>(<span class="hljs-attribute">t</span>,<span class="hljs-attribute">e</span>){<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">0;i&lt;e.length;i++)if(e[i]===t)return!0}function</span> <span class="hljs-attribute">c</span>(<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">function</span>(<span class="hljs-attribute">n</span>,<span class="hljs-attribute">r</span>,<span class="hljs-attribute">s</span>){<span class="hljs-attribute">if</span>(<span class="hljs-attribute">n.local</span>&amp;&amp;<span class="hljs-attribute">n.local.mode.indent</span>)<span class="hljs-attribute">return</span> <span class="hljs-attribute">n.local.mode.indent</span>(<span class="hljs-attribute">n.localState</span>,<span class="hljs-attribute">r</span>,<span class="hljs-attribute">s</span>);<span class="hljs-attribute">if</span>(<span class="hljs-attribute">null</span>=<span class="hljs-value">=n.indent||n.local||i.dontIndentStates&amp;&amp;l(n.state,i.dontIndentStates)</span>&gt;</span>-1)return t.Pass;var o=n.indent.length-1,a=e[n.state];t:for(;;){for(var c=0;c<span class="hljs-tag">&lt;<span class="hljs-title">a.length;c++){var</span> <span class="hljs-attribute">u</span>=<span class="hljs-value">a[c];if(u.data.dedent&amp;&amp;u.data.dedentIfLineStart!==!1){var</span> <span class="hljs-attribute">d</span>=<span class="hljs-value">u.regex.exec(r);if(d&amp;&amp;d[0]){o--,(u.next||u.push)&amp;&amp;(a=e[u.next||u.push]),r=r.slice(d[0].length);continue</span> <span class="hljs-attribute">t</span>}}}<span class="hljs-attribute">break</span>}<span class="hljs-attribute">return</span> <span class="hljs-attribute">o</span>&lt;<span class="hljs-attribute">0</span>?<span class="hljs-attribute">0:n.indent</span>[<span class="hljs-attribute">o</span>]}}<span class="hljs-attribute">t.defineSimpleMode</span>=<span class="hljs-value">function(e,i){t.defineMode(e,function(e){return</span> <span class="hljs-attribute">t.simpleMode</span>(<span class="hljs-attribute">e</span>,<span class="hljs-attribute">i</span>)})},<span class="hljs-attribute">t.simpleMode</span>=<span class="hljs-value">function(i,n){e(n,"start");var</span> <span class="hljs-attribute">o</span>=<span class="hljs-value">{},a=n.meta||{},l=!1;for(var</span> <span class="hljs-attribute">u</span> <span class="hljs-attribute">in</span> <span class="hljs-attribute">n</span>)<span class="hljs-attribute">if</span>(<span class="hljs-attribute">u</span>!=<span class="hljs-value">a&amp;&amp;n.hasOwnProperty(u))for(var</span> <span class="hljs-attribute">d</span>=<span class="hljs-value">o[u]=[],h=n[u],f=0;f&lt;h.length;f++){var</span> <span class="hljs-attribute">p</span>=<span class="hljs-value">h[f];d.push(new</span> <span class="hljs-attribute">r</span>(<span class="hljs-attribute">p</span>,<span class="hljs-attribute">n</span>)),(<span class="hljs-attribute">p.indent</span>||<span class="hljs-attribute">p.dedent</span>)&amp;&amp;(<span class="hljs-attribute">l</span>=<span class="hljs-value">!0)}var</span> <span class="hljs-attribute">g</span>=<span class="hljs-value">{startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:l?[]:null}},copyState:function(e){var</span> <span class="hljs-attribute">i</span>=<span class="hljs-value">{state:e.state,pending:e.pending,local:e.local,localState:null,indent:e.indent&amp;&amp;e.indent.slice(0)};e.localState&amp;&amp;(i.localState=t.copyState(e.local.mode,e.localState)),e.stack&amp;&amp;(i.stack=e.stack.slice(0));for(var</span> <span class="hljs-attribute">n</span>=<span class="hljs-value">e.persistentStates;n;n=n.next)i.persistentStates={mode:n.mode,spec:n.spec,state:n.state==e.localState?i.localState:t.copyState(n.mode,n.state),next:i.persistentStates};return</span> <span class="hljs-attribute">i</span>},<span class="hljs-attribute">token:s</span>(<span class="hljs-attribute">o</span>,<span class="hljs-attribute">i</span>),<span class="hljs-attribute">innerMode:function</span>(<span class="hljs-attribute">t</span>){<span class="hljs-attribute">return</span> <span class="hljs-attribute">t.local</span>&amp;&amp;{<span class="hljs-attribute">mode:t.local.mode</span>,<span class="hljs-attribute">state:t.localState</span>}},<span class="hljs-attribute">indent:c</span>(<span class="hljs-attribute">o</span>,<span class="hljs-attribute">a</span>)};<span class="hljs-attribute">if</span>(<span class="hljs-attribute">a</span>)<span class="hljs-attribute">for</span>(<span class="hljs-attribute">var</span> <span class="hljs-attribute">m</span> <span class="hljs-attribute">in</span> <span class="hljs-attribute">a</span>)<span class="hljs-attribute">a.hasOwnProperty</span>(<span class="hljs-attribute">m</span>)&amp;&amp;(<span class="hljs-attribute">g</span>[<span class="hljs-attribute">m</span>]=<span class="hljs-value">a[m]);return</span> <span class="hljs-attribute">g</span>}})}});</span></span></div></div></div></div></body></html>
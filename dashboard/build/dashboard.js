webpackJsonp([1],[function(t,e,n){function r(t){var e=null;try{switch(t.axis){case"x":case"y":e=x.config.machine.manual.xy_speed;break;case"z":e=x.config.machine.manual.z_speed}}catch(n){console.error(n)}return e}function o(t){var e=null;try{switch(t.axis){case"x":case"y":e=x.config.machine.manual.xy_increment;break;case"z":e=x.config.machine.manual.z_increment}}catch(n){console.error(n)}return e}function s(){var t=new w("#keyboard");return t.on("go",function(t){t&&m.engine.manualStart(t.axis,60*t.dir*(r(t)||.1))}),t.on("stop",function(t){m.engine.manualStop()}),t.on("nudge",function(t){m.engine.manualMoveFixed(t.axis,60*r(t),t.dir*o(t))}),t}function a(){var t=new k("#keypad");return t.on("go",function(t){t&&m.engine.manualStart(t.axis,60*t.dir*(r(t)||.1))}),t.on("stop",function(t){m.engine.manualStop()}),t.on("nudge",function(t){m.engine.manualMoveFixed(t.axis,60*r(t),t.dir*o(t))}),t}function c(t){A||(m.hideModal(),A=!0,m.showModal({title:"Waiting for FabMo...",message:'<i class="fa fa-cog fa-spin" aria-hidden="true" style="font-size:40px;color:#313366" ></i>',noButton:!0,noLogo:!0}))}function u(t){var t=t||function(){};return A?(A=!1,void m.hideModal()):t()}function l(t){var e="on";for(null===t&&(t=4,e="err"),i=1;i<5;i++){var n=v("#cs"+i);i<=t?n.attr("class",e):n.attr("class","off")}}function h(){x.ping(function(t,e){I.push(e),I.length>5&&I.shift(0);for(var n=0,i=0;i<I.length;i++)n+=I[i];var r=n/I.length;t?console.error(t):l(r<100?4:r<200?3:r<400?2:r<800?1:0),setTimeout(h,2e3)})}function f(){S&&window.innerWidth<800&&v("#app-client-container").css({"-webkit-overflow-scrolling":"touch","overflow-y":"scroll"})}n(29),n(26),n(25),n(27),n(28),n(8),n(2);var p,d,g=n(3),m=n(5),v=n(1),y=n(2),b=(n(9),n(15)),_=n(16),w=n(19),k=n(20),x=new b,C=!1,A=!1,T=!1,E=null,S="ontouchstart"in window||navigator.msMaxTouchPoints;console.log(x),console.log(m),x.getCurrentUser(function(t,e){t&&(window.location.href="#/authentication")}),x.getConfig(),x.getVersion(function(t,e){g.setEngineVersion(e),g.apps=new g.models.Apps,g.apps.fetch({success:function(){g.appMenuView=new g.views.AppMenuView({collection:g.apps,el:"#app_menu_container"}),m.setEngine(x),m.ui=new _(m.engine),m.getNetworkIdentity(),d=s(),p=a(),router=new g.Router,router.setContext(g),m.setRouter(router),v(".loader").hide(),y.history.start(),x.getStatus(),m.engine.on("change",function(t){"apps"===t&&g.apps.fetch()})}})}),v(document).on("keyup",function(t){27==t.keyCode&&(console.warn("ESC key pressed - quitting engine."),m.engine.quit())});var O=[];v(".axi").each(function(){var t=this.getAttribute("class").split(" ")[0],e=t.slice(-1).toUpperCase();O.push({className:"."+t,axis:e})}),v(".go-here").on("mousedown",function(){for(var t="G0 ",e=0;e<O.length;e++)v(O[e].className).attr("value","")[1].value.length>0&&v(O[e].className).attr("value","")[1].value!=v(O[e].className).val()&&(t+=O[e].axis+v(O[e].className).attr("value","")[1].value+" ");m.engine.gcode(t),v(".go-here").hide()}),v(".axi").on("click",function(t){t.stopPropagation(),v(".go-here").show()}),v(".axi").on("focus",function(t){t.stopPropagation(),v(this).val(parseFloat(v(this).val().toString())),v(this).select()}),v(document).on("click",function(){v(".posx").val(v(".posx").val()),v(".posy").val(v(".posy").val()),v(".posz").val(v(".posz").val()),v(".go-here").hide()}),v(".axi").keyup(function(t){if(13==t.keyCode){for(var e="G0 ",n=0;n<O.length;n++)v(O[n].className).attr("value","")[1].value.length>0&&v(O[n].className).attr("value","")[1].value!=v(O[n].className).val()&&(e+=O[n].axis+v(O[n].className).attr("value","")[1].value+" ");m.engine.gcode(e),v(".go-here").hide()}}),v(".button-zerox").click(function(t){m.engine.sbp("ZX")}),v(".button-zeroy").click(function(t){m.engine.sbp("ZY")}),v(".button-zeroz").click(function(t){m.engine.sbp("ZZ")}),v(".button-zeroa").click(function(t){m.engine.sbp("ZA")}),v(".button-zerob").click(function(t){m.engine.sbp("ZB")}),v("#connection-strength-indicator").click(function(t){m.launchApp("network-manager")}),x.on("authentication_failed",function(t){console.log("authentication failed"),"not authenticated"===t?window.location="#/authentication?message=not-authenticated":"kicked out"===t&&(window.location="#/authentication?message=kicked-out")});var j=!1;last_state_seen=null,x.on("disconnect",function(){j||(j=!0,l(null),c())}),x.on("connect",function(){j&&(j=!1,l(5)),u(null)}),x.on("status",function(t){switch(("armed"!=t.state&&"armed"===last_state_seen||"paused"!=t.state&&"paused"===last_state_seen)&&(m.hideModal(),C=!1),last_state_seen!=t.state&&(last_state_seen=t.state),t.state){case"running":case"paused":case"stopped":m.handlers.showFooter();break;default:m.handlers.hideFooter()}if("idle"!=t.state?v("#position input").attr("disabled",!0):v("#position input").attr("disabled",!1),t.info&&t.info.id!=E){if(E=t.info.id,t.info.message)p.setEnabled(!1),d.setEnabled(!1),m.showModal({message:t.info.message,okText:"Resume",cancelText:"Quit",ok:function(){m.engine.resume()},cancel:function(){m.engine.quit()}}),C=!0;else if(t.info.error){if(m.engine.status.job)var e="<p><b>Job Name:  </b>"+m.engine.status.job.name+"<br /><b>Job Description:  </b>"+m.engine.status.job.description+"</p>";else var e='<p>Check the <a style="text-decoration: underline;" href="/log">debug log</a> for more information.</p>';m.showModal({title:"An Error Occurred!",message:t.info.error,detail:e,cancelText:"dead"===t.state?void 0:"Quit",cancel:"dead"===t.state?void 0:function(){m.engine.quit()}}),C=!0}}else"armed"==t.state&&(T=!0,p.setEnabled(!1),d.setEnabled(!1),m.showModal({title:"Authorization Required!",message:"To authorize your tool, press and hold the green button for one second.",cancelText:"Quit",cancel:function(){T=!1,m.engine.quit()}}))});var I=[];h(),x.sendTime(),f()},,function(t,e,n){var i,r;(function(o){!function(s){var a="object"==typeof self&&self.self===self&&self||"object"==typeof o&&o.global===o&&o;i=[n(24),n(1),e],r=function(t,e,n){a.Backbone=s(a,n,t,e)}.apply(e,i),!(void 0!==r&&(t.exports=r))}(function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],c(t,this),r)};case 4:return function(t,r,o){return n[e](this[i],c(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}},a=function(t,e,i){n.each(e,function(e,r){n[r]&&(t.prototype[r]=s(e,r,i))})},c=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},l=e.Events={},h=/\s+/,f=function(t,e,i,r,o){var s,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(s=n.keys(i);a<s.length;a++)e=f(t,e,s[a],i[s[a]],o)}else if(i&&h.test(i))for(s=i.split(h);a<s.length;a++)e=t(e,s[a],r,o);else e=t(e,i,r,o);return e};l.on=function(t,e,n){return p(this,t,e,n)};var p=function(t,e,n,i,r){if(t._events=f(d,t._events||{},e,n,{context:i,ctx:t,listening:r}),r){var o=t._listeners||(t._listeners={});o[r.id]=r}return t};l.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[r];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=o[r]={obj:t,objId:r,id:a,listeningTo:o,count:0}}return p(t,e,i,this,s),this};var d=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,s=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:o,ctx:o||s,listening:a})}return t};l.off=function(t,e,n){return this._events?(this._events=f(g,this._events,t,e,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(e,i,this)}return this};var g=function(t,e,i,r){if(t){var o,s=0,a=r.context,c=r.listeners;if(e||i||a){for(var u=e?[e]:n.keys(t);s<u.length;s++){e=u[s];var l=t[e];if(!l)break;for(var h=[],f=0;f<l.length;f++){var p=l[f];i&&i!==p.callback&&i!==p.callback._callback||a&&a!==p.context?h.push(p):(o=p.listening,o&&0===--o.count&&(delete c[o.id],delete o.listeningTo[o.objId]))}h.length?t[e]=h:delete t[e]}return t}for(var d=n.keys(c);s<d.length;s++)o=c[d[s]],delete c[o.id],delete o.listeningTo[o.objId]}};l.once=function(t,e,i){var r=f(m,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==i&&(e=void 0),this.on(r,e,i)},l.listenToOnce=function(t,e,i){var r=f(m,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var m=function(t,e,i,r){if(i){var o=t[e]=n.once(function(){r(e,o),i.apply(this,arguments)});o._callback=i}return t};l.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return f(v,this._events,t,void 0,n),this};var v=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&y(r,i),o&&y(o,[e].concat(i))}return t},y=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};l.bind=l.on,l.unbind=l.off,n.extend(e,l);var b=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var r=n.result(this,"defaults");i=n.defaults(n.extend({},r,i),r),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,s=i.silent,a=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,l=this.changed,h=this._previousAttributes;for(var f in r)e=r[f],n.isEqual(u[f],e)||a.push(f),n.isEqual(h[f],e)?delete l[f]:l[f]=e,o?delete u[f]:u[f]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=i);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,u[a[p]],i)}if(c)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var o=t[r];n.isEqual(e[r],o)||(i[r]=o)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;return!!e.set(r,t)&&(i&&i.call(t.context,e,n,t),void e.trigger("sync",e,n,t))},z(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0,parse:!0},i);var o=i.wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var s=this,a=i.success,c=this.attributes;i.success=function(t){s.attributes=c;var e=i.parse?s.parse(t,i):t;return o&&(e=n.extend({},r,e)),!(e&&!s.set(e,i))&&(a&&a.call(i.context,s,t,i),void s.trigger("sync",s,t,i))},z(this,i),r&&o&&(this.attributes=n.extend({},c,r));var u=this.isNew()?"create":i.patch?"patch":"update";"patch"!==u||i.attrs||(i.attrs=r);var l=this.sync(u,this,i);return this.attributes=c,l},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(z(this,t),s=this.sync("delete",this,t)),r||o(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||U();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}});var _={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(b,_,"attributes");var w=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},k={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},C=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,r=Array(t.length-n),o=e.length;for(i=0;i<r.length;i++)r[i]=t[i+n];for(i=0;i<o;i++)t[i+n]=e[i];for(i=0;i<r.length;i++)t[i+o+n]=r[i]};n.extend(w.prototype,l,{model:b,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,x))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),i?r[0]:r},set:function(t,e){if(null!=t){e=n.extend({},k,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var o,s,a=[],c=[],u=[],l=[],h={},f=e.add,p=e.merge,d=e.remove,g=!1,m=this.comparator&&null==r&&e.sort!==!1,v=n.isString(this.comparator)?this.comparator:null;for(s=0;s<t.length;s++){o=t[s];var y=this.get(o);if(y){if(p&&o!==y){var b=this._isModel(o)?o.attributes:o;e.parse&&(b=y.parse(b,e)),y.set(b,e),u.push(y),m&&!g&&(g=y.hasChanged(v))}h[y.cid]||(h[y.cid]=!0,a.push(y)),t[s]=y}else f&&(o=t[s]=this._prepareModel(o,e),o&&(c.push(o),this._addReference(o,e),h[o.cid]=!0,a.push(o)))}if(d){for(s=0;s<this.length;s++)o=this.models[s],h[o.cid]||l.push(o);l.length&&this._removeModels(l,e)}var _=!1,w=!m&&f&&d;if(a.length&&w?(_=this.length!==a.length||n.some(this.models,function(t,e){return t!==a[e]}),this.models.length=0,C(this.models,a,0),this.length=this.models.length):c.length&&(m&&(g=!0),C(this.models,c,null==r?this.length:r),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(s=0;s<c.length;s++)null!=r&&(e.index=r+s),o=c[s],o.trigger("add",o,this,e);(g||_)&&this.trigger("sort",this,e),(c.length||l.length||u.length)&&(e.changes={added:c,removed:l,merged:u},this.trigger("update",this,e))}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},z(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var i=e.wait;if(t=this._prepareModel(t,e),!t)return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var s=this.modelId(r.attributes);null!=s&&delete this._byId[s],e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n},_isModel:function(t){return t instanceof b},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}});var A={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};a(w,A,"models");var T=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,S)),this._ensureElement(),this.initialize.apply(this,arguments)},E=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];n.extend(T.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(E);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var o=O[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||U()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var c=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,c&&c.call(r.context,t,e,n)};var u=r.xhr=e.ajax(n.extend(s,r));return i.trigger("request",i,u,r),u};var O={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var j=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},I=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,M=/\*\w+/g,B=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(j.prototype,l,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,function(n){var s=o._extractParameters(t,n);o.execute(r,s,i)!==!1&&(o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),e.history.trigger("route",o,i,s))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(B,"\\$&").replace(I,"(?:$1)?").replace(N,function(t,e){return e?t:"([^/?]+)"}).replace(M,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var R=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},P=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,H=/#.*$/;R.started=!1,n.extend(R.prototype,l,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(P,"")},start:function(t){if(R.started)throw new Error("Backbone.history has already been started");if(R.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(D,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),R.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!R.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(H,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new R;var F=function(t,e){var i,r=this;return i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e),i.prototype=n.create(r.prototype,t),i.prototype.constructor=i,i.__super__=r.prototype,i};b.extend=w.extend=j.extend=T.extend=R.extend=F;var U=function(){throw new Error('A "url" property or function must be specified')},z=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e})}).call(e,function(){return this}())},function(t,e,n){var i;(function(r){i=function(t){var e=n(21);return ApplicationContext=function(){this.models=n(7),this.views=n(23),this.Router=n(22),this.engine=null,this.Authentication=new this.views.Authentication,this.appClientView=new this.views.AppClientView({el:"#app-client-container"}),this.current_app_id=null,this.reload_on_demand=!1,this.app_reload_index={},this.menuShown=!0},r("#mainContent").hide(),ApplicationContext.prototype.markAppForRefresh=function(t){t in this.app_reload_index&&(this.app_reload_index[t]=!0),e.set("fabmo_app_reload_index",this.app_reload_index)},ApplicationContext.prototype.setEngineVersion=function(t){this.engineVersion=t,this.app_reload_index=e.get("fabmo_app_reload_index")||{}},ApplicationContext.prototype.showModalContainer=function(t){this.page.set("name",t),r("#modal_container").show()},ApplicationContext.prototype.hideModalContainer=function(){r("#modal_container").hide()},ApplicationContext.prototype.closeApp=function(t){this.appClientView.setModel(null,!1,t)},ApplicationContext.prototype.launchApp=function(t,n,i){var o=!1,s=this.app_reload_index[t];try{s&&s!=this.engineVersion.hash&&(console.info("Hard refresh of app "+t+" because hash "+s+" doesn't match "+this.engineVersion.hash),o=!0)}catch(a){console.warn(a)}try{this.engineVersion.debug&&(o=!0,console.info("Hard refresh of app "+t+" because debug mode."))}catch(a){console.warn(a)}this.app_reload_index[t]=this.engineVersion.hash,e.set("fabmo_app_reload_index",this.app_reload_index),current_app=this.getCurrentApp(),current_app.id!=t?(app=this.apps.get(t),app?(this.current_app_args=n||{},this.current_app_id=t,this.current_app_info=app,this.appMenuView.hide(),r("#waiting_container").show(),this.menuShown=!1,this.appClientView.setModel(app,o,function(){this.menuShown||(r("#waiting_container").hide(),this.hideModalContainer(),this.appClientView.show()),i(null)}.bind(this))):i(this.apps?"Couldn't launch app: "+t+": Apps list not available yet.":"Couldn't launch app: "+t+": No such app?")):(this.menuShown=!1,this.appMenuView.hide(),r("#waiting_container").hide(),this.hideModalContainer(),this.appClientView.show())},ApplicationContext.prototype.getCurrentApp=function(){return this.appClientView.model},new ApplicationContext}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}).call(e,n(1))},function(t,e,n){var i;(function(o){i=function(t){function e(){o("#add_err").css("display","none","important"),"kicked-out"===getUrlParameter("message")?(o("#add_err").css("display","inline","important"),o("#add_err").html('<div class="error"> <i class="fa fa-exclamation-circle" aria-hidden="true"></i><span class="sr-only">You have been kicked out from the tool.</span></div>')):"not-authenticated"===getUrlParameter("message")&&(o("#add_err").css("display","inline","important"),o("#add_err").html('<div class="error"> <i class="fa fa-exclamation-circle" aria-hidden="true"></i><span class="sr-only"> You need to be authenticated to access this page.</span></div>')),o("#login_form").submit(function(t){return t.preventDefault(),username=o('#login_form input[name="username"]').val(),password=o('#login_form input[name="password"]').val(),n(username,password),!1})}function n(t,e,i){o.ajax({type:"POST",url:"/authentication/login",contentType:"application/json",dataType:"json",data:JSON.stringify({username:t,password:e,kickout:i}),success:function(t){console.log(t),"success"===t.status?(o("#add_err").css("display","inline","important"),o("#add_err").html('<div class="success"> <i class="fa fa-check" aria-hidden="true"></i><span class="sr-only"> Successful Log in !</span></div>'),window.location="/"):(o("#add_err").css("display","inline","important"),o("#add_err").html('<div class="error"> <i class="fa fa-exclamation-circle" aria-hidden="true"></i><span class="sr-only"> Wrong username or password</span></div>'))},error:function(i){i.responseJSON.userAlreadyLogedIn?(r=confirm(i.responseJSON.message+"\n do you want to kick this user out ? "),
r?n(t,e,!0):(o("#add_err").css("display","inline","important"),o("#add_err").html('<div class="error"> <i class="fa fa-exclamation-circle" aria-hidden="true"></i><span class="sr-only"> '+i.responseJSON.message+"</span></div>"))):(o("#add_err").css("display","inline","important"),o("#add_err").html('<div class="error"> <i class="fa fa-exclamation-circle" aria-hidden="true"></i><span class="sr-only"> '+i.responseJSON.message+"</span></div>"))},beforeSend:function(){o("#add_err").css("display","inline","important"),o("#add_err").html('<div class="loading"><i class="fa fa-circle-o-notch fa-spin fa-fw margin-bottom"></i><span class="sr-only"> Loading...</span></div>')}})}return getUrlParameter=function(t){var e,n,i=decodeURIComponent(window.location.search.substring(1)),r=i.split("&");for(n=0;n<r.length;n++)if(e=r[n].split("="),e[0]===t)return void 0===e[1]||e[1]},e}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}).call(e,n(1))},function(t,e,n){var i;(function(r){i=function(t){function e(t){var e=r("#hidden-file-input");t=t||function(){},e.one("click",function(){e.val(null),e.off("change"),e.one("change",function(e){t(e)})}),e.click()}var i=n(13),o=n(6),s=n(3),a=!1,c=function(t){this.engine=null,this.router=null,this.machine=null,this.socket=null,this.ui=null,this.status={job:null},this.target=t||window,this.handlers={},this.events={status:[],job_start:[],job_end:[],change:[],disconnect:[],reconnect:[],video_frame:[]},this._registerHandlers(),this._setupMessageListener()};c.prototype.setBusyMessage=function(t){console.info("App is busy loading: "+t)},c.prototype.browseForFiles=function(t){document.getElementById("hidden-file-input").multiple=!0,e(t)},c.prototype.browseForFile=function(t){document.getElementById("hidden-file-input").multiple=!1,e(t)},c.prototype.setEngine=function(t){this.engine=t,this.engine.on("status",function(t){this.updateStatus(t)}.bind(this)),this.engine.on("change",function(t){this._fireEvent("change",t)}.bind(this)),this.engine.on("video_frame",function(t){this._fireEvent("video_frame",t)}.bind(this)),this.engine.on("connect",function(){this._fireEvent("reconnect",null)}.bind(this)),this.engine.on("disconnect",function(){this._fireEvent("disconnect",null)}.bind(this))},c.prototype.setRouter=function(t){this.router=t},c.prototype._registerHandler=function(t,e){if("message"in this.handlers)throw'Already registered a handler for the "'+t+'" message.';this.handlers[t]=e},c.prototype._registerHandlerByName=function(t){var e=Object.getPrototypeOf(this);t in e&&(this.handlers[t]=e[t])},c.prototype._registerEventListener=function(t,e){if(t in this.events){listeners=this.events[t];for(var n in listeners)if(listeners[n]==e)return;this.events[t].push(e)}},c.prototype._fireEvent=function(t,e){if(t in this.events){listeners=this.events[t];for(var n in listeners){var i=listeners[n],r={status:"success",type:"evt",id:t,data:e};i&&i.postMessage(r,"*")}}},c.prototype._setupMessageListener=function(){this.target.addEventListener("message",function(t){var e=t.source;if("call"in t.data){var n=t.data.call;if(n in this.handlers){var i,r=this.handlers[n],o=t.data.data,s=t.data.id>=0?t.data.id:-1;try{r(o,function(n,i){var r;r=n?{status:"error",type:"cb",message:JSON.stringify(n),id:s}:{status:"success",type:"cb",data:i,id:s},e&&e.postMessage(r,t.origin)})}catch(a){var i={status:"error",type:"cb",message:JSON.stringify(a),id:s};e&&e.postMessage(JSON.stringify(i),t.origin)}}}else if("on"in t.data){var c=t.data.on,e=t.source;this._registerEventListener(c,e)}}.bind(this))},c.prototype._registerHandlers=function(){this._registerHandler("ready",function(){}),this._registerHandler("setBusyMessage",function(t){this.setBusyMessage(t.message||"")}),this._registerHandler("showDRO",function(t,e){this.openRightMenu(),e(null)}.bind(this)),this._registerHandler("hideDRO",function(){this.closeRightMenu()}.bind(this)),this._registerHandler("openModal",function(t,e){t.ok&&(t.ok=function(){e(null,"ok")}),t.cancel&&(t.cancel=function(){e(null,"cancel")});try{this.showModal(t)}catch(n){e(n)}}.bind(this)),this._registerHandler("closeModal",function(){this.hideModal(),callback(null)}.bind(this)),this._registerHandler("showFooter",function(){this.openFooter()}.bind(this)),this._registerHandler("hideFooter",function(){this.closeFooter()}.bind(this)),this._registerHandler("notification",function(t,e){this.notification(t.type,t.message),e(null)}.bind(this)),this._registerHandler("submitJob",function(t,e){this.engine.submitJob(t.jobs,t.options,function(t,n){t?e(t):(e(t,n),this.launchApp("job-manager",{},e))}.bind(this))}.bind(this)),this._registerHandler("resubmitJob",function(t,e){this.engine.resubmitJob(t,function(t,n){t?e(t):(e(t,n),this.launchApp("job-manager",{},e))}.bind(this))}.bind(this)),this._registerHandler("deleteJob",function(t,e){this.engine.deleteJob(t,function(t,n){t?e(t):e(t,n)}.bind(this))}.bind(this)),this._registerHandler("getJobsInQueue",function(t,e){this.engine.getJobsInQueue(function(t,n){t?e(t):e(null,n)})}.bind(this)),this._registerHandler("getJobHistory",function(t,e){this.engine.getJobHistory(t||{},function(t,n){t?e(t):e(null,n)})}.bind(this)),this._registerHandler("updateOrder",function(t,e){this.engine.updateOrder(t,function(t,n){t?e(t):e(null,n)})}.bind(this)),this._registerHandler("getJobInfo",function(t,e){this.engine.getJobInfo(t,function(t,n){t?e(t):e(null,n)})}.bind(this)),this._registerHandler("clearJobQueue",function(t,e){this.engine.clearJobQueue(function(t){e(t?t:null)})}.bind(this)),this._registerHandler("runNext",function(t,e){this.engine.runNextJob(function(t,n){e(t?t:null)})}.bind(this)),this._registerHandler("pause",function(t,e){this.engine.pause(function(t,n){e(t?t:null)})}.bind(this)),this._registerHandler("stop",function(t,e){this.engine.quit(function(t,n){e(t?t:null)})}.bind(this)),this._registerHandler("resume",function(t,e){this.engine.resume(function(t,n){e(t?t:null)})}.bind(this)),this._registerHandler("manualNudge",function(t,e){this.engine.manualNudge(t.dir,t.dist,function(t,n){e(t?t:null)})}.bind(this)),this._registerHandler("manualStart",function(t,e){this.engine.manualStart(t.axis,t.speed,function(t,n){e(t?t:null)})}.bind(this)),this._registerHandler("manualHeartbeat",function(t,e){this.engine.manualHeartbeat(function(t,n){e(t?t:null)})}.bind(this)),this._registerHandler("manualStop",function(t,e){this.engine.manualStop(function(t,n){e(t?t:null)})}.bind(this)),this._registerHandler("getApps",function(t,e){this.engine.getApps(function(t,n){t?e(t):e(null,n)})}.bind(this)),this._registerHandler("submitApp",function(t,e){this.submitApps(t.apps,{},e)}.bind(this)),this._registerHandler("deleteApp",function(t,e){this.engine.deleteApp(t,function(t,n){this.refreshApps(),t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("runGCode",function(t,e){this.engine.gcode(t,function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("runSBP",function(t,e){this.engine.sbp(t,function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("getConfig",function(t,e){this.engine.getConfig(function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("setConfig",function(t,e){this.engine.setConfig(t,function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("connectToWifi",function(t,e){this.engine.connectToWifi(t.ssid,t.key,function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("disconnectFromWifi",function(t,e){this.engine.disconnectFromWifi(function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("forgetWifi",function(t,e){this.engine.forgetWifi(t.ssid,function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("enableWifi",function(t,e){this.engine.enableWifi(function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("disableWifi",function(t,e){this.engine.disableWifi(function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("enableWifiHotspot",function(t,e){this.engine.enableHotspot(function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("disableWifiHotspot",function(t,e){this.engine.disableHotspot(function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("getWifiNetworks",function(t,e){this.engine.getWifiNetworks(function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("getWifiNetworkHistory",function(t,e){this.engine.getWifiNetworkHistory(function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("getNetworkIdentity",function(t,e){this.getNetworkIdentity(function(t,n){e(t,n)})}.bind(this)),this._registerHandler("isOnline",function(t,e){this.engine.isOnline(function(t,n){e(t,n)})}.bind(this)),this._registerHandler("setNetworkIdentity",function(t,e){this.engine.setNetworkIdentity(t,function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("getMacros",function(t,e){this.engine.getMacros(function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("runMacro",function(t,e){this.engine.runMacro(t,function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("updateMacro",function(t,e){this.engine.updateMacro(t.id,t.macro,function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("deleteMacro",function(t,e){this.engine.deleteMacro(t,function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("getCurrentUser",function(t,e){this.engine.getCurrentUser(function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("addUser",function(t,e){this.engine.addUser(t,function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("modifyUser",function(t,e){this.engine.modifyUser(t,function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("deleteUser",function(t,e){this.engine.deleteUser(t,function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("getUsers",function(t,e){this.engine.getUsers(function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("startVideoStreaming",function(t,e){this.engine.startVideoStreaming(function(t,n){t?e(t):e(null,n)}.bind(this))}.bind(this)),this._registerHandler("launchApp",function(t,e){id=t.id,args=t.args||{},this.launchApp(id,args,e)}.bind(this)),this._registerHandler("getAppArgs",function(t,e){e(null,s.current_app_args||{})}.bind(this)),this._registerHandler("getAppInfo",function(t,e){e(null,s.current_app_info||{})}.bind(this)),this._registerHandler("getAppConfig",function(t,e){this.engine.getAppConfig(s.current_app_id,e)}.bind(this)),this._registerHandler("setAppConfig",function(t,e){this.engine.setAppConfig(s.current_app_id,t,e)}.bind(this)),this._registerHandler("getVersion",function(t,e){this.engine.getVersion(e)}.bind(this)),this._registerHandler("requestStatus",function(t,e){this.engine.getStatus(function(t,n){t?e(t):(this.updateStatus(n),e(null,n))}.bind(this))}.bind(this)),this._registerHandler("navigate",function(t,e){if(t.url){var n=/^((https?:\/\/)|\/)/i;n.test(t.url)?window.open(t.url,t.options.target||"_self"):window.open(t.path+t.url,t.options.target||"_self")}else e(new Error("No URL specified"))}.bind(this)),this._registerHandler("notify",function(t,e){t.message?(this.notification(t.type||"info",t.message),e(null)):e(new Error("Must provide a message to notify."))}.bind(this))},c.prototype.getNetworkIdentity=function(t){t=t||function(){},this.engine.getNetworkIdentity(function(e,n){if(e)t(e);else{var i=n.name||"";r("#tool-name").text(i),document.title=i||"FabMo Dashboard",t(null,n)}}.bind(this))},c.prototype.updateStatus=function(t){this.status.job&&!t.job&&this._fireEvent("job_end",null),!this.status.job&&t.job&&this._fireEvent("job_start",null),this.status=t,this._fireEvent("status",t)},c.prototype.DRO=function(t){this.notification("info",'Move the tool if necessary, then hit "Enter'),this.openRightMenu();var e=r(document).keydown(function(n){13==n.which&&"function"==typeof t&&t(e)})},c.prototype.openRightMenu=function(){r(window).width()<900?i.openDROover():i.openDROPush()},c.prototype.closeRightMenu=function(){r(window).width()<900?i.closeDROover():i.closeDROPush()},c.prototype.openFooter=function(){r(".footBar").css("height","175px")},c.prototype.closeFooter=function(){r(".footBar").css("height","0px")},c.prototype.showModal=function(t){a=!0,r(".modalDim").show(),r(".newModal").show(),r(".modalLogo").show(),t.title?r(".modalTitle").html(t.title).show():r(".modalTitle").hide(),t.message?r(".modalDialogue").html(t.message).show():r(".modalDialogue").hide(),t.image?(r(".modalImage img").attr("src",t.image),r(".modalImage").show(),r(".modalImage").css("width","25%"),r(".modalDialogue").css("width","65%")):(r(".modalImage").hide(),r(".modalImage").css("width","0%"),r(".modalDialogue").css("width","100%")),t.okText?(r(".modalOkay").show(),r(".modalOkay").text(t.okText)):r(".modalOkay").hide(),t.ok?(r(".modalOkay").off(),r(".modalOkay").on("click",function(){t.ok(),r(".newModal").hide(),r(".modalDim").hide()})):(r(".modalOkay").off(),r(".modalOkay").on("click",function(){r(".newModal").hide(),r(".modalDim").hide()})),t.cancel?(r(".modalCancel").off(),r(".modalCancel").on("click",function(){t.cancel(),r(".newModal").hide(),r(".modalDim").hide()})):(r(".modalCancel").off(),r(".modalCancel").on("click",function(){r(".newModal").hide(),r(".modalDim").hide()})),t.cancelText?(r(".modalCancel").show(),r(".modalCancel").text(t.cancelText)):r(".modalCancel").hide(),t.okText||t.cancelText||(r(".modalOkay").off(),r(".modalOkay").show(),r(".modalOkay").text("Okay"),r(".modalOkay").on("click",function(){r(".newModal").hide(),r(".modalDim").hide()}),t.noButton===!0&&(r(".modalCancel").hide(),r(".modalOkay").hide()),t.noLogo===!0&&r(".modalLogo").hide())},c.prototype.hideModal=function(){r(".modalDim").hide(),r(".newModal").hide(),r(".modalOkay").off(),r(".modalCancel").off()},c.prototype.bindRightMenu=function(t){r("#main").hasClass("offcanvas-overlap-left")?t?this.closeRightMenu():this.ui.setMenuClosed():t?this.openRightMenu():this.ui.setMenuOpen()},c.prototype.notification=function(t,e){switch(t){case"info":o.info(e);break;case"success":o.success(e);break;case"warning":o.warning(e);break;case"error":o.error(e);break;default:console.error("Unknown type of notification: "+t)}},c.prototype.launchApp=function(t,e,n){this.router.launchApp(t,e,n)},c.prototype.refreshApps=function(){s.apps.fetch()},c.prototype.submitApps=function(t,e,n){this.engine.submitApp(t,t.options,function(t,e){s.apps.fetch(),t?n(t):(e.forEach(function(t){s.markAppForRefresh(t.info.id)}),n(null,e))}.bind(this))};var u=new c;return u}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}).call(e,n(1))},function(t,e,n){var i,r;!function(o){i=[n(1)],r=function(t){return function(){function e(t,e,n){return d({type:w.error,iconClass:g().iconClasses.error,message:t,optionsOverride:n,title:e})}function n(e,n){return e||(e=g()),v=t("#"+e.containerId),v.length?v:(n&&(v=h(e)),v)}function i(t,e,n){return d({type:w.info,iconClass:g().iconClasses.info,message:t,optionsOverride:n,title:e})}function r(t){y=t}function o(t,e,n){return d({type:w.success,iconClass:g().iconClasses.success,message:t,optionsOverride:n,title:e})}function s(t,e,n){return d({type:w.warning,iconClass:g().iconClasses.warning,message:t,optionsOverride:n,title:e})}function a(t){var e=g();v||n(e),l(t,e)||u(e)}function c(e){var i=g();return v||n(i),e&&0===t(":focus",e).length?void m(e):void(v.children().length&&v.remove())}function u(e){for(var n=v.children(),i=n.length-1;i>=0;i--)l(t(n[i]),e)}function l(e,n){return!(!e||0!==t(":focus",e).length)&&(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){m(e)}}),!0)}function h(e){return v=t("<div/>").attr("id",e.containerId).addClass(e.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo(t(e.target)),v}function f(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function p(t){y&&y(t)}function d(e){function i(e){return!t(":focus",l).length||e?(clearTimeout(w.intervalId),l[a.hideMethod]({duration:a.hideDuration,easing:a.hideEasing,complete:function(){m(l),a.onHidden&&"hidden"!==k.state&&a.onHidden(),k.state="hidden",k.endTime=new Date,p(k)}})):void 0}function r(){(a.timeOut>0||a.extendedTimeOut>0)&&(u=setTimeout(i,a.extendedTimeOut),w.maxHideTime=parseFloat(a.extendedTimeOut),w.hideEta=(new Date).getTime()+w.maxHideTime)}function o(){clearTimeout(u),w.hideEta=0,l.stop(!0,!0)[a.showMethod]({duration:a.showDuration,easing:a.showEasing})}function s(){var t=(w.hideEta-(new Date).getTime())/w.maxHideTime*100;d.width(t+"%")}var a=g(),c=e.iconClass||a.iconClass;if(a.preventDuplicates){if(e.message===b)return;b=e.message}"undefined"!=typeof e.optionsOverride&&(a=t.extend(a,e.optionsOverride),c=e.optionsOverride.iconClass||c),_++,v=n(a,!0);var u=null,l=t("<div/>"),h=t("<div/>"),f=t("<div/>"),d=t("<div/>"),y=t(a.closeHtml),w={intervalId:null,hideEta:null,maxHideTime:null},k={toastId:_,state:"visible",startTime:new Date,options:a,map:e};return e.iconClass&&l.addClass(a.toastClass).addClass(c),e.title&&(h.append(e.title).addClass(a.titleClass),l.append(h)),e.message&&(f.append(e.message).addClass(a.messageClass),l.append(f)),a.closeButton&&(y.addClass("toast-close-button").attr("role","button"),l.prepend(y)),a.progressBar&&(d.addClass("toast-progress"),l.prepend(d)),l.hide(),a.newestOnTop?v.prepend(l):v.append(l),l[a.showMethod]({duration:a.showDuration,easing:a.showEasing,complete:a.onShown}),a.timeOut>0&&(u=setTimeout(i,a.timeOut),w.maxHideTime=parseFloat(a.timeOut),w.hideEta=(new Date).getTime()+w.maxHideTime,a.progressBar&&(w.intervalId=setInterval(s,10))),l.hover(o,r),!a.onclick&&a.tapToDismiss&&l.click(i),a.closeButton&&y&&y.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&t.cancelBubble!==!0&&(t.cancelBubble=!0),i(!0)}),a.onclick&&l.click(function(){a.onclick(),i()}),p(k),a.debug&&console&&console.log(k),l}function g(){return t.extend({},f(),k.options)}function m(t){v||(v=n()),t.is(":visible")||(t.remove(),t=null,0===v.children().length&&v.remove())}var v,y,b,_=0,w={error:"error",info:"info",success:"success",warning:"warning"},k={clear:a,remove:c,error:e,getContainer:n,info:i,options:{},subscribe:r,success:o,version:"2.1.0",warning:s};return k}()}.apply(e,i),!(void 0!==r&&(t.exports=r))}(n(34))},function(t,e,n){var i;i=function(t){var e=n(2);return models={},models.App=e.Model.extend({defaults:{name:null,icon_path:null,icon_background_color:null,icon_display:null,app_path:null,app_url:null,id:null},sync:function(t,n,i){"read"===t?e.sync(t,n,i):console.error("You can not "+t+" the App model")}}),models.Apps=e.Collection.extend({model:models.App,url:"/apps",parse:function(t){return apps=t.data.apps,apps}}),models}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},,function(t,e,n){var i,r;(function(){function n(t){function e(e,n,i,r,o,s){for(;o>=0&&o<s;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=x(i,o,4);var s=!j(n)&&k.keys(n),a=(s||n).length,c=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[c]:c],c+=t),e(n,i,r,s,c,a)}}function o(t){return function(e,n,i){n=C(n,i);for(var r=O(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function s(t,e,n){return function(i,r,o){var s=0,a=O(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(d.call(i,s,a),k.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(i[o]===r)return o;return-1}}function a(t,e){var n=R.length,i=t.constructor,r=k.isFunction(i)&&i.prototype||h,o="constructor";for(k.has(t,o)&&!k.contains(e,o)&&e.push(o);n--;)o=R[n],o in t&&t[o]!==r[o]&&!k.contains(e,o)&&e.push(o)}var c=this,u=c._,l=Array.prototype,h=Object.prototype,f=Function.prototype,p=l.push,d=l.slice,g=h.toString,m=h.hasOwnProperty,v=Array.isArray,y=Object.keys,b=f.bind,_=Object.create,w=function(){},k=function(t){return t instanceof k?t:this instanceof k?void(this._wrapped=t):new k(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=k),e._=k,k.VERSION="1.8.3";var x=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},C=function(t,e,n){return null==t?k.identity:k.isFunction(t)?x(t,e,n):k.isObject(t)?k.matcher(t):k.property(t)};k.iteratee=function(t,e){return C(t,e,1/0)};var A=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,c=0;c<a;c++){var u=s[c];e&&void 0!==n[u]||(n[u]=o[u])}return n}},T=function(t){if(!k.isObject(t))return{};if(_)return _(t);w.prototype=t;var e=new w;return w.prototype=null,e},E=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,O=E("length"),j=function(t){var e=O(t);return"number"==typeof e&&e>=0&&e<=S};k.each=k.forEach=function(t,e,n){e=x(e,n);var i,r;if(j(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=k.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},k.map=k.collect=function(t,e,n){e=C(e,n);for(var i=!j(t)&&k.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},k.reduce=k.foldl=k.inject=n(1),k.reduceRight=k.foldr=n(-1),k.find=k.detect=function(t,e,n){var i;if(i=j(t)?k.findIndex(t,e,n):k.findKey(t,e,n),void 0!==i&&i!==-1)return t[i]},k.filter=k.select=function(t,e,n){var i=[];return e=C(e,n),k.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},k.reject=function(t,e,n){return k.filter(t,k.negate(C(e)),n)},k.every=k.all=function(t,e,n){e=C(e,n);for(var i=!j(t)&&k.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},k.some=k.any=function(t,e,n){e=C(e,n);for(var i=!j(t)&&k.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},k.contains=k.includes=k.include=function(t,e,n,i){return j(t)||(t=k.values(t)),("number"!=typeof n||i)&&(n=0),k.indexOf(t,e,n)>=0},k.invoke=function(t,e){var n=d.call(arguments,2),i=k.isFunction(e);return k.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},k.pluck=function(t,e){return k.map(t,k.property(e))},k.where=function(t,e){return k.filter(t,k.matcher(e))},k.findWhere=function(t,e){return k.find(t,k.matcher(e))},k.max=function(t,e,n){var i,r,o=-(1/0),s=-(1/0);if(null==e&&null!=t){t=j(t)?t:k.values(t);for(var a=0,c=t.length;a<c;a++)i=t[a],i>o&&(o=i)}else e=C(e,n),k.each(t,function(t,n,i){r=e(t,n,i),(r>s||r===-(1/0)&&o===-(1/0))&&(o=t,s=r)});return o},k.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=j(t)?t:k.values(t);for(var a=0,c=t.length;a<c;a++)i=t[a],i<o&&(o=i)}else e=C(e,n),k.each(t,function(t,n,i){r=e(t,n,i),(r<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},k.shuffle=function(t){for(var e,n=j(t)?t:k.values(t),i=n.length,r=Array(i),o=0;o<i;o++)e=k.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},k.sample=function(t,e,n){return null==e||n?(j(t)||(t=k.values(t)),t[k.random(t.length-1)]):k.shuffle(t).slice(0,Math.max(0,e))},k.sortBy=function(t,e,n){return e=C(e,n),k.pluck(k.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var I=function(t){return function(e,n,i){var r={};return n=C(n,i),k.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};k.groupBy=I(function(t,e,n){k.has(t,n)?t[n].push(e):t[n]=[e]}),k.indexBy=I(function(t,e,n){t[n]=e}),k.countBy=I(function(t,e,n){k.has(t,n)?t[n]++:t[n]=1}),k.toArray=function(t){return t?k.isArray(t)?d.call(t):j(t)?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:j(t)?t.length:k.keys(t).length},k.partition=function(t,e,n){e=C(e,n);var i=[],r=[];return k.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},k.first=k.head=k.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:k.initial(t,t.length-e)},k.initial=function(t,e,n){return d.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},k.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:k.rest(t,Math.max(0,t.length-e))},k.rest=k.tail=k.drop=function(t,e,n){return d.call(t,null==e||n?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var N=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=O(t);s<a;s++){var c=t[s];if(j(c)&&(k.isArray(c)||k.isArguments(c))){e||(c=N(c,e,n));var u=0,l=c.length;for(r.length+=l;u<l;)r[o++]=c[u++]}else n||(r[o++]=c)}return r};k.flatten=function(t,e){return N(t,e,!1)},k.without=function(t){return k.difference(t,d.call(arguments,1))},k.uniq=k.unique=function(t,e,n,i){k.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=C(n,i));for(var r=[],o=[],s=0,a=O(t);s<a;s++){var c=t[s],u=n?n(c,s,t):c;e?(s&&o===u||r.push(c),o=u):n?k.contains(o,u)||(o.push(u),r.push(c)):k.contains(r,c)||r.push(c)}return r},k.union=function(){return k.uniq(N(arguments,!0,!0))},k.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=O(t);i<r;i++){var o=t[i];if(!k.contains(e,o)){for(var s=1;s<n&&k.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},k.difference=function(t){var e=N(arguments,!0,!0,1);return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){return k.unzip(arguments)},k.unzip=function(t){for(var e=t&&k.max(t,O).length||0,n=Array(e),i=0;i<e;i++)n[i]=k.pluck(t,i);return n},k.object=function(t,e){for(var n={},i=0,r=O(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},k.findIndex=o(1),k.findLastIndex=o(-1),k.sortedIndex=function(t,e,n,i){n=C(n,i,1);for(var r=n(e),o=0,s=O(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},k.indexOf=s(1,k.findIndex,k.sortedIndex),k.lastIndexOf=s(-1,k.findLastIndex),k.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var M=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=T(t.prototype),s=t.apply(o,r);return k.isObject(s)?s:o};k.bind=function(t,e){if(b&&t.bind===b)return b.apply(t,d.call(arguments,1));if(!k.isFunction(t))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),i=function(){return M(t,i,e,this,n.concat(d.call(arguments)))};return i},k.partial=function(t){var e=d.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;s<r;s++)o[s]=e[s]===k?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return M(t,n,this,this,o)};return n},k.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=k.bind(t[n],t);return t},k.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return k.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},k.delay=function(t,e){var n=d.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},k.defer=k.partial(k.delay,k,1),k.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var c=function(){a=n.leading===!1?0:k.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var u=k.now();a||n.leading!==!1||(a=u);var l=e-(u-a);return i=this,r=arguments,l<=0||l>e?(s&&(clearTimeout(s),s=null),a=u,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(c,l)),o}},k.debounce=function(t,e,n){var i,r,o,s,a,c=function(){var u=k.now()-s;u<e&&u>=0?i=setTimeout(c,e-u):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=k.now();var u=n&&!i;return i||(i=setTimeout(c,e)),u&&(a=t.apply(o,r),o=r=null),a}},k.wrap=function(t,e){return k.partial(e,t)},k.negate=function(t){return function(){return!t.apply(this,arguments)}},k.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},k.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},k.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},k.once=k.partial(k.before,2);var B=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];k.keys=function(t){if(!k.isObject(t))return[];if(y)return y(t);var e=[];for(var n in t)k.has(t,n)&&e.push(n);return B&&a(t,e),e},k.allKeys=function(t){if(!k.isObject(t))return[];var e=[];for(var n in t)e.push(n);return B&&a(t,e),e},k.values=function(t){for(var e=k.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},k.mapObject=function(t,e,n){e=C(e,n);for(var i,r=k.keys(t),o=r.length,s={},a=0;a<o;a++)i=r[a],s[i]=e(t[i],i,t);return s},k.pairs=function(t){for(var e=k.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},k.invert=function(t){for(var e={},n=k.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},k.functions=k.methods=function(t){var e=[];for(var n in t)k.isFunction(t[n])&&e.push(n);return e.sort()},k.extend=A(k.allKeys),k.extendOwn=k.assign=A(k.keys),k.findKey=function(t,e,n){e=C(e,n);for(var i,r=k.keys(t),o=0,s=r.length;o<s;o++)if(i=r[o],e(t[i],i,t))return i},k.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;k.isFunction(e)?(r=k.allKeys(s),i=x(e,n)):(r=N(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,c=r.length;a<c;a++){var u=r[a],l=s[u];i(l,u,s)&&(o[u]=l)}return o},k.omit=function(t,e,n){if(k.isFunction(e))e=k.negate(e);else{var i=k.map(N(arguments,!1,!1,1),String);e=function(t,e){return!k.contains(i,e)}}return k.pick(t,e,n)},k.defaults=A(k.allKeys,!0),k.create=function(t,e){var n=T(t);return e&&k.extendOwn(n,e),n},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t},k.isMatch=function(t,e){var n=k.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var P=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var r=g.call(t);if(r!==g.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(k.isFunction(s)&&s instanceof s&&k.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),o){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!P(t[c],e[c],n,i))return!1}else{var u,l=k.keys(t);if(c=l.length,k.keys(e).length!==c)return!1;for(;c--;)if(u=l[c],!k.has(e,u)||!P(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};k.isEqual=function(t,e){return P(t,e)},k.isEmpty=function(t){return null==t||(j(t)&&(k.isArray(t)||k.isString(t)||k.isArguments(t))?0===t.length:0===k.keys(t).length)},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=v||function(t){return"[object Array]"===g.call(t)},k.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},k.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){k["is"+t]=function(e){return g.call(e)==="[object "+t+"]";
}}),k.isArguments(arguments)||(k.isArguments=function(t){return k.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(k.isFunction=function(t){return"function"==typeof t||!1}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!==+t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===g.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return null!=t&&m.call(t,e)},k.noConflict=function(){return c._=u,this},k.identity=function(t){return t},k.constant=function(t){return function(){return t}},k.noop=function(){},k.property=E,k.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},k.matcher=k.matches=function(t){return t=k.extendOwn({},t),function(e){return k.isMatch(e,t)}},k.times=function(t,e,n){var i=Array(Math.max(0,t));e=x(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},k.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},k.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=k.invert(D),F=function(t){var e=function(e){return t[e]},n="(?:"+k.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};k.escape=F(D),k.unescape=F(H),k.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),k.isFunction(i)?i.call(t):i};var U=0;k.uniqueId=function(t){var e=++U+"";return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,J=function(t){return"\\"+q[t]};k.template=function(t,e,n){!e&&n&&(e=n),e=k.defaults({},e,k.templateSettings);var i=RegExp([(e.escape||z).source,(e.interpolate||z).source,(e.evaluate||z).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(L,J),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(a){throw a.source=o,a}var c=function(t){return s.call(this,t,k)},u=e.variable||"obj";return c.source="function("+u+"){\n"+o+"}",c},k.chain=function(t){var e=k(t);return e._chain=!0,e};var W=function(t,e){return t._chain?k(e).chain():e};k.mixin=function(t){k.each(k.functions(t),function(e){var n=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return p.apply(t,arguments),W(this,n.apply(k,t))}})},k.mixin(k),k.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=l[t];k.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],W(this,n)}}),k.each(["concat","join","slice"],function(t){var e=l[t];k.prototype[t]=function(){return W(this,e.apply(this._wrapped,arguments))}}),k.prototype.value=function(){return this._wrapped},k.prototype.valueOf=k.prototype.toJSON=k.prototype.value,k.prototype.toString=function(){return""+this._wrapped},i=[],r=function(){return k}.apply(e,i),!(void 0!==r&&(t.exports=r))}).call(this)},,,,function(t,e,n){var i;i=function(t){var e=n(1),i=n(6),r=function(){e("#right-menu").css("right","0"),e("#app-client-container").css("padding-right","218px"),e("#app_menu_container").css("padding-right","220px"),e("#waiting_container").css("padding-right","220px")},o=function(){e("#right-menu").css("right","-222px"),e("#app-client-container").css("padding-right","0px"),e("#app_menu_container").css("padding-right","0px"),e("#waiting_container").css("padding-right","0px")},s=function(){e("#right-menu").css("right","0")},a=function(){e("#right-menu").css("right","-222px")},c=function(){"0px"===e("#right-menu").css("right")?e(window).width()<900?a():o():e(window).width()<900?s():r()},u=function(){e(window).width()>900?r():e(window).width()<900&&o()};e(".DRO-button").on("click",function(t){c();var n=e(this),i=n.clone(!0);n.before(i),e("."+n.attr("class")+":last").remove(),t.preventDefault()});var l=function(){var t=0,n=0;e("body").width()/parseFloat(e("body").css("font-size"))>40.063?(e("#main").addClass("offcanvas-overlap-right"),e("#widget-links-general").removeClass("colapsed"),e("#left-menu").removeClass("colapsed"),t=parseInt(e("#left-menu").css("width"))+1):e("body").width()/parseFloat(e("body").css("font-size"))<=40.063?(e("#main").addClass("offcanvas-overlap-right"),e("#widget-links-general").addClass("colapsed"),e("#left-menu").addClass("colapsed"),t=parseInt(e("#left-menu").css("width"))+1,e("#close_menu").css("display","none")):(e("#widget-links-general").removeClass("colapsed"),e("#left-menu").removeClass("colapsed"),e("#main").removeClass("offcanvas-overlap-right"),e("#main").removeClass("offcanvas-overlap-left"),t=0),n=e("#main").hasClass("offcanvas-overlap-left")&&e("body").width()/parseFloat(e("body").css("font-size"))>60.063?parseInt(e("#right-menu").css("width")+1):0,n+=t,t>1&&(t-=1),e(".main-section, .app-section").css("width",e("body").width()-n+"px"),e(".main-section, .app-section").css("margin-left",t+"px"),e(".main-section").css("height",e("#left-menu").height()+"px"),e("#app_menu_container").css("width",e(".main-section").width()-e(".main-section").width()%132),e(".axi").is(":focus")||u()};window.setInterval(function(){e(".pauseJob").toggleClass("blink")},1e3);var h=function(){var t=0,n=0;e("#widget-links-general").hasClass("colapsed")?(e("#widget-links-general").removeClass("colapsed"),e("#left-menu").removeClass("colapsed"),t=parseInt(e("#left-menu").css("width"))+1,e("body").width()<640&&e(".collapseLeft").show()):(e("#widget-links-general").addClass("colapsed"),e("#left-menu").addClass("colapsed"),e("#app_menu_container").css("width",e(".main-section").width()-e(".main-section").width()%132),e(".collapseLeft").hide(),t=parseInt(e("#left-menu").css("width"))+1),e(".collapseLeft").click(function(t){console.log("collapse"),t.preventDefault(),e(".collapseLeft").hide(),e("#left-menu").addClass("colapsed"),e("#widget-links-general").addClass("colapsed")}),e("body").width()/parseFloat(e("body").css("font-size"))>40.063&&(n=e("#main").hasClass("offcanvas-overlap-left")&&e("body").width()/parseFloat(e("body").css("font-size"))>60.063?parseInt(e("#right-menu").css("width")+1):0,n+=t,e(".main-section, .app-section").css("width",e("body").width()-n+"px"),e(".main-section, .app-section").css("margin-left",t+"px"),e(".main-section").css("height",e("#left-menu").height()+"px"))},f=function(){var t=0,n=0;t=e("body").width()/parseFloat(e("body").css("font-size"))>40.063?parseInt(e("#left-menu").css("width"))+1:0,n=!e("#main").hasClass("offcanvas-overlap-left")&&e("body").width()/parseFloat(e("body").css("font-size"))>60.063?parseInt(e("#right-menu").css("width")+1):0,n+=t,e(".main-section, .app-section").css("width",e("body").width()-n+"px"),e("#app_menu_container").css("width",e(".main-section").width()-e(".main-section").width()%132)},p=function(){var t=null;e("body").on("touchstart",function(e){t=e.originalEvent.touches[0].pageX})};return e(document).ready(function(){u(),l(),e(window).resize(function(){l()}),e("#icon_colapse").click(function(t){t.preventDefault(),h()}),i.options.positionClass="toast-top-center",i.options.showMethod="slideDown",i.options.hideMethod="slideUp",i.options.preventDuplicates=!0,p(),e("button[type='submit']").click(function(){return!1})}),{resizedocclick:f,resizedoc:l,colapseMenu:h,openDROover:s,closeDROover:a,openDROPush:r,closeDROPush:o}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},,function(t,e,n){var i,r,o;(function(s,a){!function(n,s){"object"==typeof t&&t.exports?t.exports=s():(r=[],i=s,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o)))}(this,function(t){"use strict";var e=3e3;console.log(t);var i=function(t){this.events={status:[],disconnect:[],authentication_failed:[],connect:[],job_start:[],job_end:[],change:[],video_frame:[]};var e=window.location.origin;this.base_url=e.replace(/\/$/,""),this.commandCounter=0,this.status={},this.config={},this._initializeWebsocket()};return i.prototype._initializeWebsocket=function(){var t=n(30);localStorage.debug=!1;try{this.socket=t.connect(this.base_url+"/private")}catch(e){this.socket=null,console.error("connection to the engine via websocket failed : "+e.message)}this.socket&&(this.socket.on("status",function(t){this._setStatus(t),this.emit("status",t)}.bind(this)),this.socket.on("change",function(t){this.emit("change",t)}.bind(this)),this.socket.on("connect",function(){console.info("Websocket connected"),this.emit("connect"),this.requestStatus()}.bind(this)),this.socket.on("message",function(t){console.info("Websocket message: "+JSON.stringify(t))}),this.socket.on("disconnect",function(){console.info("Websocket disconnected"),this.emit("disconnect")}.bind(this)),this.socket.on("authentication_failed",function(t){this.emit("authentication_failed",t)}.bind(this)),this.socket.on("connect_error",function(){this.emit("disconnect"),console.info("Websocket disconnected (connection error)")}.bind(this)))},i.prototype.startVideoStreaming=function(e){try{this.videoSocket=t(this.base_url+"/video")}catch(n){this.videoSocket=null,console.info("connection to the video streaming via websocket failed.")}this.videoSocket&&(this.videoSocket.on("frame",function(t){this.emit("video_frame",t)}.bind(this)),this.videoSocket.on("connect",function(){console.log("Video streaming websocket connected")}.bind(this)),this.videoSocket.on("message",function(t){console.info(" Video streaming websocket message: "+JSON.stringify(t))}),this.videoSocket.on("disconnect",function(){console.info("Video streaming websocket disconnected")}.bind(this)),this.videoSocket.on("connect_error",function(){console.info("Video streaming websocket disconnected (connection error)")}.bind(this))),e()},i.prototype.emit=function(t,e){var n=this.events[t];if(n)for(var i=0;i<n.length;i++)n[i](e)},i.prototype.on=function(t,e){t in this.events&&this.events[t].push(e)},i.prototype._setStatus=function(t){var e=this.status;this.status=t,e.job&&!t.job&&this.emit("job_end",e.job),!e.job&&t.job&&this.emit("job_start",t.job)},i.prototype.ping=function(t){if(this.socket){var n=Date.now(),i=setTimeout(function(){this.socket.off("pong"),t(new Error("Timeout waiting for ping response."),null)}.bind(this),e);this.socket.once("pong",function(){clearTimeout(i),t(null,Date.now()-n)}),this.socket.emit("ping")}},i.prototype.sendTime=function(t){var e=new Date,n=e.getTime(),i={ms:n};this._post("/time/date",i,t,t)},i.prototype.getConfig=function(t){var t=t||function(){};this._get("/config",t,function(e,n){this.config=n,t(e,n)}.bind(this),"config")},i.prototype.setConfig=function(t,e){this._post("/config",t,e,function(n,i){(e=e||function(){})(null,t)})},i.prototype.getVersion=function(t){this._get("/version",t,function(e,n){e&&t(e),this.version=n,t(null,n)}.bind(this),"version")},i.prototype.getStatus=function(t){this._get("/status",t,t,"status")},i.prototype.requestStatus=function(){this.socket.emit("status")},i.prototype.quit=function(t){this.command("quit")},i.prototype.pause=function(t){this.command("pause")},i.prototype.resume=function(t){this.command("resume")},i.prototype.getJobQueue=function(t){this._get("/jobs/queue",t,t,"jobs")},i.prototype.getJob=function(t,e){this._get("/job/"+t,e,e,"job")},i.prototype.getJobInfo=i.prototype.getJob,i.prototype.resubmitJob=function(t,e){this._post("/job/"+t,{},e,e)},i.prototype.updateOrder=function(t,e){this._patch("/job/"+t.id,t,e,e)},i.prototype.runNextJob=function(t){this._post("/jobs/queue/run",{},t,t)},i.prototype.getJobHistory=function(t,e){var n=t.start||0,i=t.count||0;this._get("/jobs/history?start="+n+"&count="+i,e,e,"jobs")},i.prototype.getJob=function(t,e){this._get("/job/"+t,e,e,"job")},i.prototype.getJobs=function(t){this._get("/jobs",t,t,"jobs")},i.prototype.deleteJob=function(t,e){this._del("/job/"+t,{},e,e,"job")},i.prototype.clearJobQueue=function(t,e){this._del("/jobs/queue",e,e)},i.prototype.getJobsInQueue=function(t){this._get("/jobs/queue",t,t,"jobs")},i.prototype.getApps=function(t){this._get("/apps",t,t,"apps")},i.prototype.deleteApp=function(t,e){this._del("/apps/"+t,{},e,e)},i.prototype.submitApp=function(t,e,n){this._postUpload("/apps",t,{},n,n,"apps")},i.prototype.getAppConfig=function(t,e){this._get("/apps/"+t+"/config",e,e,"config")},i.prototype.setAppConfig=function(t,e,n){this._post("/apps/"+t+"/config",{config:e},n,n,"config")},i.prototype.getMacros=function(t){this._get("/macros",t,t,"macros")},i.prototype.runMacro=function(t,e){this._post("/macros/"+t+"/run",{},e,e,"macro")},i.prototype.updateMacro=function(t,e,n){this._post("/macros/"+t,e,n,n,"macro")},i.prototype.deleteMacro=function(t,e){this._del("/macros/"+t,{},e,e)},i.prototype.runCode=function(t,e,n){var i={cmd:e,runtime:t};this._post("/code",i,n,n)},i.prototype.gcode=function(t,e){this.runCode("gcode",t,e)},i.prototype.sbp=function(t,e){this.runCode("sbp",t,e)},i.prototype.executeRuntimeCode=function(t,e,n){this.socket.emit("code",{rt:t,data:e})},i.prototype.manualStart=function(t,e){this.executeRuntimeCode("manual",{cmd:"start",axis:t,speed:e})},i.prototype.manualHeartbeat=function(){this.executeRuntimeCode("manual",{cmd:"maint"})},i.prototype.manualStop=function(){this.executeRuntimeCode("manual",{cmd:"stop"})},i.prototype.manualMoveFixed=function(t,e,n){this.executeRuntimeCode("manual",{cmd:"fixed",axis:t,speed:e,dist:n})},i.prototype.connectToWifi=function(t,e,n){var i={ssid:t,key:e};this._post("/network/wifi/connect",i,n,n)},i.prototype.disconnectFromWifi=function(t){this._post("/network/wifi/disconnect",{},t,t)},i.prototype.forgetWifi=function(t){this._post("/network/wifi/forget",{},t,t)},i.prototype.enableWifi=function(t){var e={enabled:!0};this._post("/network/wifi/state",e,t,t)},i.prototype.disableWifi=function(t){var e={enabled:!1};this._post("/network/wifi/state",e,t,t)},i.prototype.enableHotspot=function(t){var e={enabled:!0};this._post("/network/hotspot/state",e,t,t)},i.prototype.disableHotspot=function(t){var e={enabled:!1};this._post("/network/hotspot/state",e,t,t)},i.prototype.getNetworkIdentity=function(t){this._get("/network/identity",t,t)},i.prototype.setNetworkIdentity=function(t,e){this._post("/network/identity",t,e,e)},i.prototype.isOnline=function(t){this._get("/network/online",t,t,"online")},i.prototype.getWifiNetworks=function(t){this._get("/network/wifi/scan",t,t,"wifi")},i.prototype.getWifiNetworkHistory=function(t){this._get("/network/wifi/history",t,t,"history")},i.prototype.submitJob=function(t,e,n){this._postUpload("/job",t,{},n,n)},i.prototype.submitJobs=i.prototype.submitJob,i.prototype.command=function(t,e){this.socket.emit("cmd",{name:t,args:e||{},count:this.commandCounter}),this.commandCounter+=1},i.prototype.getCurrentUser=function(t){this._get("/authentication/user",t,t)},i.prototype.addUser=function(t,e){this._post("/authentication/user",t,e,e)},i.prototype.modifyUser=function(t,e){var n=t.user.id;t.user.id=void 0;var i=t;this._post("/authentication/user/"+n,i,e,e)},i.prototype.deleteUser=function(t,e){var n=t.user._id;this._del("/authentication/user/"+n,{},e,e)},i.prototype.getUsers=function(t){this._get("/authentication/users",t,t)},i.prototype._url=function(t){return this.base_url+"/"+t.replace(/^\//,"")},i.prototype._get=function(t,e,n,i){var t=this._url(t),n=n||function(){},e=e||function(){};a.ajax({url:t,type:"GET",dataType:"json",success:function(t){"success"===t.status?i?n(null,t.data[i]):n(null,t.data):e("fail"===t.status?t.data:t.message)},error:function(t,n){e(n)}})},i.prototype._postUpload=function(t,e,n,i,r,o){var r=r||function(){},i=i||function(){};Array.isArray(e)||(e=[e]);var s={files:[],meta:n},a=[];e.forEach(function(t){a.push(t.file),delete t.file,s.files.push(t)});var c=function(e,n){if(e)return i(e);var s=[];a.forEach(function(e,a){var c=new FormData;c.append("key",n),c.append("index",a),c.append("file",e);var u=function(t,e){return t?(s.forEach(function(t){t.abort()}),i(t)):void("complete"===e.status&&(o?r(null,e.data[o]):r(null,e.data)))}.bind(this),l=this._post(t,c,u,u);s.push(l)}.bind(this))}.bind(this);this._post(t,s,c,c,"key")},i.prototype._post=function(t,e,n,i,r,o){if(!o)var t=this._url(t);var i=i||function(){},n=n||function(){},s=new XMLHttpRequest;return s.open("POST",t),e instanceof FormData||(s.setRequestHeader("Content-Type","application/json"),"string"!=typeof e&&(e=JSON.stringify(e))),s.onload=function(){switch(s.status){case 200:var t=JSON.parse(s.responseText);switch(t.status){case"success":r?i(null,t.data[r]):i(null,t.data);break;case"fail":n(r?t.data[r]:t.data);break;default:n(t.message)}break;case 300:try{var t=JSON.parse(s.responseText);t.url?this._post(t.url,e,n,i,r,!0):console.error("Bad redirect in FabMo API")}catch(o){console.error(o)}break;default:console.error("Got a bad response from server: "+s.status)}}.bind(this),s.send(e),s},i.prototype._patch=function(t,e,n,i,r){var t=this._url(t),i=i||function(){},n=n||function(){};a.ajax({url:t,type:"PATCH",data:e,success:function(t){"success"===e.status?r?i(null,t.data.key):i(null,t.data):n("fail"===e.status?t.data:t.message)},error:function(t,e){n(e)}})},i.prototype._del=function(t,e,n,i,r){var t=this._url(t),i=i||function(){},n=n||function(){};a.ajax({url:t,type:"DELETE",dataType:"json",data:e,success:function(t){"success"===e.status?r?i(null,t.data.key):i(null,t.data):n("fail"===e.status?t.data:t.message)},error:function(t,e){n(e)}})},i})}).call(e,n(1),n(1))},function(t,e,n){var i,r;(function(o){!function(o,s){"object"==typeof t&&t.exports?t.exports=s():(i=s,r="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==r&&(t.exports=r)))}(this,function(){"use strict";function t(t,e){this.event_handlers={error:[],message:[],status:[],disconnect:[],reconnect:[]},this.tool=t,this.prefix="",this.refresh=125,this.keypad=!0,this.file_control=!0,e&&(this.prefix=e.prefix?e.prefix+"-":"",this.refresh=e.refresh||100,this.keypad=e.keypad!==!1,this.file_control=e.file_control!==!1),this.status_div_selector=".fabmo-"+this.prefix+"status",this.keypad_div_selector=".fabmo-"+this.prefix+"keypad",this.file_control_selector=".fabmo-"+this.prefix+"file-control",this.posX_selector=this.status_div_selector+" .posx",this.posY_selector=this.status_div_selector+" .posy",this.posZ_selector=this.status_div_selector+" .posz",this.posA_selector=this.status_div_selector+" .posa",this.posB_selector=this.status_div_selector+" .posb",this.state_selector=this.status_div_selector+" .state",this.file_info_div_selector=this.status_div_selector+" .file-info",this.filename_selector=this.file_info_div_selector+" .filename",this.progress_selector=this.file_info_div_selector+" .progress",this.manual_controls_selector=".fabmo-manual-control",this.stop_button_selector=this.file_control_selector+" .stopJob",this.resume_button_selector=this.file_control_selector+" .resumeJob",this.pause_button_selector=this.file_control_selector+" .fabmo-pause-button",this.units_selector=this.status_div_selector+" .units",this.keypad&&(this.my_keypad=this.Keypad),this.file_control&&(this.my_file_control=this.FileControl,this.FileControl()),this.tool.on("status",function(t){this.updateStatusContent(t)}.bind(this)),this.tool.requestStatus()}var e=16;return t.prototype.on=function(t,e){t in this.event_handlers&&this.event_handlers[t].push(e),"error"===t&&"stopped"===this.tool.status.state&&this.tool.status.info.error&&e(this.tool.status.info.error)},t.prototype.emit=function(t,e){if(t in this.event_handlers)for(var n in this.event_handlers[t]){var i=this.event_handlers[t][n];i(e)}},t.prototype.lock=function(){this.right=!1,this.left=!1,this.up=!1,this.down=!1,this.page_up=!1,this.page_down=!1},t.prototype.setMenuOpen=function(){this.menu_open=!0},t.prototype.setMenuClosed=function(){this.menu_open=!1},t.prototype.allowKeypad=function(){this.keypad_allow=!0,o(this.keypad_div_selector).show(),o("#keypad").addClass("hidden")},t.prototype.forbidKeypad=function(){this.keypad_allow=!1,o(this.keypad_div_selector).hide(),o("#keypad").removeClass("hidden")},t.prototype.statusKeypad=function(){return this.keypad_allow},t.prototype.updateText=function(t,e){var n=t.text(),i=t.val();n!=e&&t.text(e),i!=e&&t.val(e)},t.prototype.updateStatusContent=function(t){var n=this,i=n.tool.state;n.tool.state=t.state,i!==t.state&&("stopped"===t.state?t.info&&t.info.error&&this.emit("error",t.info.error):"paused"===t.state&&t.info&&t.info.message&&this.emit("message",t.info.message));var r=t.unit||"??",s="mm"===r?2:3;if(["x","y","z","a","b"].forEach(function(e){var i="pos"+e;if(i in t){o("."+e+"axis").show();try{var r=t[i].toFixed(s)}catch(a){var r=(i+"."+i+i+i).toUpperCase()}n.updateText(o("."+i),r)}else o("."+e+"axis").hide()}),n.updateText(o(n.units_selector),r),t.job){var a=Date.now()-t.job.started_at,c=Math.floor(a/1e3),u=c%60,l=Math.floor(c/60),h=l%60,f=Math.floor(l/60),p=f,d=(p?p+"h ":"")+(h?h+"m ":"")+(u?u+"s":"");o(".startNextContainer").hide(),o(n.file_info_div_selector).removeClass("hide"),o(".currentJobTitle").text(t.job.name),o(n.filename_selector).html(t.job.name);var g=["-webkit-transform","-ms-transform","transform"],m=(t.line/t.nb_lines*100).toFixed(2);m>100&&(m=100),isNaN(m)&&(m=0);var v=Math.round(m),y=255-Math.round(255*(v/100)),b=Math.round(180*(v/100)),_=b,w=2*b;if(o(window).width()<700){o(".radial_progress").show(),o(".inset .percentage").css("color","rgba("+y+", 255, "+y+", 1)"),o(".mask .fill").css("background-color","rgba("+y+", 255, "+y+", 1)"),o(".inset .percentage").text(v+"%"),o(".elapsed_time_text").text(d);for(k in g)o(".fill, .mask.full").css(g[k],"rotate("+_+"deg)"),o(".fill.fix").css(g[k],"rotate("+w+"deg)"),o(".load_container").hide()}else o(".radial_progress").hide(),o(".load_container").show(),o(".percent_comp").text(v+"%"),o(".horizontal_fill").css("width",v+"%"),o(".elapsed_time_text").text(d);o(n.progress_selector).css("width",m.toString()+"%")}else o(n.file_info_div_selector).addClass("hide"),o(".load_container").hide(),o("#loadbar").hide(),o(".radial_progress").hide(),o(n.filename_selector).empty(),o(n.progress_selector).empty(),o(".currentJobTitle").text("");for(var k=1;k<e+1;k++){var x="in"+k;if(!(x in t))break;var C=n.status_div_selector+" .in"+k;1==t[x]?o(C).removeClass("off").addClass("on"):0==t[x]?o(C).removeClass("on").addClass("off"):o(C).removeClass("on off").addClass("disabled")}o(n.status_div_selector).trigger("statechange",t.state);var A=t.state.charAt(0).toUpperCase()+t.state.slice(1);"idle"===t.state?(n.allowKeypad(),o(n.status_div_selector).removeClass("fabmo-status-running fabmo-status-paused fabmo-status-error fabmo-status-disconnected fabmo-status-idle fabmo-status-passthrough"),o(n.status_div_selector).removeClass("fabmo-status-idle"),o(".tools-current > li a").removeClass("paus err disc"),o(n.state_selector).html(A),n.file_control&&(o(n.stop_button_selector).hide(),o(n.resume_button_selector).hide(),o(n.pause_button_selector).hide())):"running"===t.state||"homing"===t.state||"probing"===t.state?(n.forbidKeypad(),o(n.status_div_selector).removeClass("fabmo-status-running fabmo-status-paused fabmo-status-error fabmo-status-disconnected fabmo-status-idle fabmo-status-passthrough"),o(n.status_div_selector).removeClass("fabmo-status-running"),o(".tools-current > li a").removeClass("paus disc").addClass("err"),o(n.state_selector).html(A),n.file_control&&(o(n.stop_button_selector).hide(),o(n.pause_button_selector).show(),o(n.resume_button_selector).hide())):"manual"===t.state?(n.allowKeypad(),o(n.status_div_selector).removeClass("fabmo-status-running fabmo-status-paused fabmo-status-error fabmo-status-disconnected fabmo-status-idle fabmo-status-passthrough"),o(n.status_div_selector).removeClass("fabmo-status-running"),o(".tools-current > li a").removeClass("disc err").addClass("paus"),o(n.state_selector).html(A),n.file_control&&(o(n.stop_button_selector).hide(),o(n.resume_button_selector).hide(),o(n.pause_button_selector).hide())):"paused"===t.state?(o(n.status_div_selector).removeClass("fabmo-status-running fabmo-status-paused fabmo-status-error fabmo-status-disconnected fabmo-status-idle fabmo-status-passthrough"),o(n.status_div_selector).removeClass("fabmo-status-paused"),o(".tools-current > li a").removeClass("paus disc err").addClass("paus"),o(n.state_selector).html(A),n.file_control&&(o(n.stop_button_selector).show(),o(n.pause_button_selector).hide(),o(n.resume_button_selector).show())):"passthrough"===t.state?(n.forbidKeypad(),o(".tools-current > li a").removeClass("paus disc err").addClass("paus"),o(n.status_div_selector).removeClass("fabmo-status-running fabmo-status-paused fabmo-status-error fabmo-status-disconnected fabmo-status-idle fabmo-status-passthrough"),o(n.status_div_selector).addClass("fabmo-status-passthrough"),o(n.state_selector).html("passthrough"),o(n.stop_button_selector).hide(),o(n.pause_button_selector).hide(),o(n.resume_button_selector).hide()):"limit"==t.state?(n.forbidKeypad(),o(n.status_div_selector).removeClass("fabmo-status-running fabmo-status-paused fabmo-status-error fabmo-status-disconnected fabmo-status-idle fabmo-status-passthrough"),o(n.status_div_selector).removeClass("fabmo-status-error"),o(".tools-current > li a").removeClass("paus err").addClass("disc"),o(n.state_selector).html(t.state),n.file_control&&(o(n.pause_button_selector).hide(),o(n.resume_button_selector).show(),o(n.stop_button_selector).hide())):"not_ready"==t.state||"dead"==t.state?(A="Unavailable",n.forbidKeypad(),o(n.status_div_selector).removeClass("fabmo-status-running fabmo-status-paused fabmo-status-error fabmo-status-disconnected fabmo-status-idle fabmo-status-passthrough"),o(n.status_div_selector).addClass("fabmo-status-error"),o(n.state_selector).html(A),n.file_control&&(o(n.pause_button_selector).hide(),o(n.resume_button_selector).hide(),o(n.stop_button_selector).hide())):"stopped"==t.state?(n.forbidKeypad(),o(n.status_div_selector).removeClass("fabmo-status-running fabmo-status-error fabmo-status-disconnected fabmo-status-idle fabmo-status-passthrough"),o(n.status_div_selector).addClass("fabmo-status-paused"),o(n.state_selector).html(A),n.file_control&&(o(n.pause_button_selector).hide(),o(n.resume_button_selector).hide(),o(n.stop_button_selector).hide())):(o(".tools-current > li a").removeClass("paus err").addClass("disc"),console.warn("Unknown status"+JSON.stringify(t))),"idle"===t.state||"manual"===t.state?o(n.manual_controls_selector).removeClass("hide"):o(n.manual_controls_selector).addClass("hide"),this.emit("status",t)},t.prototype.updateStatus=function(){var t=this;t.tool.getStatus(function(e,n){e?(o(".tools-current > li a").removeClass("paus err").addClass("disc"),delete this,o(t.posX_selector).html("X.XXX"),o(t.posY_selector).html("X.XXX"),o(t.posZ_selector).html("X.XXX"),o(t.status_div_selector).removeClass("fabmo-status-running fabmo-status-paused fabmo-status-error fabmo-status-disconnected fabmo-status-idle fabmo-status-passthrough"),o(t.status_div_selector).removeClass("fabmo-status-disconnected"),o(t.state_selector).html("Unknown Error"),o(t.status_div_selector).trigger("statechange","Error"),t.file_control&&(o(t.stop_button_selector).hide(),o(t.pause_button_selector).hide(),o(t.resume_button_selector).hide())):(t.updateStatusContent(n),t.emit("reconnect"))})},t.prototype.FileControl=function(){var t=this;o(t.pause_button_selector).click(function(e){t.tool.pause(function(){})}),o(t.resume_button_selector).click(function(e){t.tool.resume(function(){})}),o(t.stop_button_selector).click(function(e){t.tool.quit(function(){})})},t})}).call(e,n(1))},,function(t,e,n){var i;/*! Hammer.JS - v2.0.4 - 2014-09-28
	 * http://hammerjs.github.io/
	 *
	 * Copyright (c) 2014 Jorik Tangelder;
	 * Licensed under the MIT license */
!function(r,o,s,a){"use strict";function c(t,e,n){return setTimeout(d(t,n),e)}function u(t,e,n){return!!Array.isArray(t)&&(l(t,n[e],n),!0)}function l(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function h(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===a)&&(t[i[r]]=e[i[r]]),r++;return t}function f(t,e){return h(t,e,!0)}function p(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&h(i,n)}function d(t,e){return function(){return t.apply(e,arguments)}}function g(t,e){return typeof t==dt?t.apply(e?e[0]||a:a,e):t}function m(t,e){return t===a?e:t}function v(t,e,n){l(w(e),function(e){t.addEventListener(e,n,!1)})}function y(t,e,n){l(w(e),function(e){t.removeEventListener(e,n,!1)})}function b(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function _(t,e){return t.indexOf(e)>-1}function w(t){return t.trim().split(/\s+/g)}function k(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function C(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];k(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function A(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<ft.length;){if(n=ft[o],i=n?n+r:e,i in t)return i;o++}return a}function T(){return yt++}function E(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function S(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){g(t.options.enable,[t])&&n.handler(e)},this.init()}function O(t){var e,n=t.options.inputClass;return new(e=n?n:wt?L:kt?X:_t?$:q)(t,j)}function j(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&St&&i-r===0,s=e&(jt|It)&&i-r===0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,I(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function I(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=B(e)),r>1&&!n.firstMultiple?n.firstMultiple=B(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,c=e.center=R(i);e.timeStamp=vt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=F(a,c),e.distance=H(a,c),N(n,e),e.offsetDirection=D(e.deltaX,e.deltaY),e.scale=s?z(s.pointers,i):1,e.rotation=s?U(s.pointers,i):0,M(n,e);var u=t.element;b(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}function N(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};(e.eventType===St||o.eventType===jt)&&(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function M(t,e){var n,i,r,o,s=t.lastInterval||e,c=e.timeStamp-s.timeStamp;if(e.eventType!=It&&(c>Et||s.velocity===a)){var u=s.deltaX-e.deltaX,l=s.deltaY-e.deltaY,h=P(c,u,l);i=h.x,r=h.y,n=mt(h.x)>mt(h.y)?h.x:h.y,o=D(u,l),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}function B(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:gt(t.pointers[n].clientX),clientY:gt(t.pointers[n].clientY)},n++;return{timeStamp:vt(),pointers:e,center:R(e),deltaX:t.deltaX,deltaY:t.deltaY}}function R(t){var e=t.length;if(1===e)return{x:gt(t[0].clientX),y:gt(t[0].clientY)};for(var n=0,i=0,r=0;e>r;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:gt(n/e),y:gt(i/e)}}function P(t,e,n){return{x:e/t||0,y:n/t||0}}function D(t,e){return t===e?Nt:mt(t)>=mt(e)?t>0?Mt:Bt:e>0?Rt:Pt}function H(t,e,n){n||(n=Ut);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function F(t,e,n){n||(n=Ut);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function U(t,e){return F(e[1],e[0],zt)-F(t[1],t[0],zt)}function z(t,e){return H(e[0],e[1],zt)/H(t[0],t[1],zt)}function q(){this.evEl=Lt,this.evWin=Jt,this.allow=!0,this.pressed=!1,S.apply(this,arguments)}function L(){this.evEl=Vt,this.evWin=$t,S.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function J(){this.evTarget=Yt,this.evWin=Zt,this.started=!1,S.apply(this,arguments)}function W(t,e){var n=x(t.touches),i=x(t.changedTouches);return e&(jt|It)&&(n=C(n.concat(i),"identifier",!0)),[n,i]}function X(){this.evTarget=Qt,this.targetIds={},S.apply(this,arguments)}function V(t,e){var n=x(t.touches),i=this.targetIds;if(e&(St|Ot)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=x(t.changedTouches),a=[],c=this.target;if(o=n.filter(function(t){return b(t.target,c)}),e===St)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(jt|It)&&delete i[s[r].identifier],r++;return a.length?[C(o.concat(a),"identifier",!0),a]:void 0}function $(){S.apply(this,arguments);var t=d(this.handler,this);this.touch=new X(this.manager,t),this.mouse=new q(this.manager,t)}function K(t,e){this.manager=t,this.set(e)}function Y(t){if(_(t,oe))return oe;var e=_(t,se),n=_(t,ae);return e&&n?se+" "+ae:e||n?e?se:ae:_(t,re)?re:ie}function Z(t){this.id=T(),this.manager=null,this.options=f(t||{},this.defaults),this.options.enable=m(this.options.enable,!0),this.state=ce,this.simultaneous={},this.requireFail=[]}function G(t){return t&pe?"cancel":t&he?"end":t&le?"move":t&ue?"start":""}function Q(t){return t==Pt?"down":t==Rt?"up":t==Mt?"left":t==Bt?"right":""}function tt(t,e){var n=e.manager;return n?n.get(t):t}function et(){Z.apply(this,arguments)}function nt(){et.apply(this,arguments),this.pX=null,this.pY=null}function it(){et.apply(this,arguments)}function rt(){Z.apply(this,arguments),this._timer=null,this._input=null}function ot(){et.apply(this,arguments)}function st(){et.apply(this,arguments)}function at(){Z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ct(t,e){return e=e||{},e.recognizers=m(e.recognizers,ct.defaults.preset),new ut(t,e)}function ut(t,e){e=e||{},this.options=f(e,ct.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=O(this),this.touchAction=new K(this,this.options.touchAction),lt(this,!0),l(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function lt(t,e){var n=t.element;l(t.options.cssProps,function(t,i){n.style[A(n.style,i)]=e?t:""})}function ht(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var ft=["","webkit","moz","MS","ms","o"],pt=o.createElement("div"),dt="function",gt=Math.round,mt=Math.abs,vt=Date.now,yt=1,bt=/mobile|tablet|ip(ad|hone|od)|android/i,_t="ontouchstart"in r,wt=A(r,"PointerEvent")!==a,kt=_t&&bt.test(navigator.userAgent),xt="touch",Ct="pen",At="mouse",Tt="kinect",Et=25,St=1,Ot=2,jt=4,It=8,Nt=1,Mt=2,Bt=4,Rt=8,Pt=16,Dt=Mt|Bt,Ht=Rt|Pt,Ft=Dt|Ht,Ut=["x","y"],zt=["clientX","clientY"];S.prototype={handler:function(){},init:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(E(this.element),this.evWin,this.domHandler)}};var qt={mousedown:St,mousemove:Ot,mouseup:jt},Lt="mousedown",Jt="mousemove mouseup";p(q,S,{handler:function(t){var e=qt[t.type];e&St&&0===t.button&&(this.pressed=!0),e&Ot&&1!==t.which&&(e=jt),this.pressed&&this.allow&&(e&jt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:At,srcEvent:t}))}});var Wt={pointerdown:St,pointermove:Ot,pointerup:jt,pointercancel:It,pointerout:It},Xt={2:xt,3:Ct,4:At,5:Tt},Vt="pointerdown",$t="pointermove pointerup pointercancel";r.MSPointerEvent&&(Vt="MSPointerDown",$t="MSPointerMove MSPointerUp MSPointerCancel"),p(L,S,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Wt[i],o=Xt[t.pointerType]||t.pointerType,s=o==xt,a=k(e,t.pointerId,"pointerId");r&St&&(0===t.button||s)?0>a&&(e.push(t),a=e.length-1):r&(jt|It)&&(n=!0),0>a||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var Kt={touchstart:St,touchmove:Ot,touchend:jt,touchcancel:It},Yt="touchstart",Zt="touchstart touchmove touchend touchcancel";p(J,S,{handler:function(t){var e=Kt[t.type];if(e===St&&(this.started=!0),this.started){var n=W.call(this,t,e);e&(jt|It)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:xt,srcEvent:t})}}});var Gt={touchstart:St,touchmove:Ot,touchend:jt,touchcancel:It},Qt="touchstart touchmove touchend touchcancel";p(X,S,{handler:function(t){var e=Gt[t.type],n=V.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:xt,srcEvent:t})}}),p($,S,{handler:function(t,e,n){var i=n.pointerType==xt,r=n.pointerType==At;if(i)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(jt|It)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var te=A(pt.style,"touchAction"),ee=te!==a,ne="compute",ie="auto",re="manipulation",oe="none",se="pan-x",ae="pan-y";K.prototype={set:function(t){t==ne&&(t=this.compute()),ee&&(this.manager.element.style[te]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){g(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Y(t.join(" "))},preventDefaults:function(t){if(!ee){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=_(i,oe),o=_(i,ae),s=_(i,se);return r||o&&n&Dt||s&&n&Ht?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ce=1,ue=2,le=4,he=8,fe=he,pe=16,de=32;Z.prototype={defaults:{},set:function(t){return h(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(u(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=tt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return u(t,"dropRecognizeWith",this)?this:(t=tt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(u(t,"requireFailure",this))return this;var e=this.requireFail;return t=tt(t,this),-1===k(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(u(t,"dropRequireFailure",this))return this;t=tt(t,this);var e=k(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?G(i):""),t)}var n=this,i=this.state;he>i&&e(!0),e(),i>=he&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=de)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(de|ce)))return!1;t++}return!0},recognize:function(t){var e=h({},t);return g(this.options.enable,[this,e])?(this.state&(fe|pe|de)&&(this.state=ce),this.state=this.process(e),void(this.state&(ue|le|he|pe)&&this.tryEmit(e))):(this.reset(),void(this.state=de))},process:function(){},getTouchAction:function(){},reset:function(){}},p(et,Z,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(ue|le),r=this.attrTest(t);return i&&(n&It||!r)?e|pe:i||r?n&jt?e|he:e&ue?e|le:ue:de}}),p(nt,et,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ft},getTouchAction:function(){var t=this.options.direction,e=[];return t&Dt&&e.push(ae),t&Ht&&e.push(se),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&Dt?(r=0===o?Nt:0>o?Mt:Bt,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?Nt:0>s?Rt:Pt,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return et.prototype.attrTest.call(this,t)&&(this.state&ue||!(this.state&ue)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Q(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),p(it,et,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[oe]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ue)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),p(rt,Z,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[ie]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(jt|It)&&!r)this.reset();else if(t.eventType&St)this.reset(),this._timer=c(function(){this.state=fe,this.tryEmit()},e.time,this);else if(t.eventType&jt)return fe;return de},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===fe&&(t&&t.eventType&jt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=vt(),this.manager.emit(this.options.event,this._input)))}}),p(ot,et,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[oe]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ue)}}),p(st,et,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Dt|Ht,pointers:1},getTouchAction:function(){return nt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Dt|Ht)?e=t.velocity:n&Dt?e=t.velocityX:n&Ht&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&mt(e)>this.options.velocity&&t.eventType&jt},emit:function(t){var e=Q(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(at,Z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[re]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&St&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=jt)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||H(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t;var a=this.count%e.taps;if(0===a)return this.hasRequireFailures()?(this._timer=c(function(){this.state=fe,this.tryEmit()},e.interval,this),ue):fe}return de},failTimeout:function(){return this._timer=c(function(){this.state=de},this.options.interval,this),de},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==fe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ct.VERSION="2.0.4",ct.defaults={domEvents:!1,touchAction:ne,enable:!0,inputTarget:null,inputClass:null,preset:[[ot,{enable:!1}],[it,{enable:!1},["rotate"]],[st,{direction:Dt}],[nt,{direction:Dt},["swipe"]],[at],[at,{event:"doubletap",taps:2},["tap"]],[rt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ge=1,me=2;ut.prototype={set:function(t){return h(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?me:ge},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&fe)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],e.stopped===me||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(ue|le|he)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Z)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(u(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(u(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(k(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return l(w(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return l(w(t),function(t){e?n[t].splice(k(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&ht(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&lt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(ct,{INPUT_START:St,INPUT_MOVE:Ot,INPUT_END:jt,INPUT_CANCEL:It,STATE_POSSIBLE:ce,STATE_BEGAN:ue,STATE_CHANGED:le,STATE_ENDED:he,STATE_RECOGNIZED:fe,STATE_CANCELLED:pe,STATE_FAILED:de,DIRECTION_NONE:Nt,DIRECTION_LEFT:Mt,DIRECTION_RIGHT:Bt,DIRECTION_UP:Rt,DIRECTION_DOWN:Pt,DIRECTION_HORIZONTAL:Dt,DIRECTION_VERTICAL:Ht,DIRECTION_ALL:Ft,Manager:ut,Input:S,TouchAction:K,TouchInput:X,MouseInput:q,PointerEventInput:L,TouchMouseInput:$,SingleTouchInput:J,Recognizer:Z,AttrRecognizer:et,Tap:at,Pan:nt,Swipe:st,Pinch:it,Rotate:ot,Press:rt,on:v,off:y,each:l,merge:f,extend:h,inherit:p,bindFn:d,prefixed:A}),"function"==dt&&n(35)?(i=function(){return ct}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))):"undefined"!=typeof t&&t.exports?t.exports=ct:r[s]=ct}(window,document,"Hammer")},function(t,e,n){var i,r;(function(o){!function(o,s){"object"==typeof t&&t.exports?t.exports=s():(i=s,r="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==r&&(t.exports=r)))}(this,function(){"use strict";var t=100,e=10,n=39,i=37,r=38,s=40,a=33,c=34,u=function(t,e){this.id=t,this.elem=o(t),this.elem.attr("tabindex",0),this.moves=0,this.init(),this.move=null,this.going=!1,this.interval=null,this.listeners={go:[],stop:[],nudge:[]},this.setOptions(e),this.nudgeTimer=null};return u.prototype.init=function(){this.elem.click(this.onClick.bind(this)),this.elem.on("focus",this.onFocus.bind(this)),this.elem.on("mouseenter",this.onMouseEnter.bind(this)),this.elem.on("blur",this.onBlur.bind(this)),this.elem.on("mousemove",this.onMouseMove.bind(this)),this.elem.on("keydown",this.onKeyDown.bind(this)),this.elem.on("mouseleave",this.onMouseLeave.bind(this)),this.elem.on("keyup",this.onKeyUp.bind(this))},u.prototype.setOptions=function(t){t=t||{},this.refreshInterval=t.refreshInterval||this.refreshInterval||100},u.prototype.emit=function(t,e){if(t in this.listeners)for(var n=this.listeners[t],i=0;i<n.length;i++)try{n[i](e)}catch(r){console.error("Error calling listener: "+r)}},u.prototype.on=function(t,e){t in this.listeners&&this.listeners[t].push(e)},u.prototype.setEnabled=function(t){this.enabled=t,t?(this.moves=e,this.elem.removeClass("keyboard-button-inactive").addClass("keyboard-button-active")):(this.moves=0,this.elem.removeClass("keyboard-button-active").addClass("keyboard-button-inactive"))},u.prototype.refresh=function(){this.enabled&&this.going?(this.emit("go",this.move),this.interval=setTimeout(this.refresh.bind(this),this.refreshInterval)):this.emit("stop",null)},u.prototype.start=function(t,e){this.going||(this.move={axis:t,dir:e},this.going=!0,this.refresh())},u.prototype.stop=function(){this.going=!1,this.interval&&(clearTimeout(this.interval),this.interval=null),this.emit("stop",null)},u.prototype.onClick=function(t){this.setEnabled(!this.enabled)},u.prototype.onFocus=function(t){},u.prototype.onMouseEnter=function(t){},u.prototype.onBlur=function(t){this.setEnabled(!1)},u.prototype.onMouseMove=function(t){this.moves--<=0&&this.setEnabled(!1)},u.prototype.onKeyDown=function(e){this.going||(this.nudgeTimer=setTimeout(function(){if(this.nudgeTimer=null,!this.going)switch(e.keyCode){case r:this.start("y",1);break;case s:this.start("y",-1);break;case i:this.start("x",-1);break;case n:this.start("x",1);break;case a:this.start("z",1);break;case c:this.start("z",-1)}}.bind(this),t))},u.prototype.onMouseLeave=function(t){this.setEnabled(!1),this.going&&this.stop()},u.prototype.onKeyUp=function(t){if(this.going&&this.stop(),this.nudgeTimer)switch(clearTimeout(this.nudgeTimer),this.nudgeTimer=null,t.keyCode){case r:this.nudge("y",1);break;case s:this.nudge("y",-1);break;case i:this.nudge("x",-1);break;case n:this.nudge("x",1);break;case a:this.nudge("z",1);break;case c:this.nudge("z",-1)}else this.stop()},u.prototype.nudge=function(t,e){if(this.going)return this.stop();var n={axis:t,dir:e};this.emit("nudge",n)},u})}).call(e,n(1))},function(t,e,n){(function(e){!function(n,i){"object"==typeof t&&t.exports?t.exports=i():n.WheelControl=i(Hammer,e)}(this,function(t){"use strict";var i=function(t,n){this.id=t,this.elem=e(t),this.setOptions(n),this.init(),this.move=null,this.going=!1,this.interval=null,this.enabled=!1,this.listeners={go:[],stop:[],nudge:[]},this.pressThreshold=50,this.pressTime=150,this.tapInterval=150,this.target=null};return i.prototype.init=function(){var t=this.elem,i=t.find(".drive-button");i.each(function(t,i){var r=n(18),o=new r.Manager(i);o.add(new r.Tap({time:this.pressTime-1,interval:this.tapInterval,threshold:this.pressThreshold})),o.add(new r.Press({time:this.pressTime,threshold:this.pressThreshold})),o.add(new r.Pan({threshold:this.pressThreshold})),o.on("press",this.onDrivePress.bind(this)),o.on("pressup",this.end.bind(this)),o.on("tap",this.onDriveTap.bind(this)),o.on("panend",this.end.bind(this)),o.on("pancancel",this.end.bind(this)),window.addEventListener("orientationchange",this.end.bind(this)),e(i).on("blur",this.end.bind(this)),e(i).on("mouseleave",this.onDriveMouseleave.bind(this)),e(i).on("touchend",this.end.bind(this)),e(document).on("scroll",this.end.bind(this)),i.addEventListener("contextmenu",function(t){t.preventDefault()})}.bind(this))},i.prototype.setOptions=function(t){t=t||{},this.refreshInterval=t.refreshInterval||this.refreshInterval||100,this.pressTime=t.pressTime||this.pressTime||250,this.pressThreshold=t.pressThreshold||this.pressThreshold||10,this.tapInterval=t.tapInterval||this.tapInterval||250},i.prototype.emit=function(t,e){if(t in this.listeners)for(var n=this.listeners[t],i=0;i<n.length;i++)try{n[i](e)}catch(r){console.error("Error calling listener: "+r)}},i.prototype.on=function(t,e){t in this.listeners&&this.listeners[t].push(e)},i.prototype.setEnabled=function(t){this.enabled=t,t||this.elem.find(".drive-button").addClass("drive-button-inactive").removeClass("drive-button-active")},i.prototype.refresh=function(){this.enabled&&this.going?(this.emit("go",this.move),this.interval=setTimeout(this.refresh.bind(this),this.refreshInterval)):this.emit("stop",null)},i.prototype.start=function(t,e){this.going||(this.move={axis:t,dir:e},this.going=!0,this.refresh())},i.prototype.nudge=function(t,e){if(!this.going){var n={axis:t,dir:e};this.emit("nudge",n)}},i.prototype.stop=function(){this.going=!1,this.interval&&(clearTimeout(this.interval),this.interval=null),this.emit("stop",null)},i.prototype.end=function(){this.enabled&&this.setEnabled(!1),this.going&&this.stop()},i.prototype.onDrivePress=function(t){this.target=t.target,this.setEnabled(!0);var n=e(t.target);if(n.focus(),!this.going){if(n.hasClass("x_pos"))this.start("x",1);else if(n.hasClass("x_neg"))this.start("x",-1);else if(n.hasClass("y_pos"))this.start("y",1);else if(n.hasClass("y_neg"))this.start("y",-1);else if(n.hasClass("z_pos"))this.start("z",1);else{if(!n.hasClass("z_neg"))return;this.start("z",-1)}n.addClass("drive-button-active").removeClass("drive-button-inactive")}},i.prototype.onDriveTap=function(t){var n=e(t.target);if(this.going)this.end();else{if(n.hasClass("x_pos"))this.nudge("x",1);else if(n.hasClass("x_neg"))this.nudge("x",-1);else if(n.hasClass("y_pos"))this.nudge("y",1);else if(n.hasClass("y_neg"))this.nudge("y",-1);else if(n.hasClass("z_pos"))this.nudge("z",1);else{if(!n.hasClass("z_neg"))return;this.nudge("z",-1)}n.addClass("drive-button-active-transient").removeClass("drive-button-inactive"),setTimeout(function(){this.going||n.removeClass("drive-button-active-transient").addClass("drive-button-inactive")}.bind(this),25)}},i.prototype.onDriveMouseleave=function(t){t.target==this.target&&this.end()},i})}).call(e,n(1))},function(t,e,n){!function(n,i){"undefined"!=typeof t&&t.exports&&(e=t.exports=i(n,e))}(this,function(t,e){"use strict";return Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=e);e>n;n++)if(n in this&&this[n]===t)return n;return-1}),e.prefix="",e._getPrefixedKey=function(t,e){return e=e||{},e.noPrefix?t:this.prefix+t},e.set=function(t,e,n){var i=this._getPrefixedKey(t,n);try{localStorage.setItem(i,JSON.stringify({data:e}))}catch(r){console&&console.warn("Lockr didn't successfully save the '{"+t+": "+e+"}' pair, because the localStorage is full.")}},e.get=function(t,e,n){var i,r=this._getPrefixedKey(t,n);try{i=JSON.parse(localStorage.getItem(r))}catch(o){try{i=localStorage[r]?JSON.parse('{"data":"'+localStorage.getItem(r)+'"}'):null}catch(o){console&&console.warn("Lockr could not load the item with key "+t)}}return null===i?e:"undefined"!=typeof i.data?i.data:e},e.sadd=function(t,n,i){var r,o=this._getPrefixedKey(t,i),s=e.smembers(t);if(s.indexOf(n)>-1)return null;try{s.push(n),r=JSON.stringify({data:s}),localStorage.setItem(o,r)}catch(a){console.log(a),console&&console.warn("Lockr didn't successfully add the "+n+" to "+t+" set, because the localStorage is full.")}},e.smembers=function(t,e){var n,i=this._getPrefixedKey(t,e);try{n=JSON.parse(localStorage.getItem(i))}catch(r){n=null}return null===n?[]:n.data||[]},e.sismember=function(t,n,i){return this._getPrefixedKey(t,i),e.smembers(t).indexOf(n)>-1},e.getAll=function(){var t=Object.keys(localStorage);return t.map(function(t){return e.get(t)})},e.srem=function(t,n,i){var r,o,s=this._getPrefixedKey(t,i),a=e.smembers(t,n);o=a.indexOf(n),o>-1&&a.splice(o,1),r=JSON.stringify({data:a});try{localStorage.setItem(s,r)}catch(c){console&&console.warn("Lockr couldn't remove the "+n+" from the set "+t)}},e.rm=function(t){localStorage.removeItem(t)},e.flush=function(){localStorage.clear()},e})},function(t,e,n){var i;i=function(t){var e=n(1),i=n(2),r=(n(4),i.Router.extend({routes:{"app/:id":"_launchApp",menu:"show_menu","":"show_menu","authentication(?message=:message)":"show_auth"},launchApp:function(t,e,n){n=n||function(){},this.context.launchApp(t,e||{},function(e,i){return e?n(e):void this.navigate("app/"+t)}.bind(this))},_launchApp:function(t){this.launchApp(t)},show_menu:function(){e("#waiting_container").hide(),e("#mainContent").hide(),this.context.appClientView.hide(),this.context.closeApp(),this.context.appMenuView.show(),this.context.hideModalContainer(),this.context.menuShown=!0},show_auth:function(t){if(t){console.log(t),t.toString();var n=t.replace(/-/g," ");console.log(n),e("#add_err").html('<div class="error"> <i class="fa fa-exclamation-circle" aria-hidden="true"></i><span class="sr-only"> '+n+"</span></div>"),e("#add_err").show(),runAuth()}e.ajax({url:"authentication/logout",success:function(t){console.log(t)}}),e("#mainContent").show()},loadView:function(t){this.view&&this.view.remove(),this.view=t},setContext:function(t){this.context=t}}));return r}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var i;(function(r,o){i=function(t){var e=n(7),i=n(2),s=(n(4),n(9)),a={};return a.AppIconView=i.View.extend({tagName:"li",className:"app-icon",attributes:function(){return{display:this.model.get("icon_display")}},template:s.template(n(32)),initialize:function(){s.bindAll(this,"render"),this.model.bind("change",this.render)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}}),a.Authentication=i.View.extend({el:"#mainContent",template:s.template(n(33)),initialize:function(){this.render()},render:function(){return r(this.el).html(this.template()),this}}),a.AddAppView=i.View.extend({tagName:"li",className:"app-icon",template:s.template(n(31)),busy:!1,initialize:function(){s.bindAll(this,"render")},render:function(){return this.$el.html(this.template({})),this.$el.on("click",function(t){if(!this.busy){var e=n(5);e.browseForFiles(function(t){for(var i=[],o=0;o<t.target.files.length;o++)i.push({file:t.target.files[o]});this.busy=!0,r(".add-icon").removeClass("fa-plus").addClass("fa-cog fa-spin"),e.submitApps(i,{},function(t,i){function o(){r(".add-icon").removeClass("fa-cog fa-spin fa-exclamation-triangle").addClass("fa-plus")}this.busy=!1,t?(r(".add-icon").removeClass("fa-cog fa-spin").addClass("fa-exclamation-triangle"),e.notification("error","App could not be installed: <br/>"+(t.message||t)),setTimeout(o,1500)):(e.notification("success",i.length+" app"+(i.length>1?"s":"")+" installed successfully."),o());var s=n(3);s.apps.fetch()}.bind(this))}.bind(this))}}.bind(this)),this}}),a.AppMenuView=i.View.extend({tagName:"div",className:"app-menu",collection:null,initialize:function(t){s.bindAll(this,"render"),this.collection=t.collection,this.collection.bind("reset",this.render),this.collection.bind("add",this.render),this.collection.bind("remove",this.render),this.is_visible=!0,this.render()},render:function(){var t=o(this.el);return t.empty(),this.collection.forEach(function(e){var n=new a.AppIconView({model:e});t.append(n.render().el)}),t.append((new a.AddAppView).render().el),this},show:function(){this.is_visible=!0,r(this.el).show()},hide:function(){this.is_visible=!1,r(this.el).hide()}}),a.AppClientView=i.View.extend({tagName:"div",className:"app",model:new e.App,initialize:function(t){this.is_visible=!1,this.iframe=null,this.hard_refresh=!1,s.bindAll(this,"render")},render:function(t,e){var n=this.model.get("app_url")||"about:blank",i=o(this.el),s='<iframe class="app-iframe" id="app-iframe" sandbox="allow-scripts allow-same-origin" allowfullscreen></iframe>';i.html(s),this.iframe=r(i.children()[0]),t?this.iframe.one("load",function(){this.hardRefresh(e)}.bind(this)):this.iframe.one("load",e),this.iframe.attr("src",n)},hardRefresh:function(t){this.iframe.one("load",function(){t()}),this.iframe[0].contentWindow.location.reload(!0)},show:function(){r(this.el).css("visibility","visible"),this.is_visible=!0},hide:function(t){r(this.el).css("visibility","hidden"),this.is_visible=!1},setModel:function(t,e,n){t?(this.hard_refresh=e,this.model.set(t.toJSON())):this.model.clear(),this.render(e,n)}}),a}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}).call(e,n(1),n(1))},function(t,e,n){var i,r;(function(){function n(t){function e(e,n,i,r,o,s){for(;o>=0&&o<s;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=x(i,o,4);var s=!j(n)&&k.keys(n),a=(s||n).length,c=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[c]:c],c+=t),e(n,i,r,s,c,a)}}function o(t){return function(e,n,i){n=C(n,i);for(var r=O(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function s(t,e,n){return function(i,r,o){var s=0,a=O(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(d.call(i,s,a),k.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(i[o]===r)return o;return-1}}function a(t,e){var n=R.length,i=t.constructor,r=k.isFunction(i)&&i.prototype||h,o="constructor";
for(k.has(t,o)&&!k.contains(e,o)&&e.push(o);n--;)o=R[n],o in t&&t[o]!==r[o]&&!k.contains(e,o)&&e.push(o)}var c=this,u=c._,l=Array.prototype,h=Object.prototype,f=Function.prototype,p=l.push,d=l.slice,g=h.toString,m=h.hasOwnProperty,v=Array.isArray,y=Object.keys,b=f.bind,_=Object.create,w=function(){},k=function(t){return t instanceof k?t:this instanceof k?void(this._wrapped=t):new k(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=k),e._=k,k.VERSION="1.8.3";var x=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},C=function(t,e,n){return null==t?k.identity:k.isFunction(t)?x(t,e,n):k.isObject(t)?k.matcher(t):k.property(t)};k.iteratee=function(t,e){return C(t,e,1/0)};var A=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,c=0;c<a;c++){var u=s[c];e&&void 0!==n[u]||(n[u]=o[u])}return n}},T=function(t){if(!k.isObject(t))return{};if(_)return _(t);w.prototype=t;var e=new w;return w.prototype=null,e},E=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,O=E("length"),j=function(t){var e=O(t);return"number"==typeof e&&e>=0&&e<=S};k.each=k.forEach=function(t,e,n){e=x(e,n);var i,r;if(j(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=k.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},k.map=k.collect=function(t,e,n){e=C(e,n);for(var i=!j(t)&&k.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},k.reduce=k.foldl=k.inject=n(1),k.reduceRight=k.foldr=n(-1),k.find=k.detect=function(t,e,n){var i;if(i=j(t)?k.findIndex(t,e,n):k.findKey(t,e,n),void 0!==i&&i!==-1)return t[i]},k.filter=k.select=function(t,e,n){var i=[];return e=C(e,n),k.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},k.reject=function(t,e,n){return k.filter(t,k.negate(C(e)),n)},k.every=k.all=function(t,e,n){e=C(e,n);for(var i=!j(t)&&k.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},k.some=k.any=function(t,e,n){e=C(e,n);for(var i=!j(t)&&k.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},k.contains=k.includes=k.include=function(t,e,n,i){return j(t)||(t=k.values(t)),("number"!=typeof n||i)&&(n=0),k.indexOf(t,e,n)>=0},k.invoke=function(t,e){var n=d.call(arguments,2),i=k.isFunction(e);return k.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},k.pluck=function(t,e){return k.map(t,k.property(e))},k.where=function(t,e){return k.filter(t,k.matcher(e))},k.findWhere=function(t,e){return k.find(t,k.matcher(e))},k.max=function(t,e,n){var i,r,o=-(1/0),s=-(1/0);if(null==e&&null!=t){t=j(t)?t:k.values(t);for(var a=0,c=t.length;a<c;a++)i=t[a],i>o&&(o=i)}else e=C(e,n),k.each(t,function(t,n,i){r=e(t,n,i),(r>s||r===-(1/0)&&o===-(1/0))&&(o=t,s=r)});return o},k.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=j(t)?t:k.values(t);for(var a=0,c=t.length;a<c;a++)i=t[a],i<o&&(o=i)}else e=C(e,n),k.each(t,function(t,n,i){r=e(t,n,i),(r<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},k.shuffle=function(t){for(var e,n=j(t)?t:k.values(t),i=n.length,r=Array(i),o=0;o<i;o++)e=k.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},k.sample=function(t,e,n){return null==e||n?(j(t)||(t=k.values(t)),t[k.random(t.length-1)]):k.shuffle(t).slice(0,Math.max(0,e))},k.sortBy=function(t,e,n){return e=C(e,n),k.pluck(k.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var I=function(t){return function(e,n,i){var r={};return n=C(n,i),k.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};k.groupBy=I(function(t,e,n){k.has(t,n)?t[n].push(e):t[n]=[e]}),k.indexBy=I(function(t,e,n){t[n]=e}),k.countBy=I(function(t,e,n){k.has(t,n)?t[n]++:t[n]=1}),k.toArray=function(t){return t?k.isArray(t)?d.call(t):j(t)?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:j(t)?t.length:k.keys(t).length},k.partition=function(t,e,n){e=C(e,n);var i=[],r=[];return k.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},k.first=k.head=k.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:k.initial(t,t.length-e)},k.initial=function(t,e,n){return d.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},k.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:k.rest(t,Math.max(0,t.length-e))},k.rest=k.tail=k.drop=function(t,e,n){return d.call(t,null==e||n?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var N=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=O(t);s<a;s++){var c=t[s];if(j(c)&&(k.isArray(c)||k.isArguments(c))){e||(c=N(c,e,n));var u=0,l=c.length;for(r.length+=l;u<l;)r[o++]=c[u++]}else n||(r[o++]=c)}return r};k.flatten=function(t,e){return N(t,e,!1)},k.without=function(t){return k.difference(t,d.call(arguments,1))},k.uniq=k.unique=function(t,e,n,i){k.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=C(n,i));for(var r=[],o=[],s=0,a=O(t);s<a;s++){var c=t[s],u=n?n(c,s,t):c;e?(s&&o===u||r.push(c),o=u):n?k.contains(o,u)||(o.push(u),r.push(c)):k.contains(r,c)||r.push(c)}return r},k.union=function(){return k.uniq(N(arguments,!0,!0))},k.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=O(t);i<r;i++){var o=t[i];if(!k.contains(e,o)){for(var s=1;s<n&&k.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},k.difference=function(t){var e=N(arguments,!0,!0,1);return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){return k.unzip(arguments)},k.unzip=function(t){for(var e=t&&k.max(t,O).length||0,n=Array(e),i=0;i<e;i++)n[i]=k.pluck(t,i);return n},k.object=function(t,e){for(var n={},i=0,r=O(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},k.findIndex=o(1),k.findLastIndex=o(-1),k.sortedIndex=function(t,e,n,i){n=C(n,i,1);for(var r=n(e),o=0,s=O(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},k.indexOf=s(1,k.findIndex,k.sortedIndex),k.lastIndexOf=s(-1,k.findLastIndex),k.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var M=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=T(t.prototype),s=t.apply(o,r);return k.isObject(s)?s:o};k.bind=function(t,e){if(b&&t.bind===b)return b.apply(t,d.call(arguments,1));if(!k.isFunction(t))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),i=function(){return M(t,i,e,this,n.concat(d.call(arguments)))};return i},k.partial=function(t){var e=d.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;s<r;s++)o[s]=e[s]===k?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return M(t,n,this,this,o)};return n},k.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=k.bind(t[n],t);return t},k.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return k.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},k.delay=function(t,e){var n=d.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},k.defer=k.partial(k.delay,k,1),k.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var c=function(){a=n.leading===!1?0:k.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var u=k.now();a||n.leading!==!1||(a=u);var l=e-(u-a);return i=this,r=arguments,l<=0||l>e?(s&&(clearTimeout(s),s=null),a=u,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(c,l)),o}},k.debounce=function(t,e,n){var i,r,o,s,a,c=function(){var u=k.now()-s;u<e&&u>=0?i=setTimeout(c,e-u):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=k.now();var u=n&&!i;return i||(i=setTimeout(c,e)),u&&(a=t.apply(o,r),o=r=null),a}},k.wrap=function(t,e){return k.partial(e,t)},k.negate=function(t){return function(){return!t.apply(this,arguments)}},k.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},k.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},k.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},k.once=k.partial(k.before,2);var B=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];k.keys=function(t){if(!k.isObject(t))return[];if(y)return y(t);var e=[];for(var n in t)k.has(t,n)&&e.push(n);return B&&a(t,e),e},k.allKeys=function(t){if(!k.isObject(t))return[];var e=[];for(var n in t)e.push(n);return B&&a(t,e),e},k.values=function(t){for(var e=k.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},k.mapObject=function(t,e,n){e=C(e,n);for(var i,r=k.keys(t),o=r.length,s={},a=0;a<o;a++)i=r[a],s[i]=e(t[i],i,t);return s},k.pairs=function(t){for(var e=k.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},k.invert=function(t){for(var e={},n=k.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},k.functions=k.methods=function(t){var e=[];for(var n in t)k.isFunction(t[n])&&e.push(n);return e.sort()},k.extend=A(k.allKeys),k.extendOwn=k.assign=A(k.keys),k.findKey=function(t,e,n){e=C(e,n);for(var i,r=k.keys(t),o=0,s=r.length;o<s;o++)if(i=r[o],e(t[i],i,t))return i},k.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;k.isFunction(e)?(r=k.allKeys(s),i=x(e,n)):(r=N(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,c=r.length;a<c;a++){var u=r[a],l=s[u];i(l,u,s)&&(o[u]=l)}return o},k.omit=function(t,e,n){if(k.isFunction(e))e=k.negate(e);else{var i=k.map(N(arguments,!1,!1,1),String);e=function(t,e){return!k.contains(i,e)}}return k.pick(t,e,n)},k.defaults=A(k.allKeys,!0),k.create=function(t,e){var n=T(t);return e&&k.extendOwn(n,e),n},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t},k.isMatch=function(t,e){var n=k.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var P=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var r=g.call(t);if(r!==g.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(k.isFunction(s)&&s instanceof s&&k.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),o){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!P(t[c],e[c],n,i))return!1}else{var u,l=k.keys(t);if(c=l.length,k.keys(e).length!==c)return!1;for(;c--;)if(u=l[c],!k.has(e,u)||!P(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};k.isEqual=function(t,e){return P(t,e)},k.isEmpty=function(t){return null==t||(j(t)&&(k.isArray(t)||k.isString(t)||k.isArguments(t))?0===t.length:0===k.keys(t).length)},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=v||function(t){return"[object Array]"===g.call(t)},k.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},k.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){k["is"+t]=function(e){return g.call(e)==="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return k.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(k.isFunction=function(t){return"function"==typeof t||!1}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!==+t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===g.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return null!=t&&m.call(t,e)},k.noConflict=function(){return c._=u,this},k.identity=function(t){return t},k.constant=function(t){return function(){return t}},k.noop=function(){},k.property=E,k.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},k.matcher=k.matches=function(t){return t=k.extendOwn({},t),function(e){return k.isMatch(e,t)}},k.times=function(t,e,n){var i=Array(Math.max(0,t));e=x(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},k.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},k.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=k.invert(D),F=function(t){var e=function(e){return t[e]},n="(?:"+k.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};k.escape=F(D),k.unescape=F(H),k.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),k.isFunction(i)?i.call(t):i};var U=0;k.uniqueId=function(t){var e=++U+"";return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,J=function(t){return"\\"+q[t]};k.template=function(t,e,n){!e&&n&&(e=n),e=k.defaults({},e,k.templateSettings);var i=RegExp([(e.escape||z).source,(e.interpolate||z).source,(e.evaluate||z).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(L,J),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(a){throw a.source=o,a}var c=function(t){return s.call(this,t,k)},u=e.variable||"obj";return c.source="function("+u+"){\n"+o+"}",c},k.chain=function(t){var e=k(t);return e._chain=!0,e};var W=function(t,e){return t._chain?k(e).chain():e};k.mixin=function(t){k.each(k.functions(t),function(e){var n=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return p.apply(t,arguments),W(this,n.apply(k,t))}})},k.mixin(k),k.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=l[t];k.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],W(this,n)}}),k.each(["concat","join","slice"],function(t){var e=l[t];k.prototype[t]=function(){return W(this,e.apply(this._wrapped,arguments))}}),k.prototype.value=function(){return this._wrapped},k.prototype.valueOf=k.prototype.toJSON=k.prototype.value,k.prototype.toString=function(){return""+this._wrapped},i=[],r=function(){return k}.apply(e,i),!(void 0!==r&&(t.exports=r))}).call(this)},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){var i,i;!function(e){t.exports=e()}(function(){var t;return function e(t,n,r){function o(a,c){if(!n[a]){if(!t[a]){var u="function"==typeof i&&i;if(!c&&u)return i(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var s="function"==typeof i&&i,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":2}],2:[function(t,e,n){function i(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=r(t),o=i.source,u=i.id;return e.forceNew||e["force new connection"]||!1===e.multiplex?(a("ignoring socket cache for %s",o),n=s(o,e)):(c[u]||(a("new io instance for %s",o),c[u]=s(o,e)),n=c[u]),n.socket(i.path)}var r=t("./url"),o=t("socket.io-parser"),s=t("./manager"),a=t("debug")("socket.io-client");e.exports=n=i;var c=n.managers={};n.protocol=o.protocol,n.connect=i,n.Manager=t("./manager"),n.Socket=t("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:10,"socket.io-parser":44}],3:[function(t,e,n){function i(t,e){return this instanceof i?(t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=e.autoConnect!==!1,void(this.autoConnect&&this.open())):new i(t,e)}var r=(t("./url"),t("engine.io-client")),o=t("./socket"),s=t("component-emitter"),a=t("socket.io-parser"),c=t("./on"),u=t("component-bind"),l=(t("object-component"),t("debug")("socket.io-client:manager")),h=t("indexof"),f=t("backo2");e.exports=i,i.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)this.nsps[t].emit.apply(this.nsps[t],arguments)},i.prototype.updateSocketIds=function(){for(var t in this.nsps)this.nsps[t].id=this.engine.id},s(i.prototype),i.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},i.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},i.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},i.prototype.open=i.prototype.connect=function(t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var e=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var i=c(e,"open",function(){n.onopen(),t&&t()}),o=c(e,"error",function(e){if(l("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var i=new Error("Connection error");i.data=e,t(i)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;l("connect attempt will timeout after %d",s);var a=setTimeout(function(){l("connect attempt timed out after %d",s),i.destroy(),e.close(),e.emit("error","timeout"),n.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(a)}})}return this.subs.push(i),this.subs.push(o),this},i.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(c(t,"data",u(this,"ondata"))),this.subs.push(c(this.decoder,"decoded",u(this,"ondecoded"))),this.subs.push(c(t,"error",u(this,"onerror"))),this.subs.push(c(t,"close",u(this,"onclose")))},i.prototype.ondata=function(t){this.decoder.add(t)},i.prototype.ondecoded=function(t){this.emit("packet",t)},i.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},i.prototype.socket=function(t){var e=this.nsps[t];if(!e){e=new o(this,t),this.nsps[t]=e;var n=this;e.on("connect",function(){e.id=n.engine.id,~h(n.connected,e)||n.connected.push(e)})}return e},i.prototype.destroy=function(t){var e=h(this.connected,t);~e&&this.connected.splice(e,1),this.connected.length||this.close()},i.prototype.packet=function(t){l("writing packet %j",t);var e=this;e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(t){for(var n=0;n<t.length;n++)e.engine.write(t[n]);e.encoding=!1,e.processPacketQueue()}))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},i.prototype.cleanup=function(){for(var t;t=this.subs.shift();)t.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},i.prototype.onclose=function(t){l("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},i.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},{"./on":4,"./socket":5,"./url":6,backo2:7,"component-bind":8,"component-emitter":9,debug:10,"engine.io-client":11,indexof:40,"object-component":41,"socket.io-parser":44}],4:[function(t,e,n){function i(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}e.exports=i},{}],5:[function(t,e,n){function i(t,e){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var r=t("socket.io-parser"),o=t("component-emitter"),s=t("to-array"),a=t("./on"),c=t("component-bind"),u=t("debug")("socket.io-client:socket"),l=t("has-binary");e.exports=n=i;var h={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},f=o.prototype.emit;o(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",c(this,"onopen")),a(t,"packet",c(this,"onpacket")),a(t,"close",c(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},i.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},i.prototype.emit=function(t){if(h.hasOwnProperty(t))return f.apply(this,arguments),this;var e=s(arguments),n=r.EVENT;l(e)&&(n=r.BINARY_EVENT);var i={type:n,data:e};return"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this},i.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},i.prototype.onopen=function(){u("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:r.CONNECT})},i.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},i.prototype.onpacket=function(t){if(t.nsp==this.nsp)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(t);break;case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:this.onack(t);break;case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},i.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?f.apply(this,e):this.receiveBuffer.push(e)},i.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var i=s(arguments);u("sending ack %j",i);var o=l(i)?r.BINARY_ACK:r.ACK;e.packet({type:o,id:t,data:i})}}},i.prototype.onack=function(t){u("calling ack %s with %j",t.id,t.data);var e=this.acks[t.id];e.apply(this,t.data),delete this.acks[t.id]},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)f.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":4,"component-bind":8,"component-emitter":9,debug:10,"has-binary":36,"socket.io-parser":44,"to-array":48}],6:[function(t,e,n){(function(n){function i(t,e){var i=t,e=e||n.location;return null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"==t.charAt(0)&&(t="/"==t.charAt(1)?e.protocol+t:e.hostname+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t="undefined"!=typeof e?e.protocol+"//"+t:"https://"+t),o("parse %s",t),i=r(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/",i.id=i.protocol+"://"+i.host+":"+i.port,i.href=i.protocol+"://"+i.host+(e&&e.port==i.port?"":":"+i.port),i}var r=t("parseuri"),o=t("debug")("socket.io-client:url");e.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:10,parseuri:42}],7:[function(t,e,n){function i(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}e.exports=i,i.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(t){this.ms=t},i.prototype.setMax=function(t){this.max=t},i.prototype.setJitter=function(t){this.jitter=t}},{}],8:[function(t,e,n){var i=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=i.call(arguments,2);return function(){return e.apply(t,n.concat(i.call(arguments)))}}},{}],9:[function(t,e,n){function i(t){if(t)return r(t)}function r(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){i.off(t,n),e.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var i,r=0;r<n.length;r++)if(i=n[r],i===e||i.fn===e){n.splice(r,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],10:[function(t,e,n){function i(t){return i.enabled(t)?function(e){e=r(e);var n=new Date,o=n-(i[t]||n);i[t]=n,e=t+" "+e+" +"+i.humanize(o),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function r(t){return t instanceof Error?t.stack||t.message:t}e.exports=i,i.names=[],i.skips=[],i.enable=function(t){try{localStorage.debug=t}catch(e){}for(var n=(t||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)t=n[o].replace("*",".*?"),"-"===t[0]?i.skips.push(new RegExp("^"+t.substr(1)+"$")):i.names.push(new RegExp("^"+t+"$"))},i.disable=function(){i.enable("")},i.humanize=function(t){var e=1e3,n=6e4,i=60*n;return t>=i?(t/i).toFixed(1)+"h":t>=n?(t/n).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"},i.enabled=function(t){for(var e=0,n=i.skips.length;e<n;e++)if(i.skips[e].test(t))return!1;for(var e=0,n=i.names.length;e<n;e++)if(i.names[e].test(t))return!0;return!1};try{window.localStorage&&i.enable(localStorage.debug)}catch(o){}},{}],11:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":12}],12:[function(t,e,n){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":13,"engine.io-parser":25}],13:[function(t,e,n){(function(n){function i(t,e){if(!(this instanceof i))return new i(t,e);if(e=e||{},t&&"object"==typeof t&&(e=t,t=null),t&&(t=l(t),e.host=t.host,e.secure="https"==t.protocol||"wss"==t.protocol,e.port=t.port,t.query&&(e.query=t.query)),this.secure=null!=e.secure?e.secure:n.location&&"https:"==location.protocol,e.host){var r=e.host.split(":");e.hostname=r.shift(),r.length?e.port=r.pop():e.port||(e.port=this.secure?"443":"80")}this.agent=e.agent||!1,this.hostname=e.hostname||(n.location?location.hostname:"localhost"),this.port=e.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=e.rejectUnauthorized||null,this.open()}function r(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var o=t("./transports"),s=t("component-emitter"),a=t("debug")("engine.io-client:socket"),c=t("indexof"),u=t("engine.io-parser"),l=t("parseuri"),h=t("parsejson"),f=t("parseqs");e.exports=i,i.priorWebsocketSuccess=!1,s(i.prototype),i.protocol=u.protocol,i.Socket=i,i.Transport=t("./transport"),i.transports=t("./transports"),i.parser=t("engine.io-parser"),i.prototype.createTransport=function(t){a('creating transport "%s"',t);var e=r(this.query);e.EIO=u.protocol,e.transport=t,this.id&&(e.sid=this.id);var n=new o[t]({agent:this.agent,hostname:this.hostname,
port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return n},i.prototype.open=function(){var t;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)t="websocket";else{if(0==this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";var t;try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},i.prototype.setTransport=function(t){a("setting transport %s",t.name);var e=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},i.prototype.probe=function(t){function e(){if(f.onlyBinaryUpgrades){var e=!this.supportsBinary&&f.transport.supportsBinary;h=h||e}h||(a('probe transport "%s" opened',t),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(e){if(!h)if("pong"==e.type&&"probe"==e.data){if(a('probe transport "%s" pong',t),f.upgrading=!0,f.emit("upgrading",l),!l)return;i.priorWebsocketSuccess="websocket"==l.name,a('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){h||"closed"!=f.readyState&&(a("changing transport and sending upgrade packet"),u(),f.setTransport(l),l.send([{type:"upgrade"}]),f.emit("upgrade",l),l=null,f.upgrading=!1,f.flush())})}else{a('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=l.name,f.emit("upgradeError",n)}}))}function n(){h||(h=!0,u(),l.close(),l=null)}function r(e){var i=new Error("probe error: "+e);i.transport=l.name,n(),a('probe transport "%s" failed because of error: %s',t,e),f.emit("upgradeError",i)}function o(){r("transport closed")}function s(){r("socket closed")}function c(t){l&&t.name!=l.name&&(a('"%s" works - aborting "%s"',t.name,l.name),n())}function u(){l.removeListener("open",e),l.removeListener("error",r),l.removeListener("close",o),f.removeListener("close",s),f.removeListener("upgrading",c)}a('probing transport "%s"',t);var l=this.createTransport(t,{probe:1}),h=!1,f=this;i.priorWebsocketSuccess=!1,l.once("open",e),l.once("error",r),l.once("close",o),this.once("close",s),this.once("upgrading",c),l.open()},i.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},i.prototype.onPacket=function(t){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(h(t.data));break;case"pong":this.setPing();break;case"error":var e=new Error("server error");e.code=t.data,this.emit("error",e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else a('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!=e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},i.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},i.prototype.ping=function(){this.sendPacket("ping")},i.prototype.onDrain=function(){for(var t=0;t<this.prevBufferLen;t++)this.callbackBuffer[t]&&this.callbackBuffer[t]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(t,e){return this.sendPacket("message",t,e),this},i.prototype.sendPacket=function(t,e,n){if("closing"!=this.readyState&&"closed"!=this.readyState){var i={type:t,data:e};this.emit("packetCreate",i),this.writeBuffer.push(i),this.callbackBuffer.push(n),this.flush()}},i.prototype.close=function(){function t(){i.onClose("forced close"),a("socket closing - telling transport to close"),i.transport.close()}function e(){i.removeListener("upgrade",e),i.removeListener("upgradeError",e),t()}function n(){i.once("upgrade",e),i.once("upgradeError",e)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},i.prototype.onError=function(t){a("socket error %j",t),i.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},i.prototype.onClose=function(t,e){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){a('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e)}},i.prototype.filterUpgrades=function(t){for(var e=[],n=0,i=t.length;n<i;n++)~c(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":14,"./transports":15,"component-emitter":9,debug:22,"engine.io-parser":25,indexof:40,parsejson:32,parseqs:33,parseuri:34}],14:[function(t,e,n){function i(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized}var r=t("engine.io-parser"),o=t("component-emitter");e.exports=i,o(i.prototype),i.timestamps=0,i.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},i.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(t){if("open"!=this.readyState)throw new Error("Transport not open");this.write(t)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},i.prototype.onPacket=function(t){this.emit("packet",t)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":9,"engine.io-parser":25}],15:[function(t,e,n){(function(e){function i(t){var n,i=!1,a=!1,c=!1!==t.jsonp;if(e.location){var u="https:"==location.protocol,l=location.port;l||(l=u?443:80),i=t.hostname!=location.hostname||l!=t.port,a=t.secure!=u}if(t.xdomain=i,t.xscheme=a,n=new r(t),"open"in n&&!t.forceJSONP)return new o(t);if(!c)throw new Error("JSONP disabled");return new s(t)}var r=t("xmlhttprequest"),o=t("./polling-xhr"),s=t("./polling-jsonp"),a=t("./websocket");n.polling=i,n.websocket=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(t,e,n){(function(n){function i(){}function r(t){o.call(this,t),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var e=this;a.push(function(t){e.onData(t)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=i)},!1)}var o=t("./polling"),s=t("component-inherit");e.exports=r;var a,c=/\n/g,u=/\\n/g;s(r,o),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},r.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),this.script=e;var i="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},r.prototype.doWrite=function(t,e){function n(){i(),e()}function i(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';o=document.createElement(e)}catch(t){o=document.createElement("iframe"),o.name=r.iframeId,o.src="javascript:0"}o.id=r.iframeId,r.form.appendChild(o),r.iframe=o}var r=this;if(!this.form){var o,s=document.createElement("form"),a=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=l,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),i(),t=t.replace(u,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==r.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-inherit":21}],17:[function(t,e,n){(function(n){function i(){}function r(t){if(c.call(this,t),n.location){var e="https:"==location.protocol,i=location.port;i||(i=e?443:80),this.xd=t.hostname!=n.location.hostname||i!=t.port,this.xs=t.secure!=e}}function o(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!=t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.create()}function s(){for(var t in o.requests)o.requests.hasOwnProperty(t)&&o.requests[t].abort()}var a=t("xmlhttprequest"),c=t("./polling"),u=t("component-emitter"),l=t("component-inherit"),h=t("debug")("engine.io-client:polling-xhr");e.exports=r,e.exports.Request=o,l(r,c),r.prototype.supportsBinary=!0,r.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,new o(t)},r.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,i=this.request({method:"POST",data:t,isBinary:n}),r=this;i.on("success",e),i.on("error",function(t){r.onError("xhr post error",t)}),this.sendXhr=i},r.prototype.doPoll=function(){h("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},u(o.prototype),o.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new a(t),i=this;try{if(h("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async),this.supportsBinary&&(e.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}"withCredentials"in e&&(e.withCredentials=!0),this.hasXDR()?(e.onload=function(){i.onLoad()},e.onerror=function(){i.onError(e.responseText)}):e.onreadystatechange=function(){4==e.readyState&&(200==e.status||1223==e.status?i.onLoad():setTimeout(function(){i.onError(e.status)},0))},h("xhr data %s",this.data),e.send(this.data)}catch(r){return void setTimeout(function(){i.onError(r)},0)}n.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},o.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},o.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,t)try{this.xhr.abort()}catch(e){}n.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}t="application/octet-stream"===e?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(n){this.onError(n)}null!=t&&this.onData(t)},o.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},n.document&&(o.requestsCount=0,o.requests={},n.attachEvent?n.attachEvent("onunload",s):n.addEventListener&&n.addEventListener("beforeunload",s,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":18,"component-emitter":9,"component-inherit":21,debug:22,xmlhttprequest:20}],18:[function(t,e,n){function i(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),r.call(this,t)}var r=t("../transport"),o=t("parseqs"),s=t("engine.io-parser"),a=t("component-inherit"),c=t("debug")("engine.io-client:polling");e.exports=i;var u=function(){var e=t("xmlhttprequest"),n=new e({xdomain:!1});return null!=n.responseType}();a(i,r),i.prototype.name="polling",i.prototype.doOpen=function(){this.poll()},i.prototype.pause=function(t){function e(){c("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){c("pre-pause polling complete"),--i||e()})),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",function(){c("pre-pause writing complete"),--i||e()}))}else e()},i.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},i.prototype.onData=function(t){var e=this;c("polling got data %s",t);var n=function(t,n,i){return"opening"==e.readyState&&e.onOpen(),"close"==t.type?(e.onClose(),!1):void e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},i.prototype.doClose=function(){function t(){c("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},i.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")},e=this;s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},i.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=+new Date+"-"+r.timestamps++),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,xmlhttprequest:20}],19:[function(t,e,n){function i(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),r.call(this,t)}var r=t("../transport"),o=t("engine.io-parser"),s=t("parseqs"),a=t("component-inherit"),c=t("debug")("engine.io-client:websocket"),u=t("ws");e.exports=i,a(i,r),i.prototype.name="websocket",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,n={agent:this.agent};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.ws=new u(t,e,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},i.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(i.prototype.onData=function(t){var e=this;setTimeout(function(){r.prototype.onData.call(e,t)},0)}),i.prototype.write=function(t){function e(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var i=0,r=t.length;i<r;i++)o.encodePacket(t[i],this.supportsBinary,function(t){try{n.ws.send(t)}catch(e){c("websocket closed before onclose event")}});setTimeout(e,0)},i.prototype.onClose=function(){r.prototype.onClose.call(this)},i.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},i.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=+new Date),this.supportsBinary||(t.b64=1),t=s.encode(t),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t},i.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===i.prototype.name)}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,ws:35}],20:[function(t,e,n){var i=t("has-cors");e.exports=function(t){var e=t.xdomain,n=t.xscheme,r=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||i))return new XMLHttpRequest}catch(o){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(o){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(o){}}},{"has-cors":38}],21:[function(t,e,n){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],22:[function(t,e,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var i="color: "+this.color;t=[t[0],i,"color: inherit"].concat(Array.prototype.slice.call(t,1));var r=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))}),t.splice(o,0,i),t}function o(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?localStorage.removeItem("debug"):localStorage.debug=t}catch(e){}}function a(){var t;try{t=localStorage.debug}catch(e){}return t}n=e.exports=t("./debug"),n.log=o,n.formatArgs=r,n.save=s,n.load=a,n.useColors=i,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(a())},{"./debug":23}],23:[function(t,e,n){function i(){return n.colors[l++%n.colors.length]}function r(t){function e(){}function r(){var t=r,e=+new Date,o=e-(u||e);t.diff=o,t.prev=u,t.curr=e,u=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=i());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(e,i){if("%%"===e)return e;a++;var r=n.formatters[i];if("function"==typeof r){var o=s[a];e=r.call(t,o),s.splice(a,1),a--}return e}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(t,s));var c=r.log||n.log||console.log.bind(console);c.apply(t,s)}e.enabled=!1,r.enabled=!0;var o=n.enabled(t)?r:e;return o.namespace=t,o}function o(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),i=e.length,r=0;r<i;r++)e[r]&&(t=e[r].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function s(){n.enable("")}function a(t){var e,i;for(e=0,i=n.skips.length;e<i;e++)if(n.skips[e].test(t))return!1;for(e=0,i=n.names.length;e<i;e++)if(n.names[e].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=r,n.coerce=c,n.disable=s,n.enable=o,n.enabled=a,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var u,l=0},{ms:24}],24:[function(t,e,n){function i(t){var e=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"y":return n*h;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"h":return n*u;case"minutes":case"minute":case"m":return n*c;case"seconds":case"second":case"s":return n*a;case"ms":return n}}}function r(t){return t>=l?Math.round(t/l)+"d":t>=u?Math.round(t/u)+"h":t>=c?Math.round(t/c)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function o(t){return s(t,l,"day")||s(t,u,"hour")||s(t,c,"minute")||s(t,a,"second")||t+" ms"}function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,c=60*a,u=60*c,l=24*u,h=365.25*l;e.exports=function(t,e){return e=e||{},"string"==typeof t?i(t):e["long"]?o(t):r(t)}},{}],25:[function(t,e,n){(function(e){function i(t,e){var i="b"+n.packets[t.type]+t.data.data;return e(i)}function r(t,e,i){if(!e)return n.encodeBase64Packet(t,i);var r=t.data,o=new Uint8Array(r),s=new Uint8Array(1+r.byteLength);s[0]=v[t.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return i(s.buffer)}function o(t,e,i){if(!e)return n.encodeBase64Packet(t,i);var r=new FileReader;return r.onload=function(){t.data=r.result,n.encodePacket(t,e,!0,i)},r.readAsArrayBuffer(t.data)}function s(t,e,i){if(!e)return n.encodeBase64Packet(t,i);if(m)return o(t,e,i);var r=new Uint8Array(1);r[0]=v[t.type];var s=new _([r.buffer,t.data]);return i(s)}function a(t,e,n){for(var i=new Array(t.length),r=f(t.length,n),o=function(t,n,r){e(n,function(e,n){i[t]=n,r(e,i)})},s=0;s<t.length;s++)o(s,t[s],r)}var c=t("./keys"),u=t("has-binary"),l=t("arraybuffer.slice"),h=t("base64-arraybuffer"),f=t("after"),p=t("utf8"),d=navigator.userAgent.match(/Android/i),g=/PhantomJS/i.test(navigator.userAgent),m=d||g;n.protocol=3;var v=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},y=c(v),b={type:"error",data:"parser error"},_=t("blob");n.encodePacket=function(t,n,o,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof o&&(a=o,o=null);var c=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&c instanceof ArrayBuffer)return r(t,n,a);if(_&&c instanceof e.Blob)return s(t,n,a);if(c&&c.base64)return i(t,a);var u=v[t.type];return void 0!==t.data&&(u+=o?p.encode(String(t.data)):String(t.data)),a(""+u)},n.encodeBase64Packet=function(t,i){var r="b"+n.packets[t.type];if(_&&t.data instanceof _){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];i(r+t)},o.readAsDataURL(t.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(a){for(var c=new Uint8Array(t.data),u=new Array(c.length),l=0;l<c.length;l++)u[l]=c[l];s=String.fromCharCode.apply(null,u)}return r+=e.btoa(s),i(r)},n.decodePacket=function(t,e,i){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return n.decodeBase64Packet(t.substr(1),e);if(i)try{t=p.decode(t)}catch(r){return b}var o=t.charAt(0);return Number(o)==o&&y[o]?t.length>1?{type:y[o],data:t.substring(1)}:{type:y[o]}:b}var s=new Uint8Array(t),o=s[0],a=l(t,1);return _&&"blob"===e&&(a=new _([a])),{type:y[o],data:a}},n.decodeBase64Packet=function(t,n){var i=y[t.charAt(0)];if(!e.ArrayBuffer)return{type:i,data:{base64:!0,data:t.substr(1)}};var r=h.decode(t.substr(1));return"blob"===n&&_&&(r=new _([r])),{type:i,data:r}},n.encodePayload=function(t,e,i){function r(t){return t.length+":"+t}function o(t,i){n.encodePacket(t,!!s&&e,!0,function(t){i(null,r(t))})}"function"==typeof e&&(i=e,e=null);var s=u(t);return e&&s?_&&!m?n.encodePayloadAsBlob(t,i):n.encodePayloadAsArrayBuffer(t,i):t.length?void a(t,o,function(t,e){return i(e.join(""))}):i("0:")},n.decodePayload=function(t,e,i){if("string"!=typeof t)return n.decodePayloadAsBinary(t,e,i);"function"==typeof e&&(i=e,e=null);var r;if(""==t)return i(b,0,1);for(var o,s,a="",c=0,u=t.length;c<u;c++){var l=t.charAt(c);if(":"!=l)a+=l;else{if(""==a||a!=(o=Number(a)))return i(b,0,1);if(s=t.substr(c+1,o),a!=s.length)return i(b,0,1);if(s.length){if(r=n.decodePacket(s,e,!0),b.type==r.type&&b.data==r.data)return i(b,0,1);var h=i(r,c+o,u);if(!1===h)return}c+=o,a=""}}return""!=a?i(b,0,1):void 0},n.encodePayloadAsArrayBuffer=function(t,e){function i(t,e){n.encodePacket(t,!0,!0,function(t){return e(null,t)})}return t.length?void a(t,i,function(t,n){var i=n.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),r=new Uint8Array(i),o=0;return n.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(s);n=i.buffer}e?r[o++]=0:r[o++]=1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)r[o++]=parseInt(a[s]);r[o++]=255;for(var i=new Uint8Array(n),s=0;s<i.length;s++)r[o++]=i[s]}),e(r.buffer)}):e(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(t,e){function i(t,e){n.encodePacket(t,!0,!0,function(t){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof t){for(var i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);t=i.buffer,n[0]=0}for(var o=t instanceof ArrayBuffer?t.byteLength:t.size,s=o.toString(),a=new Uint8Array(s.length+1),r=0;r<s.length;r++)a[r]=parseInt(s[r]);if(a[s.length]=255,_){var c=new _([n.buffer,a.buffer,t]);e(null,c)}})}a(t,i,function(t,n){return e(new _(n))})},n.decodePayloadAsBinary=function(t,e,i){"function"==typeof e&&(i=e,e=null);for(var r=t,o=[],s=!1;r.byteLength>0;){for(var a=new Uint8Array(r),c=0===a[0],u="",h=1;255!=a[h];h++){if(u.length>310){s=!0;break}u+=a[h]}if(s)return i(b,0,1);r=l(r,2+u.length),u=parseInt(u);var f=l(r,0,u);if(c)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(p){var d=new Uint8Array(f);f="";for(var h=0;h<d.length;h++)f+=String.fromCharCode(d[h])}o.push(f),r=l(r,u)}var g=o.length;o.forEach(function(t,r){i(n.decodePacket(t,e,!0),r,g)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":26,after:27,"arraybuffer.slice":28,"base64-arraybuffer":29,blob:30,"has-binary":36,utf8:31}],26:[function(t,e,n){e.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var i in t)n.call(t,i)&&e.push(i);return e}},{}],27:[function(t,e,n){function i(t,e,n){function i(t,r){if(i.count<=0)throw new Error("after called too many times");--i.count,t?(o=!0,e(t),e=n):0!==i.count||o||e(null,r)}var o=!1;return n=n||r,i.count=t,0===t?e():i}function r(){}e.exports=i},{}],28:[function(t,e,n){e.exports=function(t,e,n){var i=t.byteLength;if(e=e||0,n=n||i,t.slice)return t.slice(e,n);if(e<0&&(e+=i),n<0&&(n+=i),n>i&&(n=i),e>=i||e>=n||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(t),o=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)o[a]=r[s];return o.buffer}},{}],29:[function(t,e,n){!function(t){"use strict";n.encode=function(e){var n,i=new Uint8Array(e),r=i.length,o="";for(n=0;n<r;n+=3)o+=t[i[n]>>2],o+=t[(3&i[n])<<4|i[n+1]>>4],o+=t[(15&i[n+1])<<2|i[n+2]>>6],o+=t[63&i[n+2]];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},n.decode=function(e){var n,i,r,o,s,a=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),h=new Uint8Array(l);for(n=0;n<c;n+=4)i=t.indexOf(e[n]),r=t.indexOf(e[n+1]),o=t.indexOf(e[n+2]),s=t.indexOf(e[n+3]),h[u++]=i<<2|r>>4,h[u++]=(15&r)<<4|o>>2,h[u++]=(3&o)<<6|63&s;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],30:[function(t,e,n){(function(t){function n(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var i=n.buffer;if(n.byteLength!==i.byteLength){var r=new Uint8Array(n.byteLength);r.set(new Uint8Array(i,n.byteOffset,n.byteLength)),i=r.buffer}t[e]=i}}}function i(t,e){e=e||{};var i=new o;n(t);for(var r=0;r<t.length;r++)i.append(t[r]);return e.type?i.getBlob(e.type):i.getBlob()}function r(t,e){return n(t),new Blob(t,e||{})}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,s=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(e){return!1}}(),a=s&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(e){return!1}}(),c=o&&o.prototype.append&&o.prototype.getBlob;e.exports=function(){return s?a?t.Blob:r:c?i:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(e,n,i){(function(e){!function(r){function o(t){for(var e,n,i=[],r=0,o=t.length;r<o;)e=t.charCodeAt(r++),e>=55296&&e<=56319&&r<o?(n=t.charCodeAt(r++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--)):i.push(e);return i}function s(t){for(var e,n=t.length,i=-1,r="";++i<n;)e=t[i],e>65535&&(e-=65536,r+=_(e>>>10&1023|55296),e=56320|1023&e),r+=_(e);return r}function a(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function c(t,e){return _(t>>e&63|128)}function u(t){if(0==(4294967168&t))return _(t);var e="";return 0==(4294965248&t)?e=_(t>>6&31|192):0==(4294901760&t)?(a(t),e=_(t>>12&15|224),e+=c(t,6)):0==(4292870144&t)&&(e=_(t>>18&7|240),e+=c(t,12),e+=c(t,6)),e+=_(63&t|128)}function l(t){for(var e,n=o(t),i=n.length,r=-1,s="";++r<i;)e=n[r],s+=u(e);return s}function h(){if(b>=y)throw Error("Invalid byte index");var t=255&v[b];if(b++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function f(){var t,e,n,i,r;if(b>y)throw Error("Invalid byte index");if(b==y)return!1;if(t=255&v[b],b++,0==(128&t))return t;if(192==(224&t)){var e=h();if(r=(31&t)<<6|e,r>=128)return r;throw Error("Invalid continuation byte");
}if(224==(240&t)){if(e=h(),n=h(),r=(15&t)<<12|e<<6|n,r>=2048)return a(r),r;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=h(),n=h(),i=h(),r=(15&t)<<18|e<<12|n<<6|i,r>=65536&&r<=1114111))return r;throw Error("Invalid UTF-8 detected")}function p(t){v=o(t),y=v.length,b=0;for(var e,n=[];(e=f())!==!1;)n.push(e);return s(n)}var d="object"==typeof i&&i,g="object"==typeof n&&n&&n.exports==d&&n,m="object"==typeof e&&e;m.global!==m&&m.window!==m||(r=m);var v,y,b,_=String.fromCharCode,w={version:"2.0.0",encode:l,decode:p};if("function"==typeof t&&"object"==typeof t.amd&&t.amd)t(function(){return w});else if(d&&!d.nodeType)if(g)g.exports=w;else{var k={},x=k.hasOwnProperty;for(var C in w)x.call(w,C)&&(d[C]=w[C])}else r.utf8=w}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(t,e,n){(function(t){var n=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(s,"").replace(a,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(i,"@").replace(r,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(t,e,n){n.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},n.decode=function(t){for(var e={},n=t.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},{}],34:[function(t,e,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,n=t.indexOf("["),o=t.indexOf("]");n!=-1&&o!=-1&&(t=t.substring(0,n)+t.substring(n,o).replace(/:/g,";")+t.substring(o,t.length));for(var s=i.exec(t||""),a={},c=14;c--;)a[r[c]]=s[c]||"";return n!=-1&&o!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],35:[function(t,e,n){function i(t,e,n){var i;return i=e?new o(t,e):new o(t)}var r=function(){return this}(),o=r.WebSocket||r.MozWebSocket;e.exports=o?i:null,o&&(i.prototype=o.prototype)},{}],36:[function(t,e,n){(function(n){function i(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(r(t)){for(var i=0;i<t.length;i++)if(e(t[i]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&e(t[o]))return!0}return!1}return e(t)}var r=t("isarray");e.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:37}],37:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],38:[function(t,e,n){var i=t("global");try{e.exports="XMLHttpRequest"in i&&"withCredentials"in new i.XMLHttpRequest}catch(r){e.exports=!1}},{global:39}],39:[function(t,e,n){e.exports=function(){return this}()},{}],40:[function(t,e,n){var i=[].indexOf;e.exports=function(t,e){if(i)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],41:[function(t,e,n){var i=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},n.values=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(t[n]);return e},n.merge=function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);return t},n.length=function(t){return n.keys(t).length},n.isEmpty=function(t){return 0==n.length(t)}},{}],42:[function(t,e,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){for(var e=i.exec(t||""),n={},o=14;o--;)n[r[o]]=e[o]||"";return n}},{}],43:[function(t,e,n){(function(e){var i=t("isarray"),r=t("./is-buffer");n.deconstructPacket=function(t){function e(t){if(!t)return t;if(r(t)){var o={_placeholder:!0,num:n.length};return n.push(t),o}if(i(t)){for(var s=new Array(t.length),a=0;a<t.length;a++)s[a]=e(t[a]);return s}if("object"==typeof t&&!(t instanceof Date)){var s={};for(var c in t)s[c]=e(t[c]);return s}return t}var n=[],o=t.data,s=t;return s.data=e(o),s.attachments=n.length,{packet:s,buffers:n}},n.reconstructPacket=function(t,e){function n(t){if(t&&t._placeholder){var r=e[t.num];return r}if(i(t)){for(var o=0;o<t.length;o++)t[o]=n(t[o]);return t}if(t&&"object"==typeof t){for(var s in t)t[s]=n(t[s]);return t}return t}return t.data=n(t.data),t.attachments=void 0,t},n.removeBlobs=function(t,n){function o(t,c,u){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){s++;var l=new FileReader;l.onload=function(){u?u[c]=this.result:a=this.result,--s||n(a)},l.readAsArrayBuffer(t)}else if(i(t))for(var h=0;h<t.length;h++)o(t[h],h,t);else if(t&&"object"==typeof t&&!r(t))for(var f in t)o(t[f],f,t)}var s=0,a=t;o(a),s||n(a)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":45,isarray:46}],44:[function(t,e,n){function i(){}function r(t){var e="",i=!1;return e+=t.type,n.BINARY_EVENT!=t.type&&n.BINARY_ACK!=t.type||(e+=t.attachments,e+="-"),t.nsp&&"/"!=t.nsp&&(i=!0,e+=t.nsp),null!=t.id&&(i&&(e+=",",i=!1),e+=t.id),null!=t.data&&(i&&(e+=","),e+=h.stringify(t.data)),l("encoded %j as %s",t,e),e}function o(t,e){function n(t){var n=p.deconstructPacket(t),i=r(n.packet),o=n.buffers;o.unshift(i),e(o)}p.removeBlobs(t,n)}function s(){this.reconstructor=null}function a(t){var e={},i=0;if(e.type=Number(t.charAt(0)),null==n.types[e.type])return u();if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type){for(var r="";"-"!=t.charAt(++i)&&(r+=t.charAt(i),i!=t.length););if(r!=Number(r)||"-"!=t.charAt(i))throw new Error("Illegal attachments");e.attachments=Number(r)}if("/"==t.charAt(i+1))for(e.nsp="";++i;){var o=t.charAt(i);if(","==o)break;if(e.nsp+=o,i==t.length)break}else e.nsp="/";var s=t.charAt(i+1);if(""!==s&&Number(s)==s){for(e.id="";++i;){var o=t.charAt(i);if(null==o||Number(o)!=o){--i;break}if(e.id+=t.charAt(i),i==t.length)break}e.id=Number(e.id)}if(t.charAt(++i))try{e.data=h.parse(t.substr(i))}catch(a){return u()}return l("decoded %s as %j",t,e),e}function c(t){this.reconPack=t,this.buffers=[]}function u(t){return{type:n.ERROR,data:"parser error"}}var l=t("debug")("socket.io-parser"),h=t("json3"),f=(t("isarray"),t("component-emitter")),p=t("./binary"),d=t("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=i,n.Decoder=s,i.prototype.encode=function(t,e){if(l("encoding packet %j",t),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)o(t,e);else{var i=r(t);e([i])}},f(s.prototype),s.prototype.add=function(t){var e;if("string"==typeof t)e=a(t),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type?(this.reconstructor=new c(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!d(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,this.emit("decoded",e))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=p.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":43,"./is-buffer":45,"component-emitter":9,debug:10,isarray:46,json3:47}],45:[function(t,e,n){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(t,e,n){e.exports=t(37)},{}],47:[function(e,n,i){!function(e){function n(t){if(n[t]!==s)return n[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=n("json-stringify")&&n("json-parse");else{var i,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var o=l.stringify,c="function"==typeof o&&h;if(c){(i=function(){return 1}).toJSON=i;try{c="0"===o(0)&&"0"===o(new Number)&&'""'==o(new String)&&o(a)===s&&o(s)===s&&o()===s&&"1"===o(i)&&"[1]"==o([i])&&"[null]"==o([s])&&"null"==o(null)&&"[null,null,null]"==o([s,a,null])&&o({a:[i,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===o(null,i)&&"[\n 1,\n 2\n]"==o([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==o(new Date((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==o(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==o(new Date((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==o(new Date((-1)))}catch(u){c=!1}}e=c}if("json-parse"==t){var f=l.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){i=f(r);var p=5==i.a.length&&1===i.a[0];if(p){try{p=!f('"\t"')}catch(u){}if(p)try{p=1!==f("01")}catch(u){}if(p)try{p=1!==f("1.")}catch(u){}}}}catch(u){p=!1}e=p}}return n[t]=!!e}var r,o,s,a={}.toString,c="function"==typeof t&&t.amd,u="object"==typeof JSON&&JSON,l="object"==typeof i&&i&&!i.nodeType&&i;l&&u?(l.stringify=u.stringify,l.parse=u.parse):l=e.JSON=u||{};var h=new Date((-0xc782b5b800cec));try{h=h.getUTCFullYear()==-109252&&0===h.getUTCMonth()&&1===h.getUTCDate()&&10==h.getUTCHours()&&37==h.getUTCMinutes()&&6==h.getUTCSeconds()&&708==h.getUTCMilliseconds()}catch(f){}if(!n("json")){var p="[object Function]",d="[object Date]",g="[object Number]",m="[object String]",v="[object Array]",y="[object Boolean]",b=n("bug-string-char-index");if(!h)var _=Math.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],k=function(t,e){return w[e]+365*(t-1970)+_((t-1969+(e=+(e>1)))/4)-_((t-1901+e)/100)+_((t-1601+e)/400)};(r={}.hasOwnProperty)||(r=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=a?r=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,r=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,r.call(this,t)});var x={"boolean":1,number:1,string:1,undefined:1},C=function(t,e){var n=typeof t[e];return"object"==n?!!t[e]:!x[n]};if(o=function(t,e){var n,i,s,c=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(s in i)r.call(i,s)&&c++;return n=i=null,c?o=2==c?function(t,e){var n,i={},o=a.call(t)==p;for(n in t)o&&"prototype"==n||r.call(i,n)||!(i[n]=1)||!r.call(t,n)||e(n)}:function(t,e){var n,i,o=a.call(t)==p;for(n in t)o&&"prototype"==n||!r.call(t,n)||(i="constructor"===n)||e(n);(i||r.call(t,n="constructor"))&&e(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],o=function(t,e){var n,o,s=a.call(t)==p,c=!s&&"function"!=typeof t.constructor&&C(t,"hasOwnProperty")?t.hasOwnProperty:r;for(n in t)s&&"prototype"==n||!c.call(t,n)||e(n);for(o=i.length;n=i[--o];c.call(t,n)&&e(n));}),o(t,e)},!n("json-stringify")){var A={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T="000000",E=function(t,e){return(T+(e||0)).slice(-t)},S="\\u00",O=function(t){var e,n='"',i=0,r=t.length,o=r>10&&b;for(o&&(e=t.split(""));i<r;i++){var s=t.charCodeAt(i);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=A[s];break;default:if(s<32){n+=S+E(2,s.toString(16));break}n+=o?e[i]:b?t.charAt(i):t[i]}}return n+'"'},j=function(t,e,n,i,c,u,l){var h,f,p,b,w,x,C,A,T,S,I,N,M,B,R,P;try{h=e[t]}catch(D){}if("object"==typeof h&&h)if(f=a.call(h),f!=d||r.call(h,"toJSON"))"function"==typeof h.toJSON&&(f!=g&&f!=m&&f!=v||r.call(h,"toJSON"))&&(h=h.toJSON(t));else if(h>-1/0&&h<1/0){if(k){for(w=_(h/864e5),p=_(w/365.2425)+1970-1;k(p+1,0)<=w;p++);for(b=_((w-k(p,0))/30.42);k(p,b+1)<=w;b++);w=1+w-k(p,b),x=(h%864e5+864e5)%864e5,C=_(x/36e5)%24,A=_(x/6e4)%60,T=_(x/1e3)%60,S=x%1e3}else p=h.getUTCFullYear(),b=h.getUTCMonth(),w=h.getUTCDate(),C=h.getUTCHours(),A=h.getUTCMinutes(),T=h.getUTCSeconds(),S=h.getUTCMilliseconds();h=(p<=0||p>=1e4?(p<0?"-":"+")+E(6,p<0?-p:p):E(4,p))+"-"+E(2,b+1)+"-"+E(2,w)+"T"+E(2,C)+":"+E(2,A)+":"+E(2,T)+"."+E(3,S)+"Z"}else h=null;if(n&&(h=n.call(e,t,h)),null===h)return"null";if(f=a.call(h),f==y)return""+h;if(f==g)return h>-1/0&&h<1/0?""+h:"null";if(f==m)return O(""+h);if("object"==typeof h){for(B=l.length;B--;)if(l[B]===h)throw TypeError();if(l.push(h),I=[],R=u,u+=c,f==v){for(M=0,B=h.length;M<B;M++)N=j(M,h,n,i,c,u,l),I.push(N===s?"null":N);P=I.length?c?"[\n"+u+I.join(",\n"+u)+"\n"+R+"]":"["+I.join(",")+"]":"[]"}else o(i||h,function(t){var e=j(t,h,n,i,c,u,l);e!==s&&I.push(O(t)+":"+(c?" ":"")+e)}),P=I.length?c?"{\n"+u+I.join(",\n"+u)+"\n"+R+"}":"{"+I.join(",")+"}":"{}";return l.pop(),P}};l.stringify=function(t,e,n){var i,r,o,s;if("function"==typeof e||"object"==typeof e&&e)if((s=a.call(e))==p)r=e;else if(s==v){o={};for(var c,u=0,l=e.length;u<l;c=e[u++],s=a.call(c),(s==m||s==g)&&(o[c]=1));}if(n)if((s=a.call(n))==g){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else s==m&&(i=n.length<=10?n:n.slice(0,10));return j("",(c={},c[""]=t,c),r,o,i,"",[])}}if(!n("json-parse")){var I,N,M=String.fromCharCode,B={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},R=function(){throw I=N=null,SyntaxError()},P=function(){for(var t,e,n,i,r,o=N,s=o.length;I<s;)switch(r=o.charCodeAt(I)){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=b?o.charAt(I):o[I],I++,t;case 34:for(t="@",I++;I<s;)if(r=o.charCodeAt(I),r<32)R();else if(92==r)switch(r=o.charCodeAt(++I)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=B[r],I++;break;case 117:for(e=++I,n=I+4;I<n;I++)r=o.charCodeAt(I),r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70||R();t+=M("0x"+o.slice(e,I));break;default:R()}else{if(34==r)break;for(r=o.charCodeAt(I),e=I;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++I);t+=o.slice(e,I)}if(34==o.charCodeAt(I))return I++,t;R();default:if(e=I,45==r&&(i=!0,r=o.charCodeAt(++I)),r>=48&&r<=57){for(48==r&&(r=o.charCodeAt(I+1),r>=48&&r<=57)&&R(),i=!1;I<s&&(r=o.charCodeAt(I),r>=48&&r<=57);I++);if(46==o.charCodeAt(I)){for(n=++I;n<s&&(r=o.charCodeAt(n),r>=48&&r<=57);n++);n==I&&R(),I=n}if(r=o.charCodeAt(I),101==r||69==r){for(r=o.charCodeAt(++I),43!=r&&45!=r||I++,n=I;n<s&&(r=o.charCodeAt(n),r>=48&&r<=57);n++);n==I&&R(),I=n}return+o.slice(e,I)}if(i&&R(),"true"==o.slice(I,I+4))return I+=4,!0;if("false"==o.slice(I,I+5))return I+=5,!1;if("null"==o.slice(I,I+4))return I+=4,null;R()}return"$"},D=function(t){var e,n;if("$"==t&&R(),"string"==typeof t){if("@"==(b?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=P(),"]"!=t;n||(n=!0))n&&(","==t?(t=P(),"]"==t&&R()):R()),","==t&&R(),e.push(D(t));return e}if("{"==t){for(e={};t=P(),"}"!=t;n||(n=!0))n&&(","==t?(t=P(),"}"==t&&R()):R()),","!=t&&"string"==typeof t&&"@"==(b?t.charAt(0):t[0])&&":"==P()||R(),e[t.slice(1)]=D(P());return e}R()}return t},H=function(t,e,n){var i=F(t,e,n);i===s?delete t[e]:t[e]=i},F=function(t,e,n){var i,r=t[e];if("object"==typeof r&&r)if(a.call(r)==v)for(i=r.length;i--;)H(r,i,n);else o(r,function(t){H(r,t,n)});return n.call(t,e,r)};l.parse=function(t,e){var n,i;return I=0,N=""+t,n=D(P()),"$"!=P()&&R(),I=N=null,e&&a.call(e)==p?F((i={},i[""]=n,i),"",e):n}}}c&&t(function(){return l})}(this)},{}],48:[function(t,e,n){function i(t,e){var n=[];e=e||0;for(var i=e||0;i<t.length;i++)n[i-e]=t[i];return n}e.exports=i},{}]},{},[1])(1)})},function(t,e){t.exports='<a href="#">\n\t<div class="add">\n\t\t<span class="add-icon fa fa-plus "></span>\n\t</div>\n</a>\n<div class="add-title">\n\tInstall Apps...\n</div>'},function(t,e){t.exports='<a href="#/app/<%= id %>">\n\t<img style="background-color: <%= icon_background_color %>;" src="<%= icon_url %>" alt="<%= name %>">\n</a>\n<div class="app-title">\n\t<a href="#/app/<%= id %>"><%= name %></a>\n</div>'},function(t,e){t.exports='<div class="main">\n    <div class="err" id="add_err"></div>\n    <div class = "login_panel">\n      <div class="login_panel_header"><h1>Log In</h1><hr></div>\n      <form id= "login_form" action="/authentication/login" method="post">\n        <div>\n            <label>Username\n              <input type="text" name="username"/>\n            </label>\n        </div>\n        <div>\n            <label>Password\n              <input type="password" name="password"/>\n            </label>\n        </div>\n        <div>\n            <input class="button" type="submit" value="Log In"/>\n        </div>\n      </form>\n    </div>\n  </div>\n  '},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})}]);
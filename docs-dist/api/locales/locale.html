<!DOCTYPE html><html lang="en"><head><title>docs-dist/api/locales/locale</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../../"><meta name="groc-document-path" content="docs-dist/api/locales/locale"><meta name="groc-project-path" content="docs-dist/api/locales/locale.js"><link rel="stylesheet" type="text/css" media="all" href="../../../assets/style.css"><script type="text/javascript" src="../../../assets/behavior.js"></script><body><div id="meta"><div class="file-path">docs-dist/api/locales/locale.js</div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper">define([
    <span class="hljs-string">'./locales/ca.js'</span>,
    <span class="hljs-string">'./locales/de.js'</span>,
    <span class="hljs-string">'./locales/es.js'</span>,
    <span class="hljs-string">'./locales/fr.js'</span>,
    <span class="hljs-string">'./locales/it.js'</span>,
    <span class="hljs-string">'./locales/nl.js'</span>,
    <span class="hljs-string">'./locales/pl.js'</span>,
    <span class="hljs-string">'./locales/pt_br.js'</span>,
    <span class="hljs-string">'./locales/ro.js'</span>,
    <span class="hljs-string">'./locales/ru.js'</span>,
    <span class="hljs-string">'./locales/tr.js'</span>,
    <span class="hljs-string">'./locales/vi.js'</span>,
    <span class="hljs-string">'./locales/zh.js'</span>,
    <span class="hljs-string">'./locales/zh_cn.js'</span>
], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> langId = (navigator.language || navigator.userLanguage).toLowerCase().replace(<span class="hljs-string">'-'</span>, <span class="hljs-string">'_'</span>);
    <span class="hljs-keyword">var</span> language = langId.substr(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>);
    <span class="hljs-keyword">var</span> locales = {};

    <span class="hljs-keyword">for</span> (index <span class="hljs-keyword">in</span> <span class="hljs-built_in">arguments</span>) {
        <span class="hljs-keyword">for</span> (property <span class="hljs-keyword">in</span> <span class="hljs-built_in">arguments</span>[index])
            locales[property] = <span class="hljs-built_in">arguments</span>[index][property];
    }
    <span class="hljs-keyword">if</span> ( ! locales[<span class="hljs-string">'en'</span>])
        locales[<span class="hljs-string">'en'</span>] = {};

    <span class="hljs-keyword">if</span> ( ! locales[langId] &amp;&amp; ! locales[language])
        language = <span class="hljs-string">'en'</span>;

    <span class="hljs-keyword">var</span> locale = (locales[langId] ? locales[langId] : locales[language]);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__</span>(<span class="hljs-params">text</span>) </span>{
        <span class="hljs-keyword">var</span> index = locale[text];
        <span class="hljs-keyword">if</span> (index === <span class="hljs-literal">undefined</span>)
            <span class="hljs-keyword">return</span> text;
        <span class="hljs-keyword">return</span> index;
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setLanguage</span>(<span class="hljs-params">language</span>) </span>{
        locale = locales[language];
    }

    <span class="hljs-keyword">return</span> {
        __         : __,
        locales    : locales,
        locale     : locale,
        setLanguage: setLanguage
    };
});</div></div></div></div></body></html>